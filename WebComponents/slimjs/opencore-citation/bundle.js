/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(1);
__webpack_require__(2);
__webpack_require__(3);
module.exports = __webpack_require__(8);


/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function() {\n  'use strict';\n  // global for (1) existence means `WebComponentsReady` will file,\n  // (2) WebComponents.ready == true means event has fired.\n  window.WebComponents = window.WebComponents || {};\n  var name = 'webcomponents-loader.js';\n  // Feature detect which polyfill needs to be imported.\n  var polyfills = [];\n  if (!('import' in document.createElement('link'))) {\n    polyfills.push('hi');\n  }\n  if (!('attachShadow' in Element.prototype && 'getRootNode' in Element.prototype) ||\n    (window.ShadyDOM && window.ShadyDOM.force)) {\n    polyfills.push('sd');\n  }\n  if (!window.customElements || window.customElements.forcePolyfill) {\n    polyfills.push('ce');\n  }\n  // NOTE: any browser that does not have template or ES6 features\n  // must load the full suite (called `lite` for legacy reasons) of polyfills.\n  if (!('content' in document.createElement('template')) || !window.Promise || !Array.from ||\n    // Edge has broken fragment cloning which means you cannot clone template.content\n    !(document.createDocumentFragment().cloneNode() instanceof DocumentFragment)) {\n    polyfills = ['lite'];\n  }\n\n  if (polyfills.length) {\n    var script = document.querySelector('script[src*=\"' + name +'\"]');\n    var newScript = document.createElement('script');\n    // Load it from the right place.\n    var replacement = 'webcomponents-' + polyfills.join('-') + '.js';\n    var url = script.src.replace(name, replacement);\n    newScript.src = url;\n    // NOTE: this is required to ensure the polyfills are loaded before\n    // *native* html imports load on older Chrome versions. This *is* CSP\n    // compliant since CSP rules must have allowed this script to run.\n    // In all other cases, this can be async.\n    if (document.readyState === 'loading' && ('import' in document.createElement('link'))) {\n      document.write(newScript.outerHTML);\n    } else {\n      document.head.appendChild(newScript);\n    }\n  } else {\n    // Ensure `WebComponentsReady` is fired also when there are no polyfills loaded.\n    // however, we have to wait for the document to be in 'interactive' state,\n    // otherwise a rAF may fire before scripts in <body>\n\n    var fire = function() {\n      requestAnimationFrame(function() {\n        window.WebComponents.ready = true;\n        document.dispatchEvent(new CustomEvent('WebComponentsReady', {bubbles: true}));\n      });\n    };\n\n    if (document.readyState !== 'loading') {\n      fire();\n    } else {\n      document.addEventListener('readystatechange', function wait() {\n        fire();\n        document.removeEventListener('readystatechange', wait);\n      });\n    }\n  }\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJjb21wb25lbnRzLWxvYWRlci5qcz8zMjczIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsY0FBYztBQUNwRixPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gZ2xvYmFsIGZvciAoMSkgZXhpc3RlbmNlIG1lYW5zIGBXZWJDb21wb25lbnRzUmVhZHlgIHdpbGwgZmlsZSxcbiAgLy8gKDIpIFdlYkNvbXBvbmVudHMucmVhZHkgPT0gdHJ1ZSBtZWFucyBldmVudCBoYXMgZmlyZWQuXG4gIHdpbmRvdy5XZWJDb21wb25lbnRzID0gd2luZG93LldlYkNvbXBvbmVudHMgfHwge307XG4gIHZhciBuYW1lID0gJ3dlYmNvbXBvbmVudHMtbG9hZGVyLmpzJztcbiAgLy8gRmVhdHVyZSBkZXRlY3Qgd2hpY2ggcG9seWZpbGwgbmVlZHMgdG8gYmUgaW1wb3J0ZWQuXG4gIHZhciBwb2x5ZmlsbHMgPSBbXTtcbiAgaWYgKCEoJ2ltcG9ydCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpKSkge1xuICAgIHBvbHlmaWxscy5wdXNoKCdoaScpO1xuICB9XG4gIGlmICghKCdhdHRhY2hTaGFkb3cnIGluIEVsZW1lbnQucHJvdG90eXBlICYmICdnZXRSb290Tm9kZScgaW4gRWxlbWVudC5wcm90b3R5cGUpIHx8XG4gICAgKHdpbmRvdy5TaGFkeURPTSAmJiB3aW5kb3cuU2hhZHlET00uZm9yY2UpKSB7XG4gICAgcG9seWZpbGxzLnB1c2goJ3NkJyk7XG4gIH1cbiAgaWYgKCF3aW5kb3cuY3VzdG9tRWxlbWVudHMgfHwgd2luZG93LmN1c3RvbUVsZW1lbnRzLmZvcmNlUG9seWZpbGwpIHtcbiAgICBwb2x5ZmlsbHMucHVzaCgnY2UnKTtcbiAgfVxuICAvLyBOT1RFOiBhbnkgYnJvd3NlciB0aGF0IGRvZXMgbm90IGhhdmUgdGVtcGxhdGUgb3IgRVM2IGZlYXR1cmVzXG4gIC8vIG11c3QgbG9hZCB0aGUgZnVsbCBzdWl0ZSAoY2FsbGVkIGBsaXRlYCBmb3IgbGVnYWN5IHJlYXNvbnMpIG9mIHBvbHlmaWxscy5cbiAgaWYgKCEoJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpIHx8ICF3aW5kb3cuUHJvbWlzZSB8fCAhQXJyYXkuZnJvbSB8fFxuICAgIC8vIEVkZ2UgaGFzIGJyb2tlbiBmcmFnbWVudCBjbG9uaW5nIHdoaWNoIG1lYW5zIHlvdSBjYW5ub3QgY2xvbmUgdGVtcGxhdGUuY29udGVudFxuICAgICEoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmNsb25lTm9kZSgpIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkpIHtcbiAgICBwb2x5ZmlsbHMgPSBbJ2xpdGUnXTtcbiAgfVxuXG4gIGlmIChwb2x5ZmlsbHMubGVuZ3RoKSB7XG4gICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPVwiJyArIG5hbWUgKydcIl0nKTtcbiAgICB2YXIgbmV3U2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgLy8gTG9hZCBpdCBmcm9tIHRoZSByaWdodCBwbGFjZS5cbiAgICB2YXIgcmVwbGFjZW1lbnQgPSAnd2ViY29tcG9uZW50cy0nICsgcG9seWZpbGxzLmpvaW4oJy0nKSArICcuanMnO1xuICAgIHZhciB1cmwgPSBzY3JpcHQuc3JjLnJlcGxhY2UobmFtZSwgcmVwbGFjZW1lbnQpO1xuICAgIG5ld1NjcmlwdC5zcmMgPSB1cmw7XG4gICAgLy8gTk9URTogdGhpcyBpcyByZXF1aXJlZCB0byBlbnN1cmUgdGhlIHBvbHlmaWxscyBhcmUgbG9hZGVkIGJlZm9yZVxuICAgIC8vICpuYXRpdmUqIGh0bWwgaW1wb3J0cyBsb2FkIG9uIG9sZGVyIENocm9tZSB2ZXJzaW9ucy4gVGhpcyAqaXMqIENTUFxuICAgIC8vIGNvbXBsaWFudCBzaW5jZSBDU1AgcnVsZXMgbXVzdCBoYXZlIGFsbG93ZWQgdGhpcyBzY3JpcHQgdG8gcnVuLlxuICAgIC8vIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBjYW4gYmUgYXN5bmMuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJyAmJiAoJ2ltcG9ydCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpKSkge1xuICAgICAgZG9jdW1lbnQud3JpdGUobmV3U2NyaXB0Lm91dGVySFRNTCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3U2NyaXB0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRW5zdXJlIGBXZWJDb21wb25lbnRzUmVhZHlgIGlzIGZpcmVkIGFsc28gd2hlbiB0aGVyZSBhcmUgbm8gcG9seWZpbGxzIGxvYWRlZC5cbiAgICAvLyBob3dldmVyLCB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoZSBkb2N1bWVudCB0byBiZSBpbiAnaW50ZXJhY3RpdmUnIHN0YXRlLFxuICAgIC8vIG90aGVyd2lzZSBhIHJBRiBtYXkgZmlyZSBiZWZvcmUgc2NyaXB0cyBpbiA8Ym9keT5cblxuICAgIHZhciBmaXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5XZWJDb21wb25lbnRzLnJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1dlYkNvbXBvbmVudHNSZWFkeScsIHtidWJibGVzOiB0cnVlfSkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICAgIGZpcmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgICAgIGZpcmUoKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIHdhaXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi93ZWJjb21wb25lbnRzLWxvYWRlci5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("(function(){\n'use strict';var h=new function(){};var aa=new Set(\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \"));function n(b){var a=aa.has(b);b=/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(b);return!a&&b}function p(b){var a=b.isConnected;if(void 0!==a)return a;for(;b&&!(b.__CE_isImportDocument||b instanceof Document);)b=b.parentNode||(window.ShadowRoot&&b instanceof ShadowRoot?b.host:void 0);return!(!b||!(b.__CE_isImportDocument||b instanceof Document))}\nfunction q(b,a){for(;a&&a!==b&&!a.nextSibling;)a=a.parentNode;return a&&a!==b?a.nextSibling:null}\nfunction t(b,a,c){c=c?c:new Set;for(var d=b;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;a(e);var f=e.localName;if(\"link\"===f&&\"import\"===e.getAttribute(\"rel\")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)t(d,a,c);d=q(b,e);continue}else if(\"template\"===f){d=q(b,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)t(e,a,c)}d=d.firstChild?d.firstChild:q(b,d)}}function u(b,a,c){b[a]=c};function v(){this.a=new Map;this.o=new Map;this.f=[];this.b=!1}function ba(b,a,c){b.a.set(a,c);b.o.set(c.constructor,c)}function w(b,a){b.b=!0;b.f.push(a)}function x(b,a){b.b&&t(a,function(a){return y(b,a)})}function y(b,a){if(b.b&&!a.__CE_patched){a.__CE_patched=!0;for(var c=0;c<b.f.length;c++)b.f[c](a)}}function z(b,a){var c=[];t(a,function(b){return c.push(b)});for(a=0;a<c.length;a++){var d=c[a];1===d.__CE_state?b.connectedCallback(d):A(b,d)}}\nfunction B(b,a){var c=[];t(a,function(b){return c.push(b)});for(a=0;a<c.length;a++){var d=c[a];1===d.__CE_state&&b.disconnectedCallback(d)}}\nfunction C(b,a,c){c=c?c:{};var d=c.w||new Set,e=c.s||function(a){return A(b,a)},f=[];t(a,function(a){if(\"link\"===a.localName&&\"import\"===a.getAttribute(\"rel\")){var c=a.import;c instanceof Node&&(c.__CE_isImportDocument=!0,c.__CE_hasRegistry=!0);c&&\"complete\"===c.readyState?c.__CE_documentLoadHandled=!0:a.addEventListener(\"load\",function(){var c=a.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=!0;var f=new Set(d);f.delete(c);C(b,c,{w:f,s:e})}})}else f.push(a)},d);if(b.b)for(a=0;a<\nf.length;a++)y(b,f[a]);for(a=0;a<f.length;a++)e(f[a])}\nfunction A(b,a){if(void 0===a.__CE_state){var c=a.ownerDocument;if(c.defaultView||c.__CE_isImportDocument&&c.__CE_hasRegistry)if(c=b.a.get(a.localName)){c.constructionStack.push(a);var d=c.constructor;try{try{if(new d!==a)throw Error(\"The custom element constructor did not produce the element being upgraded.\");}finally{c.constructionStack.pop()}}catch(m){throw a.__CE_state=2,m;}a.__CE_state=1;a.__CE_definition=c;if(c.attributeChangedCallback)for(c=c.observedAttributes,d=0;d<c.length;d++){var e=c[d],\nf=a.getAttribute(e);null!==f&&b.attributeChangedCallback(a,e,null,f,null)}p(a)&&b.connectedCallback(a)}}}v.prototype.connectedCallback=function(b){var a=b.__CE_definition;a.connectedCallback&&a.connectedCallback.call(b)};v.prototype.disconnectedCallback=function(b){var a=b.__CE_definition;a.disconnectedCallback&&a.disconnectedCallback.call(b)};\nv.prototype.attributeChangedCallback=function(b,a,c,d,e){var f=b.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(a)&&f.attributeChangedCallback.call(b,a,c,d,e)};function D(b,a){this.c=b;this.a=a;this.b=void 0;C(this.c,this.a);\"loading\"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function E(b){b.b&&b.b.disconnect()}D.prototype.f=function(b){var a=this.a.readyState;\"interactive\"!==a&&\"complete\"!==a||E(this);for(a=0;a<b.length;a++)for(var c=b[a].addedNodes,d=0;d<c.length;d++)C(this.c,c[d])};function ca(){var b=this;this.b=this.a=void 0;this.f=new Promise(function(a){b.b=a;b.a&&a(b.a)})}function F(b){if(b.a)throw Error(\"Already resolved.\");b.a=void 0;b.b&&b.b(void 0)};function G(b){this.i=!1;this.c=b;this.m=new Map;this.j=function(b){return b()};this.g=!1;this.l=[];this.u=new D(b,document)}\nG.prototype.define=function(b,a){var c=this;if(!(a instanceof Function))throw new TypeError(\"Custom element constructors must be functions.\");if(!n(b))throw new SyntaxError(\"The element name '\"+b+\"' is not valid.\");if(this.c.a.get(b))throw Error(\"A custom element with name '\"+b+\"' has already been defined.\");if(this.i)throw Error(\"A custom element is already being defined.\");this.i=!0;var d,e,f,m,l;try{var g=function(b){var a=k[b];if(void 0!==a&&!(a instanceof Function))throw Error(\"The '\"+b+\"' callback must be a function.\");\nreturn a},k=a.prototype;if(!(k instanceof Object))throw new TypeError(\"The custom element constructor's prototype is not an object.\");d=g(\"connectedCallback\");e=g(\"disconnectedCallback\");f=g(\"adoptedCallback\");m=g(\"attributeChangedCallback\");l=a.observedAttributes||[]}catch(r){return}finally{this.i=!1}a={localName:b,constructor:a,connectedCallback:d,disconnectedCallback:e,adoptedCallback:f,attributeChangedCallback:m,observedAttributes:l,constructionStack:[]};ba(this.c,b,a);this.l.push(a);this.g||\n(this.g=!0,this.j(function(){return da(c)}))};function da(b){if(!1!==b.g){b.g=!1;for(var a=b.l,c=[],d=new Map,e=0;e<a.length;e++)d.set(a[e].localName,[]);C(b.c,document,{s:function(a){if(void 0===a.__CE_state){var e=a.localName,f=d.get(e);f?f.push(a):b.c.a.get(e)&&c.push(a)}}});for(e=0;e<c.length;e++)A(b.c,c[e]);for(;0<a.length;){for(var f=a.shift(),e=f.localName,f=d.get(f.localName),m=0;m<f.length;m++)A(b.c,f[m]);(e=b.m.get(e))&&F(e)}}}G.prototype.get=function(b){if(b=this.c.a.get(b))return b.constructor};\nG.prototype.whenDefined=function(b){if(!n(b))return Promise.reject(new SyntaxError(\"'\"+b+\"' is not a valid custom element name.\"));var a=this.m.get(b);if(a)return a.f;a=new ca;this.m.set(b,a);this.c.a.get(b)&&!this.l.some(function(a){return a.localName===b})&&F(a);return a.f};G.prototype.v=function(b){E(this.u);var a=this.j;this.j=function(c){return b(function(){return a(c)})}};window.CustomElementRegistry=G;G.prototype.define=G.prototype.define;G.prototype.get=G.prototype.get;\nG.prototype.whenDefined=G.prototype.whenDefined;G.prototype.polyfillWrapFlushCallback=G.prototype.v;var H=window.Document.prototype.createElement,ea=window.Document.prototype.createElementNS,fa=window.Document.prototype.importNode,ga=window.Document.prototype.prepend,ha=window.Document.prototype.append,ia=window.DocumentFragment.prototype.prepend,ja=window.DocumentFragment.prototype.append,I=window.Node.prototype.cloneNode,J=window.Node.prototype.appendChild,K=window.Node.prototype.insertBefore,L=window.Node.prototype.removeChild,M=window.Node.prototype.replaceChild,N=Object.getOwnPropertyDescriptor(window.Node.prototype,\n\"textContent\"),O=window.Element.prototype.attachShadow,P=Object.getOwnPropertyDescriptor(window.Element.prototype,\"innerHTML\"),Q=window.Element.prototype.getAttribute,R=window.Element.prototype.setAttribute,S=window.Element.prototype.removeAttribute,T=window.Element.prototype.getAttributeNS,U=window.Element.prototype.setAttributeNS,ka=window.Element.prototype.removeAttributeNS,la=window.Element.prototype.insertAdjacentElement,ma=window.Element.prototype.prepend,na=window.Element.prototype.append,\nV=window.Element.prototype.before,oa=window.Element.prototype.after,pa=window.Element.prototype.replaceWith,qa=window.Element.prototype.remove,ra=window.HTMLElement,W=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,\"innerHTML\"),sa=window.HTMLElement.prototype.insertAdjacentElement;function ta(){var b=X;window.HTMLElement=function(){function a(){var a=this.constructor,d=b.o.get(a);if(!d)throw Error(\"The custom element being constructed was not registered with `customElements`.\");var e=d.constructionStack;if(!e.length)return e=H.call(document,d.localName),Object.setPrototypeOf(e,a.prototype),e.__CE_state=1,e.__CE_definition=d,y(b,e),e;var d=e.length-1,f=e[d];if(f===h)throw Error(\"The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.\");\ne[d]=h;Object.setPrototypeOf(f,a.prototype);y(b,f);return f}a.prototype=ra.prototype;return a}()};function Y(b,a,c){function d(a){return function(d){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];for(var e=[],f=[],k=0;k<c.length;k++){var r=c[k];r instanceof Element&&p(r)&&f.push(r);if(r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)e.push(r);else e.push(r)}a.apply(this,c);for(c=0;c<f.length;c++)B(b,f[c]);if(p(this))for(c=0;c<e.length;c++)f=e[c],f instanceof Element&&z(b,f)}}c.h&&(a.prepend=d(c.h));c.append&&(a.append=d(c.append))};function ua(){var b=X;u(Document.prototype,\"createElement\",function(a){if(this.__CE_hasRegistry){var c=b.a.get(a);if(c)return new c.constructor}a=H.call(this,a);y(b,a);return a});u(Document.prototype,\"importNode\",function(a,c){a=fa.call(this,a,c);this.__CE_hasRegistry?C(b,a):x(b,a);return a});u(Document.prototype,\"createElementNS\",function(a,c){if(this.__CE_hasRegistry&&(null===a||\"http://www.w3.org/1999/xhtml\"===a)){var d=b.a.get(c);if(d)return new d.constructor}a=ea.call(this,a,c);y(b,a);return a});\nY(b,Document.prototype,{h:ga,append:ha})};function va(){var b=X;function a(a,d){Object.defineProperty(a,\"textContent\",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(a){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,a);else{var c=void 0;if(this.firstChild){var e=this.childNodes,l=e.length;if(0<l&&p(this))for(var c=Array(l),g=0;g<l;g++)c[g]=e[g]}d.set.call(this,a);if(c)for(a=0;a<c.length;a++)B(b,c[a])}}})}u(Node.prototype,\"insertBefore\",function(a,d){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);\na=K.call(this,a,d);if(p(this))for(d=0;d<c.length;d++)z(b,c[d]);return a}c=p(a);d=K.call(this,a,d);c&&B(b,a);p(this)&&z(b,a);return d});u(Node.prototype,\"appendChild\",function(a){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);a=J.call(this,a);if(p(this))for(var e=0;e<c.length;e++)z(b,c[e]);return a}c=p(a);e=J.call(this,a);c&&B(b,a);p(this)&&z(b,a);return e});u(Node.prototype,\"cloneNode\",function(a){a=I.call(this,a);this.ownerDocument.__CE_hasRegistry?C(b,a):x(b,a);\nreturn a});u(Node.prototype,\"removeChild\",function(a){var c=p(a),e=L.call(this,a);c&&B(b,a);return e});u(Node.prototype,\"replaceChild\",function(a,d){if(a instanceof DocumentFragment){var e=Array.prototype.slice.apply(a.childNodes);a=M.call(this,a,d);if(p(this))for(B(b,d),d=0;d<e.length;d++)z(b,e[d]);return a}var e=p(a),c=M.call(this,a,d),m=p(this);m&&B(b,d);e&&B(b,a);m&&z(b,a);return c});N&&N.get?a(Node.prototype,N):w(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){for(var a=[],b=\n0;b<this.childNodes.length;b++)a.push(this.childNodes[b].textContent);return a.join(\"\")},set:function(a){for(;this.firstChild;)L.call(this,this.firstChild);J.call(this,document.createTextNode(a))}})})};function wa(b){var a=Element.prototype;function c(a){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];for(var e=[],l=[],g=0;g<d.length;g++){var k=d[g];k instanceof Element&&p(k)&&l.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)e.push(k);else e.push(k)}a.apply(this,d);for(d=0;d<l.length;d++)B(b,l[d]);if(p(this))for(d=0;d<e.length;d++)l=e[d],l instanceof Element&&z(b,l)}}V&&(a.before=c(V));V&&(a.after=c(oa));pa&&u(a,\"replaceWith\",function(a){for(var d=\n[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];for(var c=[],m=[],l=0;l<d.length;l++){var g=d[l];g instanceof Element&&p(g)&&m.push(g);if(g instanceof DocumentFragment)for(g=g.firstChild;g;g=g.nextSibling)c.push(g);else c.push(g)}l=p(this);pa.apply(this,d);for(d=0;d<m.length;d++)B(b,m[d]);if(l)for(B(b,this),d=0;d<c.length;d++)m=c[d],m instanceof Element&&z(b,m)});qa&&u(a,\"remove\",function(){var a=p(this);qa.call(this);a&&B(b,this)})};function xa(){var b=X;function a(a,c){Object.defineProperty(a,\"innerHTML\",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(a){var d=this,e=void 0;p(this)&&(e=[],t(this,function(a){a!==d&&e.push(a)}));c.set.call(this,a);if(e)for(var f=0;f<e.length;f++){var k=e[f];1===k.__CE_state&&b.disconnectedCallback(k)}this.ownerDocument.__CE_hasRegistry?C(b,this):x(b,this);return a}})}function c(a,c){u(a,\"insertAdjacentElement\",function(a,d){var e=p(d);a=c.call(this,a,d);e&&B(b,d);p(a)&&z(b,d);\nreturn a})}O&&u(Element.prototype,\"attachShadow\",function(a){return this.__CE_shadowRoot=a=O.call(this,a)});P&&P.get?a(Element.prototype,P):W&&W.get?a(HTMLElement.prototype,W):w(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){return I.call(this,!0).innerHTML},set:function(a){var b=\"template\"===this.localName,d=b?this.content:this,c=H.call(document,this.localName);for(c.innerHTML=a;0<d.childNodes.length;)L.call(d,d.childNodes[0]);for(a=b?c.content:c;0<a.childNodes.length;)J.call(d,\na.childNodes[0])}})});u(Element.prototype,\"setAttribute\",function(a,c){if(1!==this.__CE_state)return R.call(this,a,c);var d=Q.call(this,a);R.call(this,a,c);c=Q.call(this,a);b.attributeChangedCallback(this,a,d,c,null)});u(Element.prototype,\"setAttributeNS\",function(a,c,f){if(1!==this.__CE_state)return U.call(this,a,c,f);var d=T.call(this,a,c);U.call(this,a,c,f);f=T.call(this,a,c);b.attributeChangedCallback(this,c,d,f,a)});u(Element.prototype,\"removeAttribute\",function(a){if(1!==this.__CE_state)return S.call(this,\na);var c=Q.call(this,a);S.call(this,a);null!==c&&b.attributeChangedCallback(this,a,c,null,null)});u(Element.prototype,\"removeAttributeNS\",function(a,c){if(1!==this.__CE_state)return ka.call(this,a,c);var d=T.call(this,a,c);ka.call(this,a,c);var e=T.call(this,a,c);d!==e&&b.attributeChangedCallback(this,c,d,e,a)});sa?c(HTMLElement.prototype,sa):la?c(Element.prototype,la):console.warn(\"Custom Elements: `Element#insertAdjacentElement` was not patched.\");Y(b,Element.prototype,{h:ma,append:na});wa(b)};/*\n\n Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nvar Z=window.customElements;if(!Z||Z.forcePolyfill||\"function\"!=typeof Z.define||\"function\"!=typeof Z.get){var X=new v;ta();ua();Y(X,DocumentFragment.prototype,{h:ia,append:ja});va();xa();document.__CE_hasRegistry=!0;var customElements=new G(X);Object.defineProperty(window,\"customElements\",{configurable:!0,enumerable:!0,value:customElements})};\n}).call(self);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FscmVhZHlDb25zdHJ1Y3RlZE1hcmtlci5qcz84Y2Q2Iiwid2VicGFjazovLy9zcmMvVXRpbGl0aWVzLmpzP2NmMGIiLCJ3ZWJwYWNrOi8vL3NyYy9DdXN0b21FbGVtZW50SW50ZXJuYWxzLmpzPzRiNjMiLCJ3ZWJwYWNrOi8vL3NyYy9DdXN0b21FbGVtZW50U3RhdGUuanM/MWE4YSIsIndlYnBhY2s6Ly8vc3JjL0RvY3VtZW50Q29uc3RydWN0aW9uT2JzZXJ2ZXIuanM/OWJiMCIsIndlYnBhY2s6Ly8vc3JjL0RlZmVycmVkLmpzPzA2NmEiLCJ3ZWJwYWNrOi8vL3NyYy9DdXN0b21FbGVtZW50UmVnaXN0cnkuanM/ZWQxOSIsIndlYnBhY2s6Ly8vc3JjL1BhdGNoL05hdGl2ZS5qcz9iNWVmIiwid2VicGFjazovLy9zcmMvUGF0Y2gvSFRNTEVsZW1lbnQuanM/NmFmYyIsIndlYnBhY2s6Ly8vc3JjL2N1c3RvbS1lbGVtZW50cy5qcz8zMTU3Iiwid2VicGFjazovLy9zcmMvUGF0Y2gvSW50ZXJmYWNlL1BhcmVudE5vZGUuanM/MjBmYyIsIndlYnBhY2s6Ly8vc3JjL1BhdGNoL0RvY3VtZW50LmpzP2JmNDMiLCJ3ZWJwYWNrOi8vL3NyYy9QYXRjaC9Ob2RlLmpzPzQ4M2EiLCJ3ZWJwYWNrOi8vL3NyYy9QYXRjaC9JbnRlcmZhY2UvQ2hpbGROb2RlLmpzPzU1M2UiLCJ3ZWJwYWNrOi8vL3NyYy9QYXRjaC9FbGVtZW50LmpzPzk1YmMiLCJ3ZWJwYWNrOi8vL3NyYy9QYXRjaC9Eb2N1bWVudEZyYWdtZW50LmpzPzVmNzgiXSwibmFtZXMiOlsiJGpzY29tcERlZmF1bHRFeHBvcnQiLCJBbHJlYWR5Q29uc3RydWN0ZWRNYXJrZXIiLCJyZXNlcnZlZFRhZ0xpc3QiLCJTZXQiLCJpc1ZhbGlkQ3VzdG9tRWxlbWVudE5hbWUkJG1vZHVsZSQkc3JjJFV0aWxpdGllcyIsImlzVmFsaWRDdXN0b21FbGVtZW50TmFtZSIsImxvY2FsTmFtZSIsInJlc2VydmVkIiwiaGFzIiwidmFsaWRGb3JtIiwidGVzdCIsImlzQ29ubmVjdGVkJCRtb2R1bGUkJHNyYyRVdGlsaXRpZXMiLCJpc0Nvbm5lY3RlZCIsIm5vZGUiLCJuYXRpdmVWYWx1ZSIsInVuZGVmaW5lZCIsImN1cnJlbnQiLCJfX0NFX2lzSW1wb3J0RG9jdW1lbnQiLCJEb2N1bWVudCIsInBhcmVudE5vZGUiLCJ3aW5kb3ciLCJTaGFkb3dSb290IiwiaG9zdCIsIm5leHRTaWJsaW5nT3JBbmNlc3RvclNpYmxpbmckJG1vZHVsZSQkc3JjJFV0aWxpdGllcyIsIm5leHRTaWJsaW5nT3JBbmNlc3RvclNpYmxpbmciLCJyb290Iiwic3RhcnQiLCJuZXh0U2libGluZyIsIndhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzJCRtb2R1bGUkJHNyYyRVdGlsaXRpZXMiLCJ3YWxrRGVlcERlc2NlbmRhbnRFbGVtZW50cyIsImNhbGxiYWNrIiwidmlzaXRlZEltcG9ydHMiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJlbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiaW1wb3J0Tm9kZSIsImltcG9ydCIsImFkZCIsImNoaWxkIiwiZmlyc3RDaGlsZCIsInNoYWRvd1Jvb3QiLCJfX0NFX3NoYWRvd1Jvb3QiLCJzZXRQcm9wZXJ0eVVuY2hlY2tlZCQkbW9kdWxlJCRzcmMkVXRpbGl0aWVzIiwic2V0UHJvcGVydHlVbmNoZWNrZWQiLCJkZXN0aW5hdGlvbiIsIm5hbWUiLCJ2YWx1ZSIsImNvbnN0cnVjdG9yIiwiQ3VzdG9tRWxlbWVudEludGVybmFscyIsIl9sb2NhbE5hbWVUb0RlZmluaXRpb24iLCJNYXAiLCJfY29uc3RydWN0b3JUb0RlZmluaXRpb24iLCJfcGF0Y2hlcyIsIl9oYXNQYXRjaGVzIiwic2V0RGVmaW5pdGlvbiIsImRlZmluaXRpb24iLCJzZXQiLCJhZGRQYXRjaCIsImxpc3RlbmVyIiwicHVzaCIsInBhdGNoVHJlZSIsInBhdGNoIiwiX19DRV9wYXRjaGVkIiwiaSIsImxlbmd0aCIsImNvbm5lY3RUcmVlIiwiZWxlbWVudHMiLCJjdXN0b20iLCJfX0NFX3N0YXRlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJ1cGdyYWRlRWxlbWVudCIsImRpc2Nvbm5lY3RUcmVlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJwYXRjaEFuZFVwZ3JhZGVUcmVlIiwib3B0aW9ucyIsInVwZ3JhZGUiLCJnYXRoZXJFbGVtZW50cyIsIl9fQ0VfaGFzUmVnaXN0cnkiLCJyZWFkeVN0YXRlIiwiX19DRV9kb2N1bWVudExvYWRIYW5kbGVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb25lZFZpc2l0ZWRJbXBvcnRzIiwiZGVsZXRlIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwibG9jYWxOYW1lVG9EZWZpbml0aW9uIiwiZ2V0IiwiY29uc3RydWN0aW9uU3RhY2siLCJyZXN1bHQiLCJFcnJvciIsInBvcCIsImUiLCJmYWlsZWQiLCJfX0NFX2RlZmluaXRpb24iLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJjYWxsIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsIm5hbWVzcGFjZSIsImluZGV4T2YiLCJEb2N1bWVudENvbnN0cnVjdGlvbk9ic2VydmVyIiwiaW50ZXJuYWxzIiwiZG9jIiwiX2ludGVybmFscyIsIl9kb2N1bWVudCIsIl9vYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJfaGFuZGxlTXV0YXRpb25zIiwiYmluZCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiZGlzY29ubmVjdCIsIm11dGF0aW9ucyIsImFkZGVkTm9kZXMiLCJqIiwiRGVmZXJyZWQiLCJfcmVzb2x2ZSIsIl92YWx1ZSIsIl9wcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJDdXN0b21FbGVtZW50UmVnaXN0cnkiLCJfZWxlbWVudERlZmluaXRpb25Jc1J1bm5pbmciLCJfd2hlbkRlZmluZWREZWZlcnJlZCIsIl9mbHVzaENhbGxiYWNrIiwidGhpcy5fZmx1c2hDYWxsYmFjayIsImZuIiwiX2ZsdXNoUGVuZGluZyIsIl9wZW5kaW5nRGVmaW5pdGlvbnMiLCJfZG9jdW1lbnRDb25zdHJ1Y3Rpb25PYnNlcnZlciIsImRvY3VtZW50IiwiZGVmaW5lIiwiRnVuY3Rpb24iLCJUeXBlRXJyb3IiLCJTeW50YXhFcnJvciIsImFkb3B0ZWRDYWxsYmFjayIsImdldENhbGxiYWNrIiwiY2FsbGJhY2tWYWx1ZSIsInByb3RvdHlwZSIsIk9iamVjdCIsIl9mbHVzaCIsInBlbmRpbmdEZWZpbml0aW9ucyIsImVsZW1lbnRzV2l0aFN0YWJsZURlZmluaXRpb25zIiwiZWxlbWVudHNXaXRoUGVuZGluZ0RlZmluaXRpb25zIiwicGVuZGluZ0VsZW1lbnRzIiwic2hpZnQiLCJwZW5kaW5nVXBncmFkYWJsZUVsZW1lbnRzIiwiZGVmZXJyZWQiLCJ3aGVuRGVmaW5lZCIsInJlamVjdCIsInByaW9yIiwic29tZSIsImQiLCJwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrIiwib3V0ZXIiLCJpbm5lciIsImZsdXNoIiwiRG9jdW1lbnRfY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJEb2N1bWVudF9jcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50TlMiLCJEb2N1bWVudF9pbXBvcnROb2RlIiwiRG9jdW1lbnRfcHJlcGVuZCIsIkRvY3VtZW50X2FwcGVuZCIsIkRvY3VtZW50RnJhZ21lbnRfcHJlcGVuZCIsIkRvY3VtZW50RnJhZ21lbnQiLCJEb2N1bWVudEZyYWdtZW50X2FwcGVuZCIsIk5vZGVfY2xvbmVOb2RlIiwiY2xvbmVOb2RlIiwiTm9kZV9hcHBlbmRDaGlsZCIsImFwcGVuZENoaWxkIiwiTm9kZV9pbnNlcnRCZWZvcmUiLCJpbnNlcnRCZWZvcmUiLCJOb2RlX3JlbW92ZUNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJOb2RlX3JlcGxhY2VDaGlsZCIsInJlcGxhY2VDaGlsZCIsIk5vZGVfdGV4dENvbnRlbnQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJFbGVtZW50X2F0dGFjaFNoYWRvdyIsIkVsZW1lbnQiLCJFbGVtZW50X2lubmVySFRNTCIsIkVsZW1lbnRfZ2V0QXR0cmlidXRlIiwiRWxlbWVudF9zZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJFbGVtZW50X3JlbW92ZUF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIkVsZW1lbnRfZ2V0QXR0cmlidXRlTlMiLCJnZXRBdHRyaWJ1dGVOUyIsIkVsZW1lbnRfc2V0QXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsIkVsZW1lbnRfcmVtb3ZlQXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsIkVsZW1lbnRfaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiRWxlbWVudF9wcmVwZW5kIiwiRWxlbWVudF9hcHBlbmQiLCJFbGVtZW50X2JlZm9yZSIsIkVsZW1lbnRfYWZ0ZXIiLCJFbGVtZW50X3JlcGxhY2VXaXRoIiwiRWxlbWVudF9yZW1vdmUiLCJIVE1MRWxlbWVudCIsIkhUTUxFbGVtZW50X2lubmVySFRNTCIsIkhUTUxFbGVtZW50X2luc2VydEFkamFjZW50RWxlbWVudCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCRIVE1MRWxlbWVudCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRG9jdW1lbnRfY3JlYXRlRWxlbWVudC5jYWxsIiwic2V0UHJvdG90eXBlT2YiLCJsYXN0SW5kZXgiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkhUTUxFbGVtZW50IiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJEludGVyZmFjZSRQYXJlbnROb2RlIiwiYnVpbHRJbiIsImFwcGVuZFByZXBlbmRQYXRjaCIsImJ1aWx0SW5NZXRob2QiLCJmbGF0dGVuZWROb2RlcyIsImNvbm5lY3RlZEVsZW1lbnRzIiwibm9kZXMiLCJhcHBseSIsInByZXBlbmQiLCJhcHBlbmQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkRG9jdW1lbnQiLCJkZWVwIiwiY2xvbmUiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkRvY3VtZW50X2ltcG9ydE5vZGUuY2FsbCIsIk5TX0hUTUwiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkRvY3VtZW50X2NyZWF0ZUVsZW1lbnROUy5jYWxsIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5Eb2N1bWVudF9wcmVwZW5kIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5Eb2N1bWVudF9hcHBlbmQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTm9kZSIsInBhdGNoX3RleHRDb250ZW50IiwiYmFzZURlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJhc3NpZ25lZFZhbHVlIiwiVEVYVF9OT0RFIiwicmVtb3ZlZE5vZGVzIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZXNMZW5ndGgiLCJBcnJheSIsInJlZk5vZGUiLCJpbnNlcnRlZE5vZGVzIiwic2xpY2UiLCJuYXRpdmVSZXN1bHQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLk5vZGVfaW5zZXJ0QmVmb3JlLmNhbGwiLCJub2RlV2FzQ29ubmVjdGVkIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5Ob2RlX2FwcGVuZENoaWxkLmNhbGwiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLk5vZGVfY2xvbmVOb2RlLmNhbGwiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLk5vZGVfcmVtb3ZlQ2hpbGQuY2FsbCIsIm5vZGVUb0luc2VydCIsIm5vZGVUb1JlbW92ZSIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuTm9kZV9yZXBsYWNlQ2hpbGQuY2FsbCIsIm5vZGVUb0luc2VydFdhc0Nvbm5lY3RlZCIsInRoaXNJc0Nvbm5lY3RlZCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuTm9kZV90ZXh0Q29udGVudCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuTm9kZV90ZXh0Q29udGVudC5nZXQiLCJwYXJ0cyIsInRleHRDb250ZW50Iiwiam9pbiIsImNyZWF0ZVRleHROb2RlIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJEludGVyZmFjZSRDaGlsZE5vZGUiLCJiZWZvcmVBZnRlclBhdGNoIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5FbGVtZW50X2JlZm9yZSIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9hZnRlciIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9yZXBsYWNlV2l0aCIsIndhc0Nvbm5lY3RlZCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9yZW1vdmUiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkRWxlbWVudCIsInBhdGNoX2lubmVySFRNTCIsImh0bWxTdHJpbmciLCJyZW1vdmVkRWxlbWVudHMiLCJwYXRjaF9pbnNlcnRBZGphY2VudEVsZW1lbnQiLCJiYXNlTWV0aG9kIiwid2hlcmUiLCJpbnNlcnRlZEVsZW1lbnQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkVsZW1lbnRfYXR0YWNoU2hhZG93IiwiaW5pdCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9hdHRhY2hTaGFkb3cuY2FsbCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9pbm5lckhUTUwiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkVsZW1lbnRfaW5uZXJIVE1MLmdldCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuSFRNTEVsZW1lbnRfaW5uZXJIVE1MIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5IVE1MRWxlbWVudF9pbm5lckhUTUwuZ2V0IiwiaW5uZXJIVE1MIiwiaXNUZW1wbGF0ZSIsImNvbnRlbnQiLCJyYXdFbGVtZW50IiwiY29udGFpbmVyIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5FbGVtZW50X3NldEF0dHJpYnV0ZS5jYWxsIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5FbGVtZW50X2dldEF0dHJpYnV0ZS5jYWxsIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5FbGVtZW50X3NldEF0dHJpYnV0ZU5TLmNhbGwiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkVsZW1lbnRfZ2V0QXR0cmlidXRlTlMuY2FsbCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9yZW1vdmVBdHRyaWJ1dGUuY2FsbCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9yZW1vdmVBdHRyaWJ1dGVOUy5jYWxsIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5IVE1MRWxlbWVudF9pbnNlcnRBZGphY2VudEVsZW1lbnQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkVsZW1lbnRfaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiY29uc29sZSIsIndhcm4iLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkVsZW1lbnRfcHJlcGVuZCIsIiRqc2NvbXBEZWZhdWx0RXhwb3J0JCRtb2R1bGUkJHNyYyRQYXRjaCROYXRpdmUuRWxlbWVudF9hcHBlbmQiLCJwcmlvckN1c3RvbUVsZW1lbnRzIiwiJGpzY29tcERlZmF1bHRFeHBvcnQkJG1vZHVsZSQkc3JjJFBhdGNoJE5hdGl2ZS5Eb2N1bWVudEZyYWdtZW50X3ByZXBlbmQiLCIkanNjb21wRGVmYXVsdEV4cG9ydCQkbW9kdWxlJCRzcmMkUGF0Y2gkTmF0aXZlLkRvY3VtZW50RnJhZ21lbnRfYXBwZW5kIiwiY3VzdG9tRWxlbWVudHMiXSwibWFwcGluZ3MiOiI7YUFTQSxJQUFBQSxFQUFlLElBRmZDLFFBQUEsSSxDQ1BBLElBQU1DLEdBQWtCLElBQUlDLEdBQUosQ0FBUSw2SEFBUixDQWVqQkMsU0FBU0MsRUFBd0IsQ0FBQ0MsQ0FBRCxDQUFZLENBQ2xELElBQU1DLEVBQVdMLEVBQUFNLElBQUEsQ0FBb0JGLENBQXBCLENBQ1hHLEdBQVksa0NBQUFDLEtBQUEsQ0FBd0NKLENBQXhDLENBQ2xCLE9BQU8sQ0FBQ0MsQ0FBUixFQUFvQkUsQ0FIOEIsQ0FXN0NFLFFBQVNDLEVBQVcsQ0FBQ0MsQ0FBRCxDQUFPLENBRWhDLElBQU1DLEVBQWNELENBQUFELFlBQ3BCLElBQW9CRyxNQUFwQixHQUFJRCxDQUFKLENBQ0UsTUFBT0EsRUFLVCxNQUFPRSxDQUFQLEVBQW9CLEVBQUFBLENBQUFDLHNCQUFBLEVBQWlDRCxD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RCxpQkFBQSxDQUE0QixFQUc1QixLQUFNaU8sZUFBaUIsSUg5QlZuTCxDRzhCVSxDQUEwQnJCLENBQTFCLENBRXZCdUMsT0FBQTBGLGVBQUEsQ0FBc0JyTixNQUF0QixDQUE4QixnQkFBOUIsQ0FBZ0QsQ0FDOUN1TixhQUFjLEVBRGdDLENBRTlDRCxXQUFZLEVBRmtDLENBRzlDMUwsTUFBT2dRLGNBSHVDLENBQWhELENBaEJzRCIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGNsYXNzIGV4aXN0cyBvbmx5IHRvIHdvcmsgYXJvdW5kIENsb3N1cmUncyBsYWNrIG9mIGEgd2F5IHRvIGRlc2NyaWJlXG4gKiBzaW5nbGV0b25zLiBJdCByZXByZXNlbnRzIHRoZSAnYWxyZWFkeSBjb25zdHJ1Y3RlZCBtYXJrZXInIHVzZWQgaW4gY3VzdG9tXG4gKiBlbGVtZW50IGNvbnN0cnVjdGlvbiBzdGFja3MuXG4gKlxuICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1hbHJlYWR5LWNvbnN0cnVjdGVkLW1hcmtlclxuICovXG5jbGFzcyBBbHJlYWR5Q29uc3RydWN0ZWRNYXJrZXIge31cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFscmVhZHlDb25zdHJ1Y3RlZE1hcmtlcigpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9BbHJlYWR5Q29uc3RydWN0ZWRNYXJrZXIuanMiLCJjb25zdCByZXNlcnZlZFRhZ0xpc3QgPSBuZXcgU2V0KFtcbiAgJ2Fubm90YXRpb24teG1sJyxcbiAgJ2NvbG9yLXByb2ZpbGUnLFxuICAnZm9udC1mYWNlJyxcbiAgJ2ZvbnQtZmFjZS1zcmMnLFxuICAnZm9udC1mYWNlLXVyaScsXG4gICdmb250LWZhY2UtZm9ybWF0JyxcbiAgJ2ZvbnQtZmFjZS1uYW1lJyxcbiAgJ21pc3NpbmctZ2x5cGgnLFxuXSk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsTmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQ3VzdG9tRWxlbWVudE5hbWUobG9jYWxOYW1lKSB7XG4gIGNvbnN0IHJlc2VydmVkID0gcmVzZXJ2ZWRUYWdMaXN0Lmhhcyhsb2NhbE5hbWUpO1xuICBjb25zdCB2YWxpZEZvcm0gPSAvXlthLXpdWy4wLTlfYS16XSotW1xcLS4wLTlfYS16XSokLy50ZXN0KGxvY2FsTmFtZSk7XG4gIHJldHVybiAhcmVzZXJ2ZWQgJiYgdmFsaWRGb3JtO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb25uZWN0ZWQobm9kZSkge1xuICAvLyBVc2UgYE5vZGUjaXNDb25uZWN0ZWRgLCBpZiBkZWZpbmVkLlxuICBjb25zdCBuYXRpdmVWYWx1ZSA9IG5vZGUuaXNDb25uZWN0ZWQ7XG4gIGlmIChuYXRpdmVWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG5hdGl2ZVZhbHVlO1xuICB9XG5cbiAgLyoqIEB0eXBlIHs/Tm9kZXx1bmRlZmluZWR9ICovXG4gIGxldCBjdXJyZW50ID0gbm9kZTtcbiAgd2hpbGUgKGN1cnJlbnQgJiYgIShjdXJyZW50Ll9fQ0VfaXNJbXBvcnREb2N1bWVudCB8fCBjdXJyZW50IGluc3RhbmNlb2YgRG9jdW1lbnQpKSB7XG4gICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZSB8fCAod2luZG93LlNoYWRvd1Jvb3QgJiYgY3VycmVudCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyBjdXJyZW50Lmhvc3QgOiB1bmRlZmluZWQpO1xuICB9XG4gIHJldHVybiAhIShjdXJyZW50ICYmIChjdXJyZW50Ll9fQ0VfaXNJbXBvcnREb2N1bWVudCB8fCBjdXJyZW50IGluc3RhbmNlb2YgRG9jdW1lbnQpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlfSByb290XG4gKiBAcGFyYW0geyFOb2RlfSBzdGFydFxuICogQHJldHVybiB7P05vZGV9XG4gKi9cbmZ1bmN0aW9uIG5leHRTaWJsaW5nT3JBbmNlc3RvclNpYmxpbmcocm9vdCwgc3RhcnQpIHtcbiAgbGV0IG5vZGUgPSBzdGFydDtcbiAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gcm9vdCAmJiAhbm9kZS5uZXh0U2libGluZykge1xuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuICghbm9kZSB8fCBub2RlID09PSByb290KSA/IG51bGwgOiBub2RlLm5leHRTaWJsaW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IU5vZGV9IHJvb3RcbiAqIEBwYXJhbSB7IU5vZGV9IHN0YXJ0XG4gKiBAcmV0dXJuIHs/Tm9kZX1cbiAqL1xuZnVuY3Rpb24gbmV4dE5vZGUocm9vdCwgc3RhcnQpIHtcbiAgcmV0dXJuIHN0YXJ0LmZpcnN0Q2hpbGQgPyBzdGFydC5maXJzdENoaWxkIDogbmV4dFNpYmxpbmdPckFuY2VzdG9yU2libGluZyhyb290LCBzdGFydCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshTm9kZX0gcm9vdFxuICogQHBhcmFtIHshZnVuY3Rpb24oIUVsZW1lbnQpfSBjYWxsYmFja1xuICogQHBhcmFtIHshU2V0PE5vZGU+PX0gdmlzaXRlZEltcG9ydHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzKHJvb3QsIGNhbGxiYWNrLCB2aXNpdGVkSW1wb3J0cyA9IG5ldyBTZXQoKSkge1xuICBsZXQgbm9kZSA9IHJvb3Q7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gLyoqIEB0eXBlIHshRWxlbWVudH0gKi8obm9kZSk7XG5cbiAgICAgIGNhbGxiYWNrKGVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBsb2NhbE5hbWUgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgICAgIGlmIChsb2NhbE5hbWUgPT09ICdsaW5rJyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgncmVsJykgPT09ICdpbXBvcnQnKSB7XG4gICAgICAgIC8vIElmIHRoaXMgaW1wb3J0IChwb2x5ZmlsbGVkIG9yIG5vdCkgaGFzIGl0J3Mgcm9vdCBub2RlIGF2YWlsYWJsZSxcbiAgICAgICAgLy8gd2FsayBpdC5cbiAgICAgICAgY29uc3QgaW1wb3J0Tm9kZSA9IC8qKiBAdHlwZSB7IU5vZGV9ICovIChlbGVtZW50LmltcG9ydCk7XG4gICAgICAgIGlmIChpbXBvcnROb2RlIGluc3RhbmNlb2YgTm9kZSAmJiAhdmlzaXRlZEltcG9ydHMuaGFzKGltcG9ydE5vZGUpKSB7XG4gICAgICAgICAgLy8gUHJldmVudCBtdWx0aXBsZSB3YWxrcyBvZiB0aGUgc2FtZSBpbXBvcnQgcm9vdC5cbiAgICAgICAgICB2aXNpdGVkSW1wb3J0cy5hZGQoaW1wb3J0Tm9kZSk7XG5cbiAgICAgICAgICBmb3IgKGxldCBjaGlsZCA9IGltcG9ydE5vZGUuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIHdhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzKGNoaWxkLCBjYWxsYmFjaywgdmlzaXRlZEltcG9ydHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElnbm9yZSBkZXNjZW5kYW50cyBvZiBpbXBvcnQgbGlua3MgdG8gcHJldmVudCBhdHRlbXB0aW5nIHRvIHdhbGsgdGhlXG4gICAgICAgIC8vIGVsZW1lbnRzIGNyZWF0ZWQgYnkgdGhlIEhUTUwgSW1wb3J0cyBwb2x5ZmlsbCB0aGF0IHdlIGp1c3Qgd2Fsa2VkXG4gICAgICAgIC8vIGFib3ZlLlxuICAgICAgICBub2RlID0gbmV4dFNpYmxpbmdPckFuY2VzdG9yU2libGluZyhyb290LCBlbGVtZW50KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKGxvY2FsTmFtZSA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAvLyBJZ25vcmUgZGVzY2VuZGFudHMgb2YgdGVtcGxhdGVzLiBUaGVyZSBzaG91bGRuJ3QgYmUgYW55IGRlc2NlbmRhbnRzXG4gICAgICAgIC8vIGJlY2F1c2UgdGhleSB3aWxsIGJlIG1vdmVkIGludG8gYC5jb250ZW50YCBkdXJpbmcgY29uc3RydWN0aW9uIGluXG4gICAgICAgIC8vIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0ZW1wbGF0ZSBidXQsIGluIGNhc2UgdGhleSBleGlzdCBhbmQgYXJlIHN0aWxsXG4gICAgICAgIC8vIHdhaXRpbmcgdG8gYmUgbW92ZWQgYnkgYSBwb2x5ZmlsbCwgdGhleSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICAgIG5vZGUgPSBuZXh0U2libGluZ09yQW5jZXN0b3JTaWJsaW5nKHJvb3QsIGVsZW1lbnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gV2FsayBzaGFkb3cgcm9vdHMuXG4gICAgICBjb25zdCBzaGFkb3dSb290ID0gZWxlbWVudC5fX0NFX3NoYWRvd1Jvb3Q7XG4gICAgICBpZiAoc2hhZG93Um9vdCkge1xuICAgICAgICBmb3IgKGxldCBjaGlsZCA9IHNoYWRvd1Jvb3QuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICB3YWxrRGVlcERlc2NlbmRhbnRFbGVtZW50cyhjaGlsZCwgY2FsbGJhY2ssIHZpc2l0ZWRJbXBvcnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG5vZGUgPSBuZXh0Tm9kZShyb290LCBub2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIFVzZWQgdG8gc3VwcHJlc3MgQ2xvc3VyZSdzIFwiTW9kaWZ5aW5nIHRoZSBwcm90b3R5cGUgaXMgb25seSBhbGxvd2VkIGlmIHRoZVxuICogY29uc3RydWN0b3IgaXMgaW4gdGhlIHNhbWUgc2NvcGVcIiB3YXJuaW5nIHdpdGhvdXQgdXNpbmdcbiAqIGBAc3VwcHJlc3Mge25ld0NoZWNrVHlwZXMsIGR1cGxpY2F0ZX1gIGJlY2F1c2UgYG5ld0NoZWNrVHlwZXNgIGlzIHRvbyBicm9hZC5cbiAqXG4gKiBAcGFyYW0geyFPYmplY3R9IGRlc3RpbmF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcGVydHlVbmNoZWNrZWQoZGVzdGluYXRpb24sIG5hbWUsIHZhbHVlKSB7XG4gIGRlc3RpbmF0aW9uW25hbWVdID0gdmFsdWU7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL1V0aWxpdGllcy5qcyIsImltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuL1V0aWxpdGllcy5qcyc7XG5pbXBvcnQgQ0VTdGF0ZSBmcm9tICcuL0N1c3RvbUVsZW1lbnRTdGF0ZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUgeyFNYXA8c3RyaW5nLCAhQ3VzdG9tRWxlbWVudERlZmluaXRpb24+fSAqL1xuICAgIHRoaXMuX2xvY2FsTmFtZVRvRGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcblxuICAgIC8qKiBAdHlwZSB7IU1hcDwhRnVuY3Rpb24sICFDdXN0b21FbGVtZW50RGVmaW5pdGlvbj59ICovXG4gICAgdGhpcy5fY29uc3RydWN0b3JUb0RlZmluaXRpb24gPSBuZXcgTWFwKCk7XG5cbiAgICAvKiogQHR5cGUgeyFBcnJheTwhZnVuY3Rpb24oIU5vZGUpPn0gKi9cbiAgICB0aGlzLl9wYXRjaGVzID0gW107XG5cbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5faGFzUGF0Y2hlcyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbE5hbWVcbiAgICogQHBhcmFtIHshQ3VzdG9tRWxlbWVudERlZmluaXRpb259IGRlZmluaXRpb25cbiAgICovXG4gIHNldERlZmluaXRpb24obG9jYWxOYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgdGhpcy5fbG9jYWxOYW1lVG9EZWZpbml0aW9uLnNldChsb2NhbE5hbWUsIGRlZmluaXRpb24pO1xuICAgIHRoaXMuX2NvbnN0cnVjdG9yVG9EZWZpbml0aW9uLnNldChkZWZpbml0aW9uLmNvbnN0cnVjdG9yLCBkZWZpbml0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxOYW1lXG4gICAqIEByZXR1cm4geyFDdXN0b21FbGVtZW50RGVmaW5pdGlvbnx1bmRlZmluZWR9XG4gICAqL1xuICBsb2NhbE5hbWVUb0RlZmluaXRpb24obG9jYWxOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsTmFtZVRvRGVmaW5pdGlvbi5nZXQobG9jYWxOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFGdW5jdGlvbn0gY29uc3RydWN0b3JcbiAgICogQHJldHVybiB7IUN1c3RvbUVsZW1lbnREZWZpbml0aW9ufHVuZGVmaW5lZH1cbiAgICovXG4gIGNvbnN0cnVjdG9yVG9EZWZpbml0aW9uKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnN0cnVjdG9yVG9EZWZpbml0aW9uLmdldChjb25zdHJ1Y3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshZnVuY3Rpb24oIU5vZGUpfSBsaXN0ZW5lclxuICAgKi9cbiAgYWRkUGF0Y2gobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9oYXNQYXRjaGVzID0gdHJ1ZTtcbiAgICB0aGlzLl9wYXRjaGVzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICovXG4gIHBhdGNoVHJlZShub2RlKSB7XG4gICAgaWYgKCF0aGlzLl9oYXNQYXRjaGVzKSByZXR1cm47XG5cbiAgICBVdGlsaXRpZXMud2Fsa0RlZXBEZXNjZW5kYW50RWxlbWVudHMobm9kZSwgZWxlbWVudCA9PiB0aGlzLnBhdGNoKGVsZW1lbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqL1xuICBwYXRjaChub2RlKSB7XG4gICAgaWYgKCF0aGlzLl9oYXNQYXRjaGVzKSByZXR1cm47XG5cbiAgICBpZiAobm9kZS5fX0NFX3BhdGNoZWQpIHJldHVybjtcbiAgICBub2RlLl9fQ0VfcGF0Y2hlZCA9IHRydWU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX3BhdGNoZXNbaV0obm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU5vZGV9IHJvb3RcbiAgICovXG4gIGNvbm5lY3RUcmVlKHJvb3QpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuXG4gICAgVXRpbGl0aWVzLndhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzKHJvb3QsIGVsZW1lbnQgPT4gZWxlbWVudHMucHVzaChlbGVtZW50KSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICBpZiAoZWxlbWVudC5fX0NFX3N0YXRlID09PSBDRVN0YXRlLmN1c3RvbSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGdyYWRlRWxlbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshTm9kZX0gcm9vdFxuICAgKi9cbiAgZGlzY29ubmVjdFRyZWUocm9vdCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG5cbiAgICBVdGlsaXRpZXMud2Fsa0RlZXBEZXNjZW5kYW50RWxlbWVudHMocm9vdCwgZWxlbWVudCA9PiBlbGVtZW50cy5wdXNoKGVsZW1lbnQpKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgIGlmIChlbGVtZW50Ll9fQ0Vfc3RhdGUgPT09IENFU3RhdGUuY3VzdG9tKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkQ2FsbGJhY2soZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZ3JhZGVzIGFsbCB1bmN1c3RvbWl6ZWQgY3VzdG9tIGVsZW1lbnRzIGF0IGFuZCBiZWxvdyBhIHJvb3Qgbm9kZSBmb3JcbiAgICogd2hpY2ggdGhlcmUgaXMgYSBkZWZpbml0aW9uLiBXaGVuIGN1c3RvbSBlbGVtZW50IHJlYWN0aW9uIGNhbGxiYWNrcyBhcmVcbiAgICogYXNzdW1lZCB0byBiZSBjYWxsZWQgc3luY2hyb25vdXNseSAod2hpY2gsIGJ5IHRoZSBjdXJyZW50IERPTSAvIEhUTUwgc3BlY1xuICAgKiBkZWZpbml0aW9ucywgdGhleSBhcmUgKm5vdCopLCBjYWxsYmFja3MgZm9yIGJvdGggZWxlbWVudHMgY3VzdG9taXplZFxuICAgKiBzeW5jaHJvbm91c2x5IGJ5IHRoZSBwYXJzZXIgYW5kIGVsZW1lbnRzIGJlaW5nIHVwZ3JhZGVkIG9jY3VyIGluIHRoZSBzYW1lXG4gICAqIHJlbGF0aXZlIG9yZGVyLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGZ1bmN0aW9uLCB3aGVuIHVzZWQgdG8gc2ltdWxhdGUgdGhlIGNvbnN0cnVjdGlvbiBvZiBhIHRyZWUgdGhhdFxuICAgKiBpcyBhbHJlYWR5IGNyZWF0ZWQgYnV0IG5vdCBjdXN0b21pemVkIChpLmUuIGJ5IHRoZSBwYXJzZXIpLCBkb2VzICpub3QqXG4gICAqIHByZXZlbnQgdGhlIGVsZW1lbnQgZnJvbSByZWFkaW5nIHRoZSAnZmluYWwnICh0cnVlKSBzdGF0ZSBvZiB0aGUgdHJlZS4gRm9yXG4gICAqIGV4YW1wbGUsIHRoZSBlbGVtZW50LCBkdXJpbmcgdHJ1bHkgc3luY2hyb25vdXMgcGFyc2luZyAvIGNvbnN0cnVjdGlvbiB3b3VsZFxuICAgKiBzZWUgdGhhdCBpdCBjb250YWlucyBubyBjaGlsZHJlbiBhcyB0aGV5IGhhdmUgbm90IHlldCBiZWVuIGluc2VydGVkLlxuICAgKiBIb3dldmVyLCB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IG1vZGlmeSB0aGUgdHJlZSwgdGhlIGVsZW1lbnQgd2lsbFxuICAgKiAoaW5jb3JyZWN0bHkpIGhhdmUgY2hpbGRyZW4uIEFkZGl0aW9uYWxseSwgc2VsZi1tb2RpZmljYXRpb24gcmVzdHJpY3Rpb25zXG4gICAqIGZvciBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvcnMgaW1wb3NlZCBieSB0aGUgRE9NIHNwZWMgYXJlICpub3QqIGVuZm9yY2VkLlxuICAgKlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIG5lc3RlZCBsaXN0IHNob3dzIHRoZSBzdGVwcyBleHRlbmRpbmcgZG93biBmcm9tIHRoZSBIVE1MXG4gICAqIHNwZWMncyBwYXJzaW5nIHNlY3Rpb24gdGhhdCBjYXVzZSBlbGVtZW50cyB0byBiZSBzeW5jaHJvbm91c2x5IGNyZWF0ZWQgYW5kXG4gICAqIHVwZ3JhZGVkOlxuICAgKlxuICAgKiBUaGUgXCJpbiBib2R5XCIgaW5zZXJ0aW9uIG1vZGU6XG4gICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmJvZHlcbiAgICogLSBTd2l0Y2ggb24gdG9rZW46XG4gICAqICAgLi4gb3RoZXIgY2FzZXMgLi5cbiAgICogICAtPiBBbnkgb3RoZXIgc3RhcnQgdGFnXG4gICAqICAgICAgLSBbSW5zZXJ0IGFuIEhUTUwgZWxlbWVudF0oYmVsb3cpIGZvciB0aGUgdG9rZW4uXG4gICAqXG4gICAqIEluc2VydCBhbiBIVE1MIGVsZW1lbnQ6XG4gICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2luc2VydC1hbi1odG1sLWVsZW1lbnRcbiAgICogLSBJbnNlcnQgYSBmb3JlaWduIGVsZW1lbnQgZm9yIHRoZSB0b2tlbiBpbiB0aGUgSFRNTCBuYW1lc3BhY2U6XG4gICAqICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaW5zZXJ0LWEtZm9yZWlnbi1lbGVtZW50XG4gICAqICAgLSBDcmVhdGUgYW4gZWxlbWVudCBmb3IgYSB0b2tlbjpcbiAgICogICAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2NyZWF0ZS1hbi1lbGVtZW50LWZvci10aGUtdG9rZW5cbiAgICogICAgIC0gV2lsbCBleGVjdXRlIHNjcmlwdCBmbGFnIGlzIHRydWU/XG4gICAqICAgICAgIC0gKEVsZW1lbnQgcXVldWUgcHVzaGVkIHRvIHRoZSBjdXN0b20gZWxlbWVudCByZWFjdGlvbnMgc3RhY2suKVxuICAgKiAgICAgLSBDcmVhdGUgYW4gZWxlbWVudDpcbiAgICogICAgICAgaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LWNyZWF0ZS1lbGVtZW50XG4gICAqICAgICAgIC0gU3luYyBDRSBmbGFnIGlzIHRydWU/XG4gICAqICAgICAgICAgLSBDb25zdHJ1Y3RvciBjYWxsZWQuXG4gICAqICAgICAgICAgLSBTZWxmLW1vZGlmaWNhdGlvbiByZXN0cmljdGlvbnMgZW5mb3JjZWQuXG4gICAqICAgICAgIC0gU3luYyBDRSBmbGFnIGlzIGZhbHNlP1xuICAgKiAgICAgICAgIC0gKFVwZ3JhZGUgcmVhY3Rpb24gZW5xdWV1ZWQuKVxuICAgKiAgICAgLSBBdHRyaWJ1dGVzIGFwcGVuZGVkIHRvIGVsZW1lbnQuXG4gICAqICAgICAgIChgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCByZWFjdGlvbnMgZW5xdWV1ZWQuKVxuICAgKiAgICAgLSBXaWxsIGV4ZWN1dGUgc2NyaXB0IGZsYWcgaXMgdHJ1ZT9cbiAgICogICAgICAgLSAoRWxlbWVudCBxdWV1ZSBwb3BwZWQgZnJvbSB0aGUgY3VzdG9tIGVsZW1lbnQgcmVhY3Rpb25zIHN0YWNrLlxuICAgKiAgICAgICAgIFJlYWN0aW9ucyBpbiB0aGUgcG9wcGVkIHN0YWNrIGFyZSBpbnZva2VkLilcbiAgICogICAtIChFbGVtZW50IHF1ZXVlIHB1c2hlZCB0byB0aGUgY3VzdG9tIGVsZW1lbnQgcmVhY3Rpb25zIHN0YWNrLilcbiAgICogICAtIEluc2VydCB0aGUgZWxlbWVudDpcbiAgICogICAgIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1ub2RlLWluc2VydFxuICAgKiAgICAgLSBTaGFkb3ctaW5jbHVkaW5nIGRlc2NlbmRhbnRzIGFyZSBjb25uZWN0ZWQuIER1cmluZyBwYXJzaW5nXG4gICAqICAgICAgIGNvbnN0cnVjdGlvbiwgdGhlcmUgYXJlIG5vIHNoYWRvdy0qZXhjbHVkaW5nKiBkZXNjZW5kYW50cy5cbiAgICogICAgICAgSG93ZXZlciwgdGhlIGNvbnN0cnVjdG9yIG1heSBoYXZlIHZhbGlkbHkgYXR0YWNoZWQgYSBzaGFkb3dcbiAgICogICAgICAgdHJlZSB0byBpdHNlbGYgYW5kIGFkZGVkIGRlc2NlbmRhbnRzIHRvIHRoYXQgc2hhZG93IHRyZWUuXG4gICAqICAgICAgIChgY29ubmVjdGVkQ2FsbGJhY2tgIHJlYWN0aW9ucyBlbnF1ZXVlZC4pXG4gICAqICAgLSAoRWxlbWVudCBxdWV1ZSBwb3BwZWQgZnJvbSB0aGUgY3VzdG9tIGVsZW1lbnQgcmVhY3Rpb25zIHN0YWNrLlxuICAgKiAgICAgUmVhY3Rpb25zIGluIHRoZSBwb3BwZWQgc3RhY2sgYXJlIGludm9rZWQuKVxuICAgKlxuICAgKiBAcGFyYW0geyFOb2RlfSByb290XG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIHZpc2l0ZWRJbXBvcnRzOiAoIVNldDwhTm9kZT58dW5kZWZpbmVkKSxcbiAgICogICB1cGdyYWRlOiAoIWZ1bmN0aW9uKCFFbGVtZW50KXx1bmRlZmluZWQpLFxuICAgKiB9PX0gb3B0aW9uc1xuICAgKi9cbiAgcGF0Y2hBbmRVcGdyYWRlVHJlZShyb290LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB2aXNpdGVkSW1wb3J0cyA9IG9wdGlvbnMudmlzaXRlZEltcG9ydHMgfHwgbmV3IFNldCgpO1xuICAgIGNvbnN0IHVwZ3JhZGUgPSBvcHRpb25zLnVwZ3JhZGUgfHwgKGVsZW1lbnQgPT4gdGhpcy51cGdyYWRlRWxlbWVudChlbGVtZW50KSk7XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuXG4gICAgY29uc3QgZ2F0aGVyRWxlbWVudHMgPSBlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PT0gJ2xpbmsnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyZWwnKSA9PT0gJ2ltcG9ydCcpIHtcbiAgICAgICAgLy8gVGhlIEhUTUwgSW1wb3J0cyBwb2x5ZmlsbCBzZXRzIGEgZGVzY2VuZGFudCBlbGVtZW50IG9mIHRoZSBsaW5rIHRvXG4gICAgICAgIC8vIHRoZSBgaW1wb3J0YCBwcm9wZXJ0eSwgc3BlY2lmaWNhbGx5IHRoaXMgaXMgKm5vdCogYSBEb2N1bWVudC5cbiAgICAgICAgY29uc3QgaW1wb3J0Tm9kZSA9IC8qKiBAdHlwZSB7P05vZGV9ICovIChlbGVtZW50LmltcG9ydCk7XG5cbiAgICAgICAgaWYgKGltcG9ydE5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgaW1wb3J0Tm9kZS5fX0NFX2lzSW1wb3J0RG9jdW1lbnQgPSB0cnVlO1xuICAgICAgICAgIC8vIENvbm5lY3RlZCBsaW5rcyBhcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWdpc3RyeS5cbiAgICAgICAgICBpbXBvcnROb2RlLl9fQ0VfaGFzUmVnaXN0cnkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGltcG9ydE5vZGUgJiYgaW1wb3J0Tm9kZS5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgaW1wb3J0Tm9kZS5fX0NFX2RvY3VtZW50TG9hZEhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoaXMgbGluaydzIGltcG9ydCByb290IGlzIG5vdCBhdmFpbGFibGUsIGl0cyBjb250ZW50cyBjYW4ndCBiZVxuICAgICAgICAgIC8vIHdhbGtlZC4gV2FpdCBmb3IgJ2xvYWQnIGFuZCB3YWxrIGl0IHdoZW4gaXQncyByZWFkeS5cbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbXBvcnROb2RlID0gLyoqIEB0eXBlIHshTm9kZX0gKi8gKGVsZW1lbnQuaW1wb3J0KTtcblxuICAgICAgICAgICAgaWYgKGltcG9ydE5vZGUuX19DRV9kb2N1bWVudExvYWRIYW5kbGVkKSByZXR1cm47XG4gICAgICAgICAgICBpbXBvcnROb2RlLl9fQ0VfZG9jdW1lbnRMb2FkSGFuZGxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIENsb25lIHRoZSBgdmlzaXRlZEltcG9ydHNgIHNldCB0aGF0IHdhcyBwb3B1bGF0ZWQgc3luYyBkdXJpbmdcbiAgICAgICAgICAgIC8vIHRoZSBgcGF0Y2hBbmRVcGdyYWRlVHJlZWAgY2FsbCB0aGF0IGNhdXNlZCB0aGlzICdsb2FkJyBoYW5kbGVyIHRvXG4gICAgICAgICAgICAvLyBiZSBhZGRlZC4gVGhlbiwgcmVtb3ZlICp0aGlzKiBsaW5rJ3MgaW1wb3J0IG5vZGUgc28gdGhhdCB3ZSBjYW5cbiAgICAgICAgICAgIC8vIHdhbGsgdGhhdCBpbXBvcnQgYWdhaW4sIGV2ZW4gaWYgaXQgd2FzIHBhcnRpYWxseSB3YWxrZWQgbGF0ZXJcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgc2FtZSBgcGF0Y2hBbmRVcGdyYWRlVHJlZWAgY2FsbC5cbiAgICAgICAgICAgIGNvbnN0IGNsb25lZFZpc2l0ZWRJbXBvcnRzID0gbmV3IFNldCh2aXNpdGVkSW1wb3J0cyk7XG4gICAgICAgICAgICBjbG9uZWRWaXNpdGVkSW1wb3J0cy5kZWxldGUoaW1wb3J0Tm9kZSk7XG5cbiAgICAgICAgICAgIHRoaXMucGF0Y2hBbmRVcGdyYWRlVHJlZShpbXBvcnROb2RlLCB7dmlzaXRlZEltcG9ydHM6IGNsb25lZFZpc2l0ZWRJbXBvcnRzLCB1cGdyYWRlfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGB3YWxrRGVlcERlc2NlbmRhbnRFbGVtZW50c2AgcG9wdWxhdGVzIChhbmQgaW50ZXJuYWxseSBjaGVja3MgYWdhaW5zdClcbiAgICAvLyBgdmlzaXRlZEltcG9ydHNgIHdoZW4gdHJhdmVyc2luZyBhIGxvYWRlZCBpbXBvcnQuXG4gICAgVXRpbGl0aWVzLndhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzKHJvb3QsIGdhdGhlckVsZW1lbnRzLCB2aXNpdGVkSW1wb3J0cyk7XG5cbiAgICBpZiAodGhpcy5faGFzUGF0Y2hlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnBhdGNoKGVsZW1lbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGdyYWRlKGVsZW1lbnRzW2ldKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgdXBncmFkZUVsZW1lbnQoZWxlbWVudCkge1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGVsZW1lbnQuX19DRV9zdGF0ZTtcbiAgICBpZiAoY3VycmVudFN0YXRlICE9PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8vIFByZXZlbnQgZWxlbWVudHMgY3JlYXRlZCBpbiBkb2N1bWVudHMgd2l0aG91dCBhIGJyb3dzaW5nIGNvbnRleHQgZnJvbVxuICAgIC8vIHVwZ3JhZGluZy5cbiAgICAvL1xuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2N1c3RvbS1lbGVtZW50cy5odG1sI2xvb2stdXAtYS1jdXN0b20tZWxlbWVudC1kZWZpbml0aW9uXG4gICAgLy8gICBcIklmIGRvY3VtZW50IGRvZXMgbm90IGhhdmUgYSBicm93c2luZyBjb250ZXh0LCByZXR1cm4gbnVsbC5cIlxuICAgIC8vXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2luZG93LW9iamVjdC5odG1sI2RvbS1kb2N1bWVudC1kZWZhdWx0dmlld1xuICAgIC8vICAgXCJUaGUgZGVmYXVsdFZpZXcgSURMIGF0dHJpYnV0ZSBvZiB0aGUgRG9jdW1lbnQgaW50ZXJmYWNlLCBvbiBnZXR0aW5nLFxuICAgIC8vICAgbXVzdCByZXR1cm4gdGhpcyBEb2N1bWVudCdzIGJyb3dzaW5nIGNvbnRleHQncyBXaW5kb3dQcm94eSBvYmplY3QsIGlmXG4gICAgLy8gICB0aGlzIERvY3VtZW50IGhhcyBhbiBhc3NvY2lhdGVkIGJyb3dzaW5nIGNvbnRleHQsIG9yIG51bGwgb3RoZXJ3aXNlLlwiXG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBpZiAoXG4gICAgICAhb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJlxuICAgICAgIShvd25lckRvY3VtZW50Ll9fQ0VfaXNJbXBvcnREb2N1bWVudCAmJiBvd25lckRvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnkpXG4gICAgKSByZXR1cm47XG5cbiAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5sb2NhbE5hbWVUb0RlZmluaXRpb24oZWxlbWVudC5sb2NhbE5hbWUpO1xuICAgIGlmICghZGVmaW5pdGlvbikgcmV0dXJuO1xuXG4gICAgZGVmaW5pdGlvbi5jb25zdHJ1Y3Rpb25TdGFjay5wdXNoKGVsZW1lbnQpO1xuXG4gICAgY29uc3QgY29uc3RydWN0b3IgPSBkZWZpbml0aW9uLmNvbnN0cnVjdG9yO1xuICAgIHRyeSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IChjb25zdHJ1Y3RvcikoKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9yIGRpZCBub3QgcHJvZHVjZSB0aGUgZWxlbWVudCBiZWluZyB1cGdyYWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZGVmaW5pdGlvbi5jb25zdHJ1Y3Rpb25TdGFjay5wb3AoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbGVtZW50Ll9fQ0Vfc3RhdGUgPSBDRVN0YXRlLmZhaWxlZDtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgZWxlbWVudC5fX0NFX3N0YXRlID0gQ0VTdGF0ZS5jdXN0b207XG4gICAgZWxlbWVudC5fX0NFX2RlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuXG4gICAgaWYgKGRlZmluaXRpb24uYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKSB7XG4gICAgICBjb25zdCBvYnNlcnZlZEF0dHJpYnV0ZXMgPSBkZWZpbml0aW9uLm9ic2VydmVkQXR0cmlidXRlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZWRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBvYnNlcnZlZEF0dHJpYnV0ZXNbaV07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGVsZW1lbnQsIG5hbWUsIG51bGwsIHZhbHVlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChVdGlsaXRpZXMuaXNDb25uZWN0ZWQoZWxlbWVudCkpIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkQ2FsbGJhY2soZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKGVsZW1lbnQpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gZWxlbWVudC5fX0NFX2RlZmluaXRpb247XG4gICAgaWYgKGRlZmluaXRpb24uY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgIGRlZmluaXRpb24uY29ubmVjdGVkQ2FsbGJhY2suY2FsbChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soZWxlbWVudCkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBlbGVtZW50Ll9fQ0VfZGVmaW5pdGlvbjtcbiAgICBpZiAoZGVmaW5pdGlvbi5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgZGVmaW5pdGlvbi5kaXNjb25uZWN0ZWRDYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkVmFsdWVcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBuZXdWYWx1ZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGVsZW1lbnQsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IGVsZW1lbnQuX19DRV9kZWZpbml0aW9uO1xuICAgIGlmIChcbiAgICAgIGRlZmluaXRpb24uYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrICYmXG4gICAgICBkZWZpbml0aW9uLm9ic2VydmVkQXR0cmlidXRlcy5pbmRleE9mKG5hbWUpID4gLTFcbiAgICApIHtcbiAgICAgIGRlZmluaXRpb24uYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrLmNhbGwoZWxlbWVudCwgbmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9DdXN0b21FbGVtZW50SW50ZXJuYWxzLmpzIiwiLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBDdXN0b21FbGVtZW50U3RhdGUgPSB7XG4gIGN1c3RvbTogMSxcbiAgZmFpbGVkOiAyLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tRWxlbWVudFN0YXRlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9DdXN0b21FbGVtZW50U3RhdGUuanMiLCJpbXBvcnQgQ3VzdG9tRWxlbWVudEludGVybmFscyBmcm9tICcuL0N1c3RvbUVsZW1lbnRJbnRlcm5hbHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb2N1bWVudENvbnN0cnVjdGlvbk9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoaW50ZXJuYWxzLCBkb2MpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IUN1c3RvbUVsZW1lbnRJbnRlcm5hbHN9XG4gICAgICovXG4gICAgdGhpcy5faW50ZXJuYWxzID0gaW50ZXJuYWxzO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFEb2N1bWVudH1cbiAgICAgKi9cbiAgICB0aGlzLl9kb2N1bWVudCA9IGRvYztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNdXRhdGlvbk9ic2VydmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLl9vYnNlcnZlciA9IHVuZGVmaW5lZDtcblxuXG4gICAgLy8gU2ltdWxhdGUgdHJlZSBjb25zdHJ1Y3Rpb24gZm9yIGFsbCBjdXJyZW50bHkgYWNjZXNzaWJsZSBub2RlcyBpbiB0aGVcbiAgICAvLyBkb2N1bWVudC5cbiAgICB0aGlzLl9pbnRlcm5hbHMucGF0Y2hBbmRVcGdyYWRlVHJlZSh0aGlzLl9kb2N1bWVudCk7XG5cbiAgICBpZiAodGhpcy5fZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX2hhbmRsZU11dGF0aW9ucy5iaW5kKHRoaXMpKTtcblxuICAgICAgLy8gTm9kZXMgY3JlYXRlZCBieSB0aGUgcGFyc2VyIGFyZSBnaXZlbiB0byB0aGUgb2JzZXJ2ZXIgKmJlZm9yZSogdGhlIG5leHRcbiAgICAgIC8vIHRhc2sgcnVucy4gSW5saW5lIHNjcmlwdHMgYXJlIHJ1biBpbiBhIG5ldyB0YXNrLiBUaGlzIG1lYW5zIHRoYXQgdGhlXG4gICAgICAvLyBvYnNlcnZlciB3aWxsIGJlIGFibGUgdG8gaGFuZGxlIHRoZSBuZXdseSBwYXJzZWQgbm9kZXMgYmVmb3JlIHRoZSBpbmxpbmVcbiAgICAgIC8vIHNjcmlwdCBpcyBydW4uXG4gICAgICB0aGlzLl9vYnNlcnZlci5vYnNlcnZlKHRoaXMuX2RvY3VtZW50LCB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuX29ic2VydmVyKSB7XG4gICAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFNdXRhdGlvblJlY29yZD59IG11dGF0aW9uc1xuICAgKi9cbiAgX2hhbmRsZU11dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICAvLyBPbmNlIHRoZSBkb2N1bWVudCdzIGByZWFkeVN0YXRlYCBpcyAnaW50ZXJhY3RpdmUnIG9yICdjb21wbGV0ZScsIGFsbCBuZXdcbiAgICAvLyBub2RlcyBjcmVhdGVkIHdpdGhpbiB0aGF0IGRvY3VtZW50IHdpbGwgYmUgdGhlIHJlc3VsdCBvZiBzY3JpcHQgYW5kXG4gICAgLy8gc2hvdWxkIGJlIGhhbmRsZWQgYnkgcGF0Y2hpbmcuXG4gICAgY29uc3QgcmVhZHlTdGF0ZSA9IHRoaXMuX2RvY3VtZW50LnJlYWR5U3RhdGU7XG4gICAgaWYgKHJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScgfHwgcmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFkZGVkTm9kZXMgPSBtdXRhdGlvbnNbaV0uYWRkZWROb2RlcztcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWRkZWROb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBub2RlID0gYWRkZWROb2Rlc1tqXTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLnBhdGNoQW5kVXBncmFkZVRyZWUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0RvY3VtZW50Q29uc3RydWN0aW9uT2JzZXJ2ZXIuanMiLCIvKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmVycmVkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5fcmVzb2x2ZSA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFQcm9taXNlPFQ+fVxuICAgICAqL1xuICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICBpZiAodGhpcy5fdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLl92YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUfSB2YWx1ZVxuICAgKi9cbiAgcmVzb2x2ZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl92YWx1ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IHJlc29sdmVkLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAodGhpcy5fcmVzb2x2ZSkge1xuICAgICAgdGhpcy5fcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPFQ+fVxuICAgKi9cbiAgdG9Qcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0RlZmVycmVkLmpzIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMgZnJvbSAnLi9DdXN0b21FbGVtZW50SW50ZXJuYWxzLmpzJztcbmltcG9ydCBEb2N1bWVudENvbnN0cnVjdGlvbk9ic2VydmVyIGZyb20gJy4vRG9jdW1lbnRDb25zdHJ1Y3Rpb25PYnNlcnZlci5qcyc7XG5pbXBvcnQgRGVmZXJyZWQgZnJvbSAnLi9EZWZlcnJlZC5qcyc7XG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi9VdGlsaXRpZXMuanMnO1xuXG4vKipcbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcblxuICAvKipcbiAgICogQHBhcmFtIHshQ3VzdG9tRWxlbWVudEludGVybmFsc30gaW50ZXJuYWxzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpbnRlcm5hbHMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuX2VsZW1lbnREZWZpbml0aW9uSXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshQ3VzdG9tRWxlbWVudEludGVybmFsc31cbiAgICAgKi9cbiAgICB0aGlzLl9pbnRlcm5hbHMgPSBpbnRlcm5hbHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshTWFwPHN0cmluZywgIURlZmVycmVkPHVuZGVmaW5lZD4+fVxuICAgICAqL1xuICAgIHRoaXMuX3doZW5EZWZpbmVkRGVmZXJyZWQgPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmbHVzaCBjYWxsYmFjayB0cmlnZ2VycyB0aGUgZG9jdW1lbnQgd2FsayBzeW5jaHJvbm91c2x5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLl9mbHVzaENhbGxiYWNrID0gZm4gPT4gZm4oKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fZmx1c2hQZW5kaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshQXJyYXk8IUN1c3RvbUVsZW1lbnREZWZpbml0aW9uPn1cbiAgICAgKi9cbiAgICB0aGlzLl9wZW5kaW5nRGVmaW5pdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFEb2N1bWVudENvbnN0cnVjdGlvbk9ic2VydmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2RvY3VtZW50Q29uc3RydWN0aW9uT2JzZXJ2ZXIgPSBuZXcgRG9jdW1lbnRDb25zdHJ1Y3Rpb25PYnNlcnZlcihpbnRlcm5hbHMsIGRvY3VtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxOYW1lXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZGVmaW5lKGxvY2FsTmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ3VzdG9tIGVsZW1lbnQgY29uc3RydWN0b3JzIG11c3QgYmUgZnVuY3Rpb25zLicpO1xuICAgIH1cblxuICAgIGlmICghVXRpbGl0aWVzLmlzVmFsaWRDdXN0b21FbGVtZW50TmFtZShsb2NhbE5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFRoZSBlbGVtZW50IG5hbWUgJyR7bG9jYWxOYW1lfScgaXMgbm90IHZhbGlkLmApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9pbnRlcm5hbHMubG9jYWxOYW1lVG9EZWZpbml0aW9uKGxvY2FsTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQSBjdXN0b20gZWxlbWVudCB3aXRoIG5hbWUgJyR7bG9jYWxOYW1lfScgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLmApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9lbGVtZW50RGVmaW5pdGlvbklzUnVubmluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIGN1c3RvbSBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgZGVmaW5lZC4nKTtcbiAgICB9XG4gICAgdGhpcy5fZWxlbWVudERlZmluaXRpb25Jc1J1bm5pbmcgPSB0cnVlO1xuXG4gICAgbGV0IGNvbm5lY3RlZENhbGxiYWNrO1xuICAgIGxldCBkaXNjb25uZWN0ZWRDYWxsYmFjaztcbiAgICBsZXQgYWRvcHRlZENhbGxiYWNrO1xuICAgIGxldCBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s7XG4gICAgbGV0IG9ic2VydmVkQXR0cmlidXRlcztcbiAgICB0cnkge1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgY29uc3QgcHJvdG90eXBlID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgaWYgKCEocHJvdG90eXBlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY3VzdG9tIGVsZW1lbnQgY29uc3RydWN0b3JcXCdzIHByb3RvdHlwZSBpcyBub3QgYW4gb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDYWxsYmFjayhuYW1lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrVmFsdWUgPSBwcm90b3R5cGVbbmFtZV07XG4gICAgICAgIGlmIChjYWxsYmFja1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgIShjYWxsYmFja1ZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgJyR7bmFtZX0nIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbGJhY2tWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgY29ubmVjdGVkQ2FsbGJhY2sgPSBnZXRDYWxsYmFjaygnY29ubmVjdGVkQ2FsbGJhY2snKTtcbiAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrID0gZ2V0Q2FsbGJhY2soJ2Rpc2Nvbm5lY3RlZENhbGxiYWNrJyk7XG4gICAgICBhZG9wdGVkQ2FsbGJhY2sgPSBnZXRDYWxsYmFjaygnYWRvcHRlZENhbGxiYWNrJyk7XG4gICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sgPSBnZXRDYWxsYmFjaygnYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJyk7XG4gICAgICBvYnNlcnZlZEF0dHJpYnV0ZXMgPSBjb25zdHJ1Y3Rvclsnb2JzZXJ2ZWRBdHRyaWJ1dGVzJ10gfHwgW107XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLl9lbGVtZW50RGVmaW5pdGlvbklzUnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmluaXRpb24gPSB7XG4gICAgICBsb2NhbE5hbWUsXG4gICAgICBjb25zdHJ1Y3RvcixcbiAgICAgIGNvbm5lY3RlZENhbGxiYWNrLFxuICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2ssXG4gICAgICBhZG9wdGVkQ2FsbGJhY2ssXG4gICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2ssXG4gICAgICBvYnNlcnZlZEF0dHJpYnV0ZXMsXG4gICAgICBjb25zdHJ1Y3Rpb25TdGFjazogW10sXG4gICAgfTtcblxuICAgIHRoaXMuX2ludGVybmFscy5zZXREZWZpbml0aW9uKGxvY2FsTmFtZSwgZGVmaW5pdGlvbik7XG4gICAgdGhpcy5fcGVuZGluZ0RlZmluaXRpb25zLnB1c2goZGVmaW5pdGlvbik7XG5cbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGNhbGxlZCB0aGUgZmx1c2ggY2FsbGJhY2sgYW5kIGl0IGhhc24ndCBjYWxsZWQgYmFjayB5ZXQsXG4gICAgLy8gZG9uJ3QgY2FsbCBpdCBhZ2Fpbi5cbiAgICBpZiAoIXRoaXMuX2ZsdXNoUGVuZGluZykge1xuICAgICAgdGhpcy5fZmx1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2ZsdXNoQ2FsbGJhY2soKCkgPT4gdGhpcy5fZmx1c2goKSk7XG4gICAgfVxuICB9XG5cbiAgX2ZsdXNoKCkge1xuICAgIC8vIElmIG5vIG5ldyBkZWZpbml0aW9ucyB3ZXJlIGRlZmluZWQsIGRvbid0IGF0dGVtcHQgdG8gZmx1c2guIFRoaXMgY291bGRcbiAgICAvLyBoYXBwZW4gaWYgYSBmbHVzaCBjYWxsYmFjayBrZWVwcyB0aGUgZnVuY3Rpb24gaXQgaXMgZ2l2ZW4gYW5kIGNhbGxzIGl0XG4gICAgLy8gbXVsdGlwbGUgdGltZXMuXG4gICAgaWYgKHRoaXMuX2ZsdXNoUGVuZGluZyA9PT0gZmFsc2UpIHJldHVybjtcbiAgICB0aGlzLl9mbHVzaFBlbmRpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0IHBlbmRpbmdEZWZpbml0aW9ucyA9IHRoaXMuX3BlbmRpbmdEZWZpbml0aW9ucztcblxuICAgIC8qKlxuICAgICAqIFVudXBncmFkZWQgZWxlbWVudHMgd2l0aCBkZWZpbml0aW9ucyB0aGF0IHdlcmUgZGVmaW5lZCAqYmVmb3JlKiB0aGUgbGFzdFxuICAgICAqIGZsdXNoLCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgKiBAdHlwZSB7IUFycmF5PCFFbGVtZW50Pn1cbiAgICAgKi9cbiAgICBjb25zdCBlbGVtZW50c1dpdGhTdGFibGVEZWZpbml0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgZnJvbSBgbG9jYWxOYW1lYHMgb2YgZGVmaW5pdGlvbnMgdGhhdCB3ZXJlIGRlZmluZWQgKmFmdGVyKiB0aGUgbGFzdFxuICAgICAqIGZsdXNoIHRvIHVudXBncmFkZWQgZWxlbWVudHMgbWF0Y2hpbmcgdGhhdCBkZWZpbml0aW9uLCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgKiBAdHlwZSB7IU1hcDxzdHJpbmcsICFBcnJheTwhRWxlbWVudD4+fVxuICAgICAqL1xuICAgIGNvbnN0IGVsZW1lbnRzV2l0aFBlbmRpbmdEZWZpbml0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlbmRpbmdEZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZWxlbWVudHNXaXRoUGVuZGluZ0RlZmluaXRpb25zLnNldChwZW5kaW5nRGVmaW5pdGlvbnNbaV0ubG9jYWxOYW1lLCBbXSk7XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJuYWxzLnBhdGNoQW5kVXBncmFkZVRyZWUoZG9jdW1lbnQsIHtcbiAgICAgIHVwZ3JhZGU6IGVsZW1lbnQgPT4ge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGVsZW1lbnQgaWYgaXQgaGFzIGFscmVhZHkgdXBncmFkZWQgb3IgZmFpbGVkIHRvIHVwZ3JhZGUuXG4gICAgICAgIGlmIChlbGVtZW50Ll9fQ0Vfc3RhdGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxvY2FsTmFtZSA9IGVsZW1lbnQubG9jYWxOYW1lO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGFwcGxpY2FibGUgcGVuZGluZyBkZWZpbml0aW9uIGZvciB0aGUgZWxlbWVudCwgYWRkIHRoZVxuICAgICAgICAvLyBlbGVtZW50IHRvIHRoZSBsaXN0IG9mIGVsZW1lbnRzIHRvIGJlIHVwZ3JhZGVkIHdpdGggdGhhdCBkZWZpbml0aW9uLlxuICAgICAgICBjb25zdCBwZW5kaW5nRWxlbWVudHMgPSBlbGVtZW50c1dpdGhQZW5kaW5nRGVmaW5pdGlvbnMuZ2V0KGxvY2FsTmFtZSk7XG4gICAgICAgIGlmIChwZW5kaW5nRWxlbWVudHMpIHtcbiAgICAgICAgICBwZW5kaW5nRWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgKmFueSBvdGhlciogYXBwbGljYWJsZSBkZWZpbml0aW9uIGZvciB0aGUgZWxlbWVudCwgYWRkIGl0XG4gICAgICAgIC8vIHRvIHRoZSBsaXN0IG9mIGVsZW1lbnRzIHdpdGggc3RhYmxlIGRlZmluaXRpb25zIHRoYXQgbmVlZCB0byBiZSB1cGdyYWRlZC5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pbnRlcm5hbHMubG9jYWxOYW1lVG9EZWZpbml0aW9uKGxvY2FsTmFtZSkpIHtcbiAgICAgICAgICBlbGVtZW50c1dpdGhTdGFibGVEZWZpbml0aW9ucy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gVXBncmFkZSBlbGVtZW50cyB3aXRoICdzdGFibGUnIGRlZmluaXRpb25zIGZpcnN0LlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHNXaXRoU3RhYmxlRGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2ludGVybmFscy51cGdyYWRlRWxlbWVudChlbGVtZW50c1dpdGhTdGFibGVEZWZpbml0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgLy8gVXBncmFkZSBlbGVtZW50cyB3aXRoICdwZW5kaW5nJyBkZWZpbml0aW9ucyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGRlZmluZWQuXG4gICAgd2hpbGUgKHBlbmRpbmdEZWZpbml0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gcGVuZGluZ0RlZmluaXRpb25zLnNoaWZ0KCk7XG4gICAgICBjb25zdCBsb2NhbE5hbWUgPSBkZWZpbml0aW9uLmxvY2FsTmFtZTtcblxuICAgICAgLy8gQXR0ZW1wdCB0byB1cGdyYWRlIGFsbCBhcHBsaWNhYmxlIGVsZW1lbnRzLlxuICAgICAgY29uc3QgcGVuZGluZ1VwZ3JhZGFibGVFbGVtZW50cyA9IGVsZW1lbnRzV2l0aFBlbmRpbmdEZWZpbml0aW9ucy5nZXQoZGVmaW5pdGlvbi5sb2NhbE5hbWUpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZW5kaW5nVXBncmFkYWJsZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy51cGdyYWRlRWxlbWVudChwZW5kaW5nVXBncmFkYWJsZUVsZW1lbnRzW2ldKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzb2x2ZSBhbnkgcHJvbWlzZXMgY3JlYXRlZCBieSBgd2hlbkRlZmluZWRgIGZvciB0aGUgZGVmaW5pdGlvbi5cbiAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5fd2hlbkRlZmluZWREZWZlcnJlZC5nZXQobG9jYWxOYW1lKTtcbiAgICAgIGlmIChkZWZlcnJlZCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbE5hbWVcbiAgICogQHJldHVybiB7RnVuY3Rpb258dW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0KGxvY2FsTmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSB0aGlzLl9pbnRlcm5hbHMubG9jYWxOYW1lVG9EZWZpbml0aW9uKGxvY2FsTmFtZSk7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiBkZWZpbml0aW9uLmNvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsTmFtZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTx1bmRlZmluZWQ+fVxuICAgKi9cbiAgd2hlbkRlZmluZWQobG9jYWxOYW1lKSB7XG4gICAgaWYgKCFVdGlsaXRpZXMuaXNWYWxpZEN1c3RvbUVsZW1lbnROYW1lKGxvY2FsTmFtZSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3ludGF4RXJyb3IoYCcke2xvY2FsTmFtZX0nIGlzIG5vdCBhIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUuYCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHByaW9yID0gdGhpcy5fd2hlbkRlZmluZWREZWZlcnJlZC5nZXQobG9jYWxOYW1lKTtcbiAgICBpZiAocHJpb3IpIHtcbiAgICAgIHJldHVybiBwcmlvci50b1Byb21pc2UoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHRoaXMuX3doZW5EZWZpbmVkRGVmZXJyZWQuc2V0KGxvY2FsTmFtZSwgZGVmZXJyZWQpO1xuXG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHRoaXMuX2ludGVybmFscy5sb2NhbE5hbWVUb0RlZmluaXRpb24obG9jYWxOYW1lKTtcbiAgICAvLyBSZXNvbHZlIGltbWVkaWF0ZWx5IG9ubHkgaWYgdGhlIGdpdmVuIGxvY2FsIG5hbWUgaGFzIGEgZGVmaW5pdGlvbiAqYW5kKlxuICAgIC8vIHRoZSBmdWxsIGRvY3VtZW50IHdhbGsgdG8gdXBncmFkZSBlbGVtZW50cyB3aXRoIHRoYXQgbG9jYWwgbmFtZSBoYXNcbiAgICAvLyBhbHJlYWR5IGhhcHBlbmVkLlxuICAgIGlmIChkZWZpbml0aW9uICYmICF0aGlzLl9wZW5kaW5nRGVmaW5pdGlvbnMuc29tZShkID0+IGQubG9jYWxOYW1lID09PSBsb2NhbE5hbWUpKSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnRvUHJvbWlzZSgpO1xuICB9XG5cbiAgcG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayhvdXRlcikge1xuICAgIHRoaXMuX2RvY3VtZW50Q29uc3RydWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZmx1c2hDYWxsYmFjaztcbiAgICB0aGlzLl9mbHVzaENhbGxiYWNrID0gZmx1c2ggPT4gb3V0ZXIoKCkgPT4gaW5uZXIoZmx1c2gpKTtcbiAgfVxufVxuXG4vLyBDbG9zdXJlIGNvbXBpbGVyIGV4cG9ydHMuXG53aW5kb3dbJ0N1c3RvbUVsZW1lbnRSZWdpc3RyeSddID0gQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5O1xuQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZVsnZGVmaW5lJ10gPSBDdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmRlZmluZTtcbkN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGVbJ2dldCddID0gQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5nZXQ7XG5DdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlWyd3aGVuRGVmaW5lZCddID0gQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS53aGVuRGVmaW5lZDtcbkN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGVbJ3BvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2snXSA9IEN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LmpzIiwiZXhwb3J0IGRlZmF1bHQge1xuICBEb2N1bWVudF9jcmVhdGVFbGVtZW50OiB3aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQsXG4gIERvY3VtZW50X2NyZWF0ZUVsZW1lbnROUzogd2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50TlMsXG4gIERvY3VtZW50X2ltcG9ydE5vZGU6IHdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZSxcbiAgRG9jdW1lbnRfcHJlcGVuZDogd2luZG93LkRvY3VtZW50LnByb3RvdHlwZVsncHJlcGVuZCddLFxuICBEb2N1bWVudF9hcHBlbmQ6IHdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGVbJ2FwcGVuZCddLFxuICBEb2N1bWVudEZyYWdtZW50X3ByZXBlbmQ6IHdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZVsncHJlcGVuZCddLFxuICBEb2N1bWVudEZyYWdtZW50X2FwcGVuZDogd2luZG93LkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlWydhcHBlbmQnXSxcbiAgTm9kZV9jbG9uZU5vZGU6IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGUsXG4gIE5vZGVfYXBwZW5kQ2hpbGQ6IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxcbiAgTm9kZV9pbnNlcnRCZWZvcmU6IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsXG4gIE5vZGVfcmVtb3ZlQ2hpbGQ6IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxcbiAgTm9kZV9yZXBsYWNlQ2hpbGQ6IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsXG4gIE5vZGVfdGV4dENvbnRlbnQ6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93Lk5vZGUucHJvdG90eXBlLCAndGV4dENvbnRlbnQnKSxcbiAgRWxlbWVudF9hdHRhY2hTaGFkb3c6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZVsnYXR0YWNoU2hhZG93J10sXG4gIEVsZW1lbnRfaW5uZXJIVE1MOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZSwgJ2lubmVySFRNTCcpLFxuICBFbGVtZW50X2dldEF0dHJpYnV0ZTogd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmdldEF0dHJpYnV0ZSxcbiAgRWxlbWVudF9zZXRBdHRyaWJ1dGU6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUsXG4gIEVsZW1lbnRfcmVtb3ZlQXR0cmlidXRlOiB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlLFxuICBFbGVtZW50X2dldEF0dHJpYnV0ZU5TOiB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTlMsXG4gIEVsZW1lbnRfc2V0QXR0cmlidXRlTlM6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOUyxcbiAgRWxlbWVudF9yZW1vdmVBdHRyaWJ1dGVOUzogd2luZG93LkVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZU5TLFxuICBFbGVtZW50X2luc2VydEFkamFjZW50RWxlbWVudDogd2luZG93LkVsZW1lbnQucHJvdG90eXBlWydpbnNlcnRBZGphY2VudEVsZW1lbnQnXSxcbiAgRWxlbWVudF9wcmVwZW5kOiB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGVbJ3ByZXBlbmQnXSxcbiAgRWxlbWVudF9hcHBlbmQ6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZVsnYXBwZW5kJ10sXG4gIEVsZW1lbnRfYmVmb3JlOiB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGVbJ2JlZm9yZSddLFxuICBFbGVtZW50X2FmdGVyOiB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGVbJ2FmdGVyJ10sXG4gIEVsZW1lbnRfcmVwbGFjZVdpdGg6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZVsncmVwbGFjZVdpdGgnXSxcbiAgRWxlbWVudF9yZW1vdmU6IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZVsncmVtb3ZlJ10sXG4gIEhUTUxFbGVtZW50OiB3aW5kb3cuSFRNTEVsZW1lbnQsXG4gIEhUTUxFbGVtZW50X2lubmVySFRNTDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnaW5uZXJIVE1MJyksXG4gIEhUTUxFbGVtZW50X2luc2VydEFkamFjZW50RWxlbWVudDogd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZVsnaW5zZXJ0QWRqYWNlbnRFbGVtZW50J10sXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9QYXRjaC9OYXRpdmUuanMiLCJpbXBvcnQgTmF0aXZlIGZyb20gJy4vTmF0aXZlLmpzJztcbmltcG9ydCBDdXN0b21FbGVtZW50SW50ZXJuYWxzIGZyb20gJy4uL0N1c3RvbUVsZW1lbnRJbnRlcm5hbHMuanMnO1xuaW1wb3J0IENFU3RhdGUgZnJvbSAnLi4vQ3VzdG9tRWxlbWVudFN0YXRlLmpzJztcbmltcG9ydCBBbHJlYWR5Q29uc3RydWN0ZWRNYXJrZXIgZnJvbSAnLi4vQWxyZWFkeUNvbnN0cnVjdGVkTWFya2VyLmpzJztcblxuLyoqXG4gKiBAcGFyYW0geyFDdXN0b21FbGVtZW50SW50ZXJuYWxzfSBpbnRlcm5hbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW50ZXJuYWxzKSB7XG4gIHdpbmRvd1snSFRNTEVsZW1lbnQnXSA9IChmdW5jdGlvbigpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24obmV3OiBIVE1MRWxlbWVudCk6ICFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIVE1MRWxlbWVudCgpIHtcbiAgICAgIC8vIFRoaXMgc2hvdWxkIHJlYWxseSBiZSBgbmV3LnRhcmdldGAgYnV0IGBuZXcudGFyZ2V0YCBjYW4ndCBiZSBlbXVsYXRlZFxuICAgICAgLy8gaW4gRVM1LiBBc3N1bWluZyB0aGUgdXNlciBrZWVwcyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgY29uc3RydWN0b3Inc1xuICAgICAgLy8gcHJvdG90eXBlJ3MgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSwgdGhpcyBpcyBlcXVpdmFsZW50LlxuICAgICAgLyoqIEB0eXBlIHshRnVuY3Rpb259ICovXG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG5cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBpbnRlcm5hbHMuY29uc3RydWN0b3JUb0RlZmluaXRpb24oY29uc3RydWN0b3IpO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN1c3RvbSBlbGVtZW50IGJlaW5nIGNvbnN0cnVjdGVkIHdhcyBub3QgcmVnaXN0ZXJlZCB3aXRoIGBjdXN0b21FbGVtZW50c2AuJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbnN0cnVjdGlvblN0YWNrID0gZGVmaW5pdGlvbi5jb25zdHJ1Y3Rpb25TdGFjaztcblxuICAgICAgaWYgKGNvbnN0cnVjdGlvblN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gTmF0aXZlLkRvY3VtZW50X2NyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgZGVmaW5pdGlvbi5sb2NhbE5hbWUpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZWxlbWVudCwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgZWxlbWVudC5fX0NFX3N0YXRlID0gQ0VTdGF0ZS5jdXN0b207XG4gICAgICAgIGVsZW1lbnQuX19DRV9kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgaW50ZXJuYWxzLnBhdGNoKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGFzdEluZGV4ID0gY29uc3RydWN0aW9uU3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb25zdHJ1Y3Rpb25TdGFja1tsYXN0SW5kZXhdO1xuICAgICAgaWYgKGVsZW1lbnQgPT09IEFscmVhZHlDb25zdHJ1Y3RlZE1hcmtlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBIVE1MRWxlbWVudCBjb25zdHJ1Y3RvciB3YXMgZWl0aGVyIGNhbGxlZCByZWVudHJhbnRseSBmb3IgdGhpcyBjb25zdHJ1Y3RvciBvciBjYWxsZWQgbXVsdGlwbGUgdGltZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdHJ1Y3Rpb25TdGFja1tsYXN0SW5kZXhdID0gQWxyZWFkeUNvbnN0cnVjdGVkTWFya2VyO1xuXG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZWxlbWVudCwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgIGludGVybmFscy5wYXRjaCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKGVsZW1lbnQpKTtcblxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgSFRNTEVsZW1lbnQucHJvdG90eXBlID0gTmF0aXZlLkhUTUxFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHJldHVybiBIVE1MRWxlbWVudDtcbiAgfSkoKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL1BhdGNoL0hUTUxFbGVtZW50LmpzIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCBDdXN0b21FbGVtZW50SW50ZXJuYWxzIGZyb20gJy4vQ3VzdG9tRWxlbWVudEludGVybmFscy5qcyc7XG5pbXBvcnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IGZyb20gJy4vQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LmpzJztcblxuaW1wb3J0IFBhdGNoSFRNTEVsZW1lbnQgZnJvbSAnLi9QYXRjaC9IVE1MRWxlbWVudC5qcyc7XG5pbXBvcnQgUGF0Y2hEb2N1bWVudCBmcm9tICcuL1BhdGNoL0RvY3VtZW50LmpzJztcbmltcG9ydCBQYXRjaERvY3VtZW50RnJhZ21lbnQgZnJvbSAnLi9QYXRjaC9Eb2N1bWVudEZyYWdtZW50LmpzJztcbmltcG9ydCBQYXRjaE5vZGUgZnJvbSAnLi9QYXRjaC9Ob2RlLmpzJztcbmltcG9ydCBQYXRjaEVsZW1lbnQgZnJvbSAnLi9QYXRjaC9FbGVtZW50LmpzJztcblxuY29uc3QgcHJpb3JDdXN0b21FbGVtZW50cyA9IHdpbmRvd1snY3VzdG9tRWxlbWVudHMnXTtcblxuaWYgKCFwcmlvckN1c3RvbUVsZW1lbnRzIHx8XG4gICAgIHByaW9yQ3VzdG9tRWxlbWVudHNbJ2ZvcmNlUG9seWZpbGwnXSB8fFxuICAgICAodHlwZW9mIHByaW9yQ3VzdG9tRWxlbWVudHNbJ2RlZmluZSddICE9ICdmdW5jdGlvbicpIHx8XG4gICAgICh0eXBlb2YgcHJpb3JDdXN0b21FbGVtZW50c1snZ2V0J10gIT0gJ2Z1bmN0aW9uJykpIHtcbiAgLyoqIEB0eXBlIHshQ3VzdG9tRWxlbWVudEludGVybmFsc30gKi9cbiAgY29uc3QgaW50ZXJuYWxzID0gbmV3IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMoKTtcblxuICBQYXRjaEhUTUxFbGVtZW50KGludGVybmFscyk7XG4gIFBhdGNoRG9jdW1lbnQoaW50ZXJuYWxzKTtcbiAgUGF0Y2hEb2N1bWVudEZyYWdtZW50KGludGVybmFscyk7XG4gIFBhdGNoTm9kZShpbnRlcm5hbHMpO1xuICBQYXRjaEVsZW1lbnQoaW50ZXJuYWxzKTtcblxuICAvLyBUaGUgbWFpbiBkb2N1bWVudCBpcyBhbHdheXMgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWdpc3RyeS5cbiAgZG9jdW1lbnQuX19DRV9oYXNSZWdpc3RyeSA9IHRydWU7XG5cbiAgLyoqIEB0eXBlIHshQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5fSAqL1xuICBjb25zdCBjdXN0b21FbGVtZW50cyA9IG5ldyBDdXN0b21FbGVtZW50UmVnaXN0cnkoaW50ZXJuYWxzKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnY3VzdG9tRWxlbWVudHMnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IGN1c3RvbUVsZW1lbnRzLFxuICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvY3VzdG9tLWVsZW1lbnRzLmpzIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMgZnJvbSAnLi4vLi4vQ3VzdG9tRWxlbWVudEludGVybmFscy5qcyc7XG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi4vLi4vVXRpbGl0aWVzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBwcmVwZW5kOiAhZnVuY3Rpb24oLi4uKCFOb2RlfHN0cmluZykpLFxuICAqICBhcHBlbmQ6ICFmdW5jdGlvbiguLi4oIU5vZGV8c3RyaW5nKSksXG4gKiB9fVxuICovXG5sZXQgUGFyZW50Tm9kZU5hdGl2ZU1ldGhvZHM7XG5cbi8qKlxuICogQHBhcmFtIHshQ3VzdG9tRWxlbWVudEludGVybmFsc30gaW50ZXJuYWxzXG4gKiBAcGFyYW0geyFPYmplY3R9IGRlc3RpbmF0aW9uXG4gKiBAcGFyYW0geyFQYXJlbnROb2RlTmF0aXZlTWV0aG9kc30gYnVpbHRJblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnRlcm5hbHMsIGRlc3RpbmF0aW9uLCBidWlsdEluKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFmdW5jdGlvbiguLi4oIU5vZGV8c3RyaW5nKSl9IGJ1aWx0SW5NZXRob2RcbiAgICogQHJldHVybiB7IWZ1bmN0aW9uKC4uLighTm9kZXxzdHJpbmcpKX1cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFByZXBlbmRQYXRjaChidWlsdEluTWV0aG9kKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLm5vZGVzKSB7XG4gICAgICAvKipcbiAgICAgICAqIEEgY29weSBvZiBgbm9kZXNgLCB3aXRoIGFueSBEb2N1bWVudEZyYWdtZW50IHJlcGxhY2VkIGJ5IGl0cyBjaGlsZHJlbi5cbiAgICAgICAqIEB0eXBlIHshQXJyYXk8IU5vZGU+fVxuICAgICAgICovXG4gICAgICBjb25zdCBmbGF0dGVuZWROb2RlcyA9IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIEVsZW1lbnRzIGluIGBub2Rlc2AgdGhhdCB3ZXJlIGNvbm5lY3RlZCBiZWZvcmUgdGhpcyBjYWxsLlxuICAgICAgICogQHR5cGUgeyFBcnJheTwhTm9kZT59XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNvbm5lY3RlZEVsZW1lbnRzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCAmJiBVdGlsaXRpZXMuaXNDb25uZWN0ZWQobm9kZSkpIHtcbiAgICAgICAgICBjb25uZWN0ZWRFbGVtZW50cy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgICAgZm9yIChsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBmbGF0dGVuZWROb2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdHRlbmVkTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBidWlsdEluTWV0aG9kLmFwcGx5KHRoaXMsIG5vZGVzKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25uZWN0ZWRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUoY29ubmVjdGVkRWxlbWVudHNbaV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoVXRpbGl0aWVzLmlzQ29ubmVjdGVkKHRoaXMpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxhdHRlbmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBub2RlID0gZmxhdHRlbmVkTm9kZXNbaV07XG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChidWlsdEluLnByZXBlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChkZXN0aW5hdGlvbiwgJ3ByZXBlbmQnLCBhcHBlbmRQcmVwZW5kUGF0Y2goYnVpbHRJbi5wcmVwZW5kKSk7XG4gIH1cblxuICBpZiAoYnVpbHRJbi5hcHBlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChkZXN0aW5hdGlvbiwgJ2FwcGVuZCcsIGFwcGVuZFByZXBlbmRQYXRjaChidWlsdEluLmFwcGVuZCkpO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9QYXRjaC9JbnRlcmZhY2UvUGFyZW50Tm9kZS5qcyIsImltcG9ydCBOYXRpdmUgZnJvbSAnLi9OYXRpdmUuanMnO1xuaW1wb3J0IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMgZnJvbSAnLi4vQ3VzdG9tRWxlbWVudEludGVybmFscy5qcyc7XG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi4vVXRpbGl0aWVzLmpzJztcblxuaW1wb3J0IFBhdGNoUGFyZW50Tm9kZSBmcm9tICcuL0ludGVyZmFjZS9QYXJlbnROb2RlLmpzJztcblxuLyoqXG4gKiBAcGFyYW0geyFDdXN0b21FbGVtZW50SW50ZXJuYWxzfSBpbnRlcm5hbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW50ZXJuYWxzKSB7XG4gIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChEb2N1bWVudC5wcm90b3R5cGUsICdjcmVhdGVFbGVtZW50JyxcbiAgICAvKipcbiAgICAgKiBAdGhpcyB7RG9jdW1lbnR9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsTmFtZVxuICAgICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGxvY2FsTmFtZSkge1xuICAgICAgLy8gT25seSBjcmVhdGUgY3VzdG9tIGVsZW1lbnRzIGlmIHRoaXMgZG9jdW1lbnQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWdpc3RyeS5cbiAgICAgIGlmICh0aGlzLl9fQ0VfaGFzUmVnaXN0cnkpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGludGVybmFscy5sb2NhbE5hbWVUb0RlZmluaXRpb24obG9jYWxOYW1lKTtcbiAgICAgICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gbmV3IChkZWZpbml0aW9uLmNvbnN0cnVjdG9yKSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovXG4gICAgICAgIChOYXRpdmUuRG9jdW1lbnRfY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIGxvY2FsTmFtZSkpO1xuICAgICAgaW50ZXJuYWxzLnBhdGNoKHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChEb2N1bWVudC5wcm90b3R5cGUsICdpbXBvcnROb2RlJyxcbiAgICAvKipcbiAgICAgKiBAdGhpcyB7RG9jdW1lbnR9XG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGRlZXBcbiAgICAgKiBAcmV0dXJuIHshTm9kZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihub2RlLCBkZWVwKSB7XG4gICAgICBjb25zdCBjbG9uZSA9IE5hdGl2ZS5Eb2N1bWVudF9pbXBvcnROb2RlLmNhbGwodGhpcywgbm9kZSwgZGVlcCk7XG4gICAgICAvLyBPbmx5IGNyZWF0ZSBjdXN0b20gZWxlbWVudHMgaWYgdGhpcyBkb2N1bWVudCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlZ2lzdHJ5LlxuICAgICAgaWYgKCF0aGlzLl9fQ0VfaGFzUmVnaXN0cnkpIHtcbiAgICAgICAgaW50ZXJuYWxzLnBhdGNoVHJlZShjbG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnRlcm5hbHMucGF0Y2hBbmRVcGdyYWRlVHJlZShjbG9uZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfSk7XG5cbiAgY29uc3QgTlNfSFRNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG4gIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChEb2N1bWVudC5wcm90b3R5cGUsICdjcmVhdGVFbGVtZW50TlMnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtEb2N1bWVudH1cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbE5hbWVcbiAgICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihuYW1lc3BhY2UsIGxvY2FsTmFtZSkge1xuICAgICAgLy8gT25seSBjcmVhdGUgY3VzdG9tIGVsZW1lbnRzIGlmIHRoaXMgZG9jdW1lbnQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWdpc3RyeS5cbiAgICAgIGlmICh0aGlzLl9fQ0VfaGFzUmVnaXN0cnkgJiYgKG5hbWVzcGFjZSA9PT0gbnVsbCB8fCBuYW1lc3BhY2UgPT09IE5TX0hUTUwpKSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBpbnRlcm5hbHMubG9jYWxOYW1lVG9EZWZpbml0aW9uKGxvY2FsTmFtZSk7XG4gICAgICAgIGlmIChkZWZpbml0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyAoZGVmaW5pdGlvbi5jb25zdHJ1Y3RvcikoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSAvKiogQHR5cGUgeyFFbGVtZW50fSAqL1xuICAgICAgICAoTmF0aXZlLkRvY3VtZW50X2NyZWF0ZUVsZW1lbnROUy5jYWxsKHRoaXMsIG5hbWVzcGFjZSwgbG9jYWxOYW1lKSk7XG4gICAgICBpbnRlcm5hbHMucGF0Y2gocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgUGF0Y2hQYXJlbnROb2RlKGludGVybmFscywgRG9jdW1lbnQucHJvdG90eXBlLCB7XG4gICAgcHJlcGVuZDogTmF0aXZlLkRvY3VtZW50X3ByZXBlbmQsXG4gICAgYXBwZW5kOiBOYXRpdmUuRG9jdW1lbnRfYXBwZW5kLFxuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL1BhdGNoL0RvY3VtZW50LmpzIiwiaW1wb3J0IE5hdGl2ZSBmcm9tICcuL05hdGl2ZS5qcyc7XG5pbXBvcnQgQ3VzdG9tRWxlbWVudEludGVybmFscyBmcm9tICcuLi9DdXN0b21FbGVtZW50SW50ZXJuYWxzLmpzJztcbmltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuLi9VdGlsaXRpZXMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7IUN1c3RvbUVsZW1lbnRJbnRlcm5hbHN9IGludGVybmFsc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnRlcm5hbHMpIHtcbiAgLy8gYE5vZGUjbm9kZVZhbHVlYCBpcyBpbXBsZW1lbnRlZCBvbiBgQXR0cmAuXG4gIC8vIGBOb2RlI3RleHRDb250ZW50YCBpcyBpbXBsZW1lbnRlZCBvbiBgQXR0cmAsIGBFbGVtZW50YC5cblxuICBVdGlsaXRpZXMuc2V0UHJvcGVydHlVbmNoZWNrZWQoTm9kZS5wcm90b3R5cGUsICdpbnNlcnRCZWZvcmUnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtOb2RlfVxuICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgKiBAcGFyYW0gez9Ob2RlfSByZWZOb2RlXG4gICAgICogQHJldHVybiB7IU5vZGV9XG4gICAgICovXG4gICAgZnVuY3Rpb24obm9kZSwgcmVmTm9kZSkge1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgIGNvbnN0IGluc2VydGVkTm9kZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkobm9kZS5jaGlsZE5vZGVzKTtcbiAgICAgICAgY29uc3QgbmF0aXZlUmVzdWx0ID0gTmF0aXZlLk5vZGVfaW5zZXJ0QmVmb3JlLmNhbGwodGhpcywgbm9kZSwgcmVmTm9kZSk7XG5cbiAgICAgICAgLy8gRG9jdW1lbnRGcmFnbWVudHMgY2FuJ3QgYmUgY29ubmVjdGVkLCBzbyBgZGlzY29ubmVjdFRyZWVgIHdpbGwgbmV2ZXJcbiAgICAgICAgLy8gbmVlZCB0byBiZSBjYWxsZWQgb24gYSBEb2N1bWVudEZyYWdtZW50J3MgY2hpbGRyZW4gYWZ0ZXIgaW5zZXJ0aW5nIGl0LlxuXG4gICAgICAgIGlmIChVdGlsaXRpZXMuaXNDb25uZWN0ZWQodGhpcykpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluc2VydGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGludGVybmFscy5jb25uZWN0VHJlZShpbnNlcnRlZE5vZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmF0aXZlUmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub2RlV2FzQ29ubmVjdGVkID0gVXRpbGl0aWVzLmlzQ29ubmVjdGVkKG5vZGUpO1xuICAgICAgY29uc3QgbmF0aXZlUmVzdWx0ID0gTmF0aXZlLk5vZGVfaW5zZXJ0QmVmb3JlLmNhbGwodGhpcywgbm9kZSwgcmVmTm9kZSk7XG5cbiAgICAgIGlmIChub2RlV2FzQ29ubmVjdGVkKSB7XG4gICAgICAgIGludGVybmFscy5kaXNjb25uZWN0VHJlZShub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKSkge1xuICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYXRpdmVSZXN1bHQ7XG4gICAgfSk7XG5cbiAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKE5vZGUucHJvdG90eXBlLCAnYXBwZW5kQ2hpbGQnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtOb2RlfVxuICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgKiBAcmV0dXJuIHshTm9kZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgY29uc3QgaW5zZXJ0ZWROb2RlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShub2RlLmNoaWxkTm9kZXMpO1xuICAgICAgICBjb25zdCBuYXRpdmVSZXN1bHQgPSBOYXRpdmUuTm9kZV9hcHBlbmRDaGlsZC5jYWxsKHRoaXMsIG5vZGUpO1xuXG4gICAgICAgIC8vIERvY3VtZW50RnJhZ21lbnRzIGNhbid0IGJlIGNvbm5lY3RlZCwgc28gYGRpc2Nvbm5lY3RUcmVlYCB3aWxsIG5ldmVyXG4gICAgICAgIC8vIG5lZWQgdG8gYmUgY2FsbGVkIG9uIGEgRG9jdW1lbnRGcmFnbWVudCdzIGNoaWxkcmVuIGFmdGVyIGluc2VydGluZyBpdC5cblxuICAgICAgICBpZiAoVXRpbGl0aWVzLmlzQ29ubmVjdGVkKHRoaXMpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnNlcnRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUoaW5zZXJ0ZWROb2Rlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hdGl2ZVJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9kZVdhc0Nvbm5lY3RlZCA9IFV0aWxpdGllcy5pc0Nvbm5lY3RlZChub2RlKTtcbiAgICAgIGNvbnN0IG5hdGl2ZVJlc3VsdCA9IE5hdGl2ZS5Ob2RlX2FwcGVuZENoaWxkLmNhbGwodGhpcywgbm9kZSk7XG5cbiAgICAgIGlmIChub2RlV2FzQ29ubmVjdGVkKSB7XG4gICAgICAgIGludGVybmFscy5kaXNjb25uZWN0VHJlZShub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKSkge1xuICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYXRpdmVSZXN1bHQ7XG4gICAgfSk7XG5cbiAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKE5vZGUucHJvdG90eXBlLCAnY2xvbmVOb2RlJyxcbiAgICAvKipcbiAgICAgKiBAdGhpcyB7Tm9kZX1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBkZWVwXG4gICAgICogQHJldHVybiB7IU5vZGV9XG4gICAgICovXG4gICAgZnVuY3Rpb24oZGVlcCkge1xuICAgICAgY29uc3QgY2xvbmUgPSBOYXRpdmUuTm9kZV9jbG9uZU5vZGUuY2FsbCh0aGlzLCBkZWVwKTtcbiAgICAgIC8vIE9ubHkgY3JlYXRlIGN1c3RvbSBlbGVtZW50cyBpZiB0aGlzIGVsZW1lbnQncyBvd25lciBkb2N1bWVudCBpc1xuICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSByZWdpc3RyeS5cbiAgICAgIGlmICghdGhpcy5vd25lckRvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnkpIHtcbiAgICAgICAgaW50ZXJuYWxzLnBhdGNoVHJlZShjbG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnRlcm5hbHMucGF0Y2hBbmRVcGdyYWRlVHJlZShjbG9uZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfSk7XG5cbiAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKE5vZGUucHJvdG90eXBlLCAncmVtb3ZlQ2hpbGQnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtOb2RlfVxuICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgKiBAcmV0dXJuIHshTm9kZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihub2RlKSB7XG4gICAgICBjb25zdCBub2RlV2FzQ29ubmVjdGVkID0gVXRpbGl0aWVzLmlzQ29ubmVjdGVkKG5vZGUpO1xuICAgICAgY29uc3QgbmF0aXZlUmVzdWx0ID0gTmF0aXZlLk5vZGVfcmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLCBub2RlKTtcblxuICAgICAgaWYgKG5vZGVXYXNDb25uZWN0ZWQpIHtcbiAgICAgICAgaW50ZXJuYWxzLmRpc2Nvbm5lY3RUcmVlKG5vZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmF0aXZlUmVzdWx0O1xuICAgIH0pO1xuXG4gIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChOb2RlLnByb3RvdHlwZSwgJ3JlcGxhY2VDaGlsZCcsXG4gICAgLyoqXG4gICAgICogQHRoaXMge05vZGV9XG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVRvSW5zZXJ0XG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVRvUmVtb3ZlXG4gICAgICogQHJldHVybiB7IU5vZGV9XG4gICAgICovXG4gICAgZnVuY3Rpb24obm9kZVRvSW5zZXJ0LCBub2RlVG9SZW1vdmUpIHtcbiAgICAgIGlmIChub2RlVG9JbnNlcnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgIGNvbnN0IGluc2VydGVkTm9kZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkobm9kZVRvSW5zZXJ0LmNoaWxkTm9kZXMpO1xuICAgICAgICBjb25zdCBuYXRpdmVSZXN1bHQgPSBOYXRpdmUuTm9kZV9yZXBsYWNlQ2hpbGQuY2FsbCh0aGlzLCBub2RlVG9JbnNlcnQsIG5vZGVUb1JlbW92ZSk7XG5cbiAgICAgICAgLy8gRG9jdW1lbnRGcmFnbWVudHMgY2FuJ3QgYmUgY29ubmVjdGVkLCBzbyBgZGlzY29ubmVjdFRyZWVgIHdpbGwgbmV2ZXJcbiAgICAgICAgLy8gbmVlZCB0byBiZSBjYWxsZWQgb24gYSBEb2N1bWVudEZyYWdtZW50J3MgY2hpbGRyZW4gYWZ0ZXIgaW5zZXJ0aW5nIGl0LlxuXG4gICAgICAgIGlmIChVdGlsaXRpZXMuaXNDb25uZWN0ZWQodGhpcykpIHtcbiAgICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUobm9kZVRvUmVtb3ZlKTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluc2VydGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGludGVybmFscy5jb25uZWN0VHJlZShpbnNlcnRlZE5vZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmF0aXZlUmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub2RlVG9JbnNlcnRXYXNDb25uZWN0ZWQgPSBVdGlsaXRpZXMuaXNDb25uZWN0ZWQobm9kZVRvSW5zZXJ0KTtcbiAgICAgIGNvbnN0IG5hdGl2ZVJlc3VsdCA9IE5hdGl2ZS5Ob2RlX3JlcGxhY2VDaGlsZC5jYWxsKHRoaXMsIG5vZGVUb0luc2VydCwgbm9kZVRvUmVtb3ZlKTtcbiAgICAgIGNvbnN0IHRoaXNJc0Nvbm5lY3RlZCA9IFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKTtcblxuICAgICAgaWYgKHRoaXNJc0Nvbm5lY3RlZCkge1xuICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUobm9kZVRvUmVtb3ZlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGVUb0luc2VydFdhc0Nvbm5lY3RlZCkge1xuICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUobm9kZVRvSW5zZXJ0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXNJc0Nvbm5lY3RlZCkge1xuICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUobm9kZVRvSW5zZXJ0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hdGl2ZVJlc3VsdDtcbiAgICB9KTtcblxuXG4gIGZ1bmN0aW9uIHBhdGNoX3RleHRDb250ZW50KGRlc3RpbmF0aW9uLCBiYXNlRGVzY3JpcHRvcikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXN0aW5hdGlvbiwgJ3RleHRDb250ZW50Jywge1xuICAgICAgZW51bWVyYWJsZTogYmFzZURlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogYmFzZURlc2NyaXB0b3IuZ2V0LFxuICAgICAgc2V0OiAvKiogQHRoaXMge05vZGV9ICovIGZ1bmN0aW9uKGFzc2lnbmVkVmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRleHQgbm9kZSB0aGVuIHRoZXJlIGFyZSBubyBub2RlcyB0byBkaXNjb25uZWN0LlxuICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICBiYXNlRGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLCBhc3NpZ25lZFZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVtb3ZlZE5vZGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBDaGVja2luZyBmb3IgYGZpcnN0Q2hpbGRgIGlzIGZhc3RlciB0aGFuIHJlYWRpbmcgYGNoaWxkTm9kZXMubGVuZ3RoYFxuICAgICAgICAvLyB0byBjb21wYXJlIHdpdGggMC5cbiAgICAgICAgaWYgKHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIC8vIFVzaW5nIGBjaGlsZE5vZGVzYCBpcyBmYXN0ZXIgdGhhbiBgY2hpbGRyZW5gLCBldmVuIHRob3VnaCB3ZSBvbmx5XG4gICAgICAgICAgLy8gY2FyZSBhYm91dCBlbGVtZW50cy5cbiAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzO1xuICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZXNMZW5ndGggPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICBpZiAoY2hpbGROb2Rlc0xlbmd0aCA+IDAgJiYgVXRpbGl0aWVzLmlzQ29ubmVjdGVkKHRoaXMpKSB7XG4gICAgICAgICAgICAvLyBDb3B5aW5nIGFuIGFycmF5IGJ5IGl0ZXJhdGluZyBpcyBmYXN0ZXIgdGhhbiB1c2luZyBzbGljZS5cbiAgICAgICAgICAgIHJlbW92ZWROb2RlcyA9IG5ldyBBcnJheShjaGlsZE5vZGVzTGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHJlbW92ZWROb2Rlc1tpXSA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYmFzZURlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgYXNzaWduZWRWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZWROb2Rlcykge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUocmVtb3ZlZE5vZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoTmF0aXZlLk5vZGVfdGV4dENvbnRlbnQgJiYgTmF0aXZlLk5vZGVfdGV4dENvbnRlbnQuZ2V0KSB7XG4gICAgcGF0Y2hfdGV4dENvbnRlbnQoTm9kZS5wcm90b3R5cGUsIE5hdGl2ZS5Ob2RlX3RleHRDb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpbnRlcm5hbHMuYWRkUGF0Y2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcGF0Y2hfdGV4dENvbnRlbnQoZWxlbWVudCwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIC8vIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gb2YgdGhlIGB0ZXh0Q29udGVudGAgZ2V0dGVyIGFzc3VtZXMgdGhhdFxuICAgICAgICAvLyB0ZXh0IG5vZGVzJyBgdGV4dENvbnRlbnRgIGdldHRlciB3aWxsIG5vdCBiZSBwYXRjaGVkLlxuICAgICAgICBnZXQ6IC8qKiBAdGhpcyB7Tm9kZX0gKi8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLyoqIEB0eXBlIHshQXJyYXk8c3RyaW5nPn0gKi9cbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IFtdO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2godGhpcy5jaGlsZE5vZGVzW2ldLnRleHRDb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcGFydHMuam9pbignJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogLyoqIEB0aGlzIHtOb2RlfSAqLyBmdW5jdGlvbihhc3NpZ25lZFZhbHVlKSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgTmF0aXZlLk5vZGVfcmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLCB0aGlzLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBOYXRpdmUuTm9kZV9hcHBlbmRDaGlsZC5jYWxsKHRoaXMsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFzc2lnbmVkVmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9QYXRjaC9Ob2RlLmpzIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMgZnJvbSAnLi4vLi4vQ3VzdG9tRWxlbWVudEludGVybmFscy5qcyc7XG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi4vLi4vVXRpbGl0aWVzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBiZWZvcmU6ICFmdW5jdGlvbiguLi4oIU5vZGV8c3RyaW5nKSksXG4gKiAgIGFmdGVyOiAhZnVuY3Rpb24oLi4uKCFOb2RlfHN0cmluZykpLFxuICogICByZXBsYWNlV2l0aDogIWZ1bmN0aW9uKC4uLighTm9kZXxzdHJpbmcpKSxcbiAqICAgcmVtb3ZlOiAhZnVuY3Rpb24oKSxcbiAqIH19XG4gKi9cbmxldCBDaGlsZE5vZGVOYXRpdmVNZXRob2RzO1xuXG4vKipcbiAqIEBwYXJhbSB7IUN1c3RvbUVsZW1lbnRJbnRlcm5hbHN9IGludGVybmFsc1xuICogQHBhcmFtIHshT2JqZWN0fSBkZXN0aW5hdGlvblxuICogQHBhcmFtIHshQ2hpbGROb2RlTmF0aXZlTWV0aG9kc30gYnVpbHRJblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnRlcm5hbHMsIGRlc3RpbmF0aW9uLCBidWlsdEluKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFmdW5jdGlvbiguLi4oIU5vZGV8c3RyaW5nKSl9IGJ1aWx0SW5NZXRob2RcbiAgICogQHJldHVybiB7IWZ1bmN0aW9uKC4uLighTm9kZXxzdHJpbmcpKX1cbiAgICovXG4gIGZ1bmN0aW9uIGJlZm9yZUFmdGVyUGF0Y2goYnVpbHRJbk1ldGhvZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiguLi5ub2Rlcykge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGNvcHkgb2YgYG5vZGVzYCwgd2l0aCBhbnkgRG9jdW1lbnRGcmFnbWVudCByZXBsYWNlZCBieSBpdHMgY2hpbGRyZW4uXG4gICAgICAgKiBAdHlwZSB7IUFycmF5PCFOb2RlPn1cbiAgICAgICAqL1xuICAgICAgY29uc3QgZmxhdHRlbmVkTm9kZXMgPSBbXTtcblxuICAgICAgLyoqXG4gICAgICAgKiBFbGVtZW50cyBpbiBgbm9kZXNgIHRoYXQgd2VyZSBjb25uZWN0ZWQgYmVmb3JlIHRoaXMgY2FsbC5cbiAgICAgICAqIEB0eXBlIHshQXJyYXk8IU5vZGU+fVxuICAgICAgICovXG4gICAgICBjb25zdCBjb25uZWN0ZWRFbGVtZW50cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgVXRpbGl0aWVzLmlzQ29ubmVjdGVkKG5vZGUpKSB7XG4gICAgICAgICAgY29ubmVjdGVkRWxlbWVudHMucHVzaChub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICAgIGZvciAobGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgZmxhdHRlbmVkTm9kZXMucHVzaChjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZsYXR0ZW5lZE5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYnVpbHRJbk1ldGhvZC5hcHBseSh0aGlzLCBub2Rlcyk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ubmVjdGVkRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW50ZXJuYWxzLmRpc2Nvbm5lY3RUcmVlKGNvbm5lY3RlZEVsZW1lbnRzW2ldKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsYXR0ZW5lZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IGZsYXR0ZW5lZE5vZGVzW2ldO1xuICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgaW50ZXJuYWxzLmNvbm5lY3RUcmVlKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAoYnVpbHRJbi5iZWZvcmUgIT09IHVuZGVmaW5lZCkge1xuICAgIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChkZXN0aW5hdGlvbiwgJ2JlZm9yZScsIGJlZm9yZUFmdGVyUGF0Y2goYnVpbHRJbi5iZWZvcmUpKTtcbiAgfVxuXG4gIGlmIChidWlsdEluLmJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKGRlc3RpbmF0aW9uLCAnYWZ0ZXInLCBiZWZvcmVBZnRlclBhdGNoKGJ1aWx0SW4uYWZ0ZXIpKTtcbiAgfVxuXG4gIGlmIChidWlsdEluLnJlcGxhY2VXaXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICBVdGlsaXRpZXMuc2V0UHJvcGVydHlVbmNoZWNrZWQoZGVzdGluYXRpb24sICdyZXBsYWNlV2l0aCcsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7Li4uKCFOb2RlfHN0cmluZyl9IG5vZGVzXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKC4uLm5vZGVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvcHkgb2YgYG5vZGVzYCwgd2l0aCBhbnkgRG9jdW1lbnRGcmFnbWVudCByZXBsYWNlZCBieSBpdHMgY2hpbGRyZW4uXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8IU5vZGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZmxhdHRlbmVkTm9kZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxlbWVudHMgaW4gYG5vZGVzYCB0aGF0IHdlcmUgY29ubmVjdGVkIGJlZm9yZSB0aGlzIGNhbGwuXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8IU5vZGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY29ubmVjdGVkRWxlbWVudHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIFV0aWxpdGllcy5pc0Nvbm5lY3RlZChub2RlKSkge1xuICAgICAgICAgICAgY29ubmVjdGVkRWxlbWVudHMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICBmbGF0dGVuZWROb2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmxhdHRlbmVkTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3YXNDb25uZWN0ZWQgPSBVdGlsaXRpZXMuaXNDb25uZWN0ZWQodGhpcyk7XG5cbiAgICAgICAgYnVpbHRJbi5yZXBsYWNlV2l0aC5hcHBseSh0aGlzLCBub2Rlcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25uZWN0ZWRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGludGVybmFscy5kaXNjb25uZWN0VHJlZShjb25uZWN0ZWRFbGVtZW50c1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgaW50ZXJuYWxzLmRpc2Nvbm5lY3RUcmVlKHRoaXMpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxhdHRlbmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBmbGF0dGVuZWROb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICBpbnRlcm5hbHMuY29ubmVjdFRyZWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgaWYgKGJ1aWx0SW4ucmVtb3ZlICE9PSB1bmRlZmluZWQpIHtcbiAgICBVdGlsaXRpZXMuc2V0UHJvcGVydHlVbmNoZWNrZWQoZGVzdGluYXRpb24sICdyZW1vdmUnLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHdhc0Nvbm5lY3RlZCA9IFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKTtcblxuICAgICAgICBidWlsdEluLnJlbW92ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh3YXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdFRyZWUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9QYXRjaC9JbnRlcmZhY2UvQ2hpbGROb2RlLmpzIiwiaW1wb3J0IE5hdGl2ZSBmcm9tICcuL05hdGl2ZS5qcyc7XG5pbXBvcnQgQ3VzdG9tRWxlbWVudEludGVybmFscyBmcm9tICcuLi9DdXN0b21FbGVtZW50SW50ZXJuYWxzLmpzJztcbmltcG9ydCBDRVN0YXRlIGZyb20gJy4uL0N1c3RvbUVsZW1lbnRTdGF0ZS5qcyc7XG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi4vVXRpbGl0aWVzLmpzJztcblxuaW1wb3J0IFBhdGNoUGFyZW50Tm9kZSBmcm9tICcuL0ludGVyZmFjZS9QYXJlbnROb2RlLmpzJztcbmltcG9ydCBQYXRjaENoaWxkTm9kZSBmcm9tICcuL0ludGVyZmFjZS9DaGlsZE5vZGUuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7IUN1c3RvbUVsZW1lbnRJbnRlcm5hbHN9IGludGVybmFsc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnRlcm5hbHMpIHtcbiAgaWYgKE5hdGl2ZS5FbGVtZW50X2F0dGFjaFNoYWRvdykge1xuICAgIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChFbGVtZW50LnByb3RvdHlwZSwgJ2F0dGFjaFNoYWRvdycsXG4gICAgICAvKipcbiAgICAgICAqIEB0aGlzIHtFbGVtZW50fVxuICAgICAgICogQHBhcmFtIHshe21vZGU6IHN0cmluZ319IGluaXRcbiAgICAgICAqIEByZXR1cm4ge1NoYWRvd1Jvb3R9XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGluaXQpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IE5hdGl2ZS5FbGVtZW50X2F0dGFjaFNoYWRvdy5jYWxsKHRoaXMsIGluaXQpO1xuICAgICAgICB0aGlzLl9fQ0Vfc2hhZG93Um9vdCA9IHNoYWRvd1Jvb3Q7XG4gICAgICAgIHJldHVybiBzaGFkb3dSb290O1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHBhdGNoX2lubmVySFRNTChkZXN0aW5hdGlvbiwgYmFzZURlc2NyaXB0b3IpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVzdGluYXRpb24sICdpbm5lckhUTUwnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBiYXNlRGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBiYXNlRGVzY3JpcHRvci5nZXQsXG4gICAgICBzZXQ6IC8qKiBAdGhpcyB7RWxlbWVudH0gKi8gZnVuY3Rpb24oaHRtbFN0cmluZykge1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IFV0aWxpdGllcy5pc0Nvbm5lY3RlZCh0aGlzKTtcblxuICAgICAgICAvLyBOT1RFOiBJbiBJRTExLCB3aGVuIHVzaW5nIHRoZSBuYXRpdmUgYGlubmVySFRNTGAgc2V0dGVyLCBhbGwgbm9kZXNcbiAgICAgICAgLy8gdGhhdCB3ZXJlIHByZXZpb3VzbHkgZGVzY2VuZGFudHMgb2YgdGhlIGNvbnRleHQgZWxlbWVudCBoYXZlIGFsbCBvZlxuICAgICAgICAvLyB0aGVpciBjaGlsZHJlbiByZW1vdmVkIGFzIHBhcnQgb2YgdGhlIHNldCAtIHRoZSBlbnRpcmUgc3VidHJlZSBpc1xuICAgICAgICAvLyAnZGlzYXNzZW1ibGVkJy4gVGhpcyB3b3JrIGFyb3VuZCB3YWxrcyB0aGUgc3VidHJlZSAqYmVmb3JlKiB1c2luZyB0aGVcbiAgICAgICAgLy8gbmF0aXZlIHNldHRlci5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXk8IUVsZW1lbnQ+fHVuZGVmaW5lZH0gKi9cbiAgICAgICAgbGV0IHJlbW92ZWRFbGVtZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgcmVtb3ZlZEVsZW1lbnRzID0gW107XG4gICAgICAgICAgVXRpbGl0aWVzLndhbGtEZWVwRGVzY2VuZGFudEVsZW1lbnRzKHRoaXMsIGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlZEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBiYXNlRGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLCBodG1sU3RyaW5nKTtcblxuICAgICAgICBpZiAocmVtb3ZlZEVsZW1lbnRzKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZW1vdmVkRWxlbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5fX0NFX3N0YXRlID09PSBDRVN0YXRlLmN1c3RvbSkge1xuICAgICAgICAgICAgICBpbnRlcm5hbHMuZGlzY29ubmVjdGVkQ2FsbGJhY2soZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25seSBjcmVhdGUgY3VzdG9tIGVsZW1lbnRzIGlmIHRoaXMgZWxlbWVudCdzIG93bmVyIGRvY3VtZW50IGlzXG4gICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVnaXN0cnkuXG4gICAgICAgIGlmICghdGhpcy5vd25lckRvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnkpIHtcbiAgICAgICAgICBpbnRlcm5hbHMucGF0Y2hUcmVlKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVybmFscy5wYXRjaEFuZFVwZ3JhZGVUcmVlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBodG1sU3RyaW5nO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChOYXRpdmUuRWxlbWVudF9pbm5lckhUTUwgJiYgTmF0aXZlLkVsZW1lbnRfaW5uZXJIVE1MLmdldCkge1xuICAgIHBhdGNoX2lubmVySFRNTChFbGVtZW50LnByb3RvdHlwZSwgTmF0aXZlLkVsZW1lbnRfaW5uZXJIVE1MKTtcbiAgfSBlbHNlIGlmIChOYXRpdmUuSFRNTEVsZW1lbnRfaW5uZXJIVE1MICYmIE5hdGl2ZS5IVE1MRWxlbWVudF9pbm5lckhUTUwuZ2V0KSB7XG4gICAgcGF0Y2hfaW5uZXJIVE1MKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgTmF0aXZlLkhUTUxFbGVtZW50X2lubmVySFRNTCk7XG4gIH0gZWxzZSB7XG5cbiAgICBpbnRlcm5hbHMuYWRkUGF0Y2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcGF0Y2hfaW5uZXJIVE1MKGVsZW1lbnQsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAvLyBJbXBsZW1lbnRzIGdldHRpbmcgYGlubmVySFRNTGAgYnkgcGVyZm9ybWluZyBhbiB1bnBhdGNoZWQgYGNsb25lTm9kZWBcbiAgICAgICAgLy8gb2YgdGhlIGVsZW1lbnQgYW5kIHJldHVybmluZyB0aGUgcmVzdWx0aW5nIGVsZW1lbnQncyBgaW5uZXJIVE1MYC5cbiAgICAgICAgLy8gVE9ETzogSXMgdGhpcyB0b28gZXhwZW5zaXZlP1xuICAgICAgICBnZXQ6IC8qKiBAdGhpcyB7RWxlbWVudH0gKi8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIE5hdGl2ZS5Ob2RlX2Nsb25lTm9kZS5jYWxsKHRoaXMsIHRydWUpLmlubmVySFRNTDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gSW1wbGVtZW50cyBzZXR0aW5nIGBpbm5lckhUTUxgIGJ5IGNyZWF0aW5nIGFuIHVucGF0Y2hlZCBlbGVtZW50LFxuICAgICAgICAvLyBzZXR0aW5nIGBpbm5lckhUTUxgIG9mIHRoYXQgZWxlbWVudCBhbmQgcmVwbGFjaW5nIHRoZSB0YXJnZXRcbiAgICAgICAgLy8gZWxlbWVudCdzIGNoaWxkcmVuIHdpdGggdGhvc2Ugb2YgdGhlIHVucGF0Y2hlZCBlbGVtZW50LlxuICAgICAgICBzZXQ6IC8qKiBAdGhpcyB7RWxlbWVudH0gKi8gZnVuY3Rpb24oYXNzaWduZWRWYWx1ZSkge1xuICAgICAgICAgIC8vIE5PVEU6IHJlLXJvdXRlIHRvIGBjb250ZW50YCBmb3IgYHRlbXBsYXRlYCBlbGVtZW50cy5cbiAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgYmVjYXVzZSBgdGVtcGxhdGUuYXBwZW5kQ2hpbGRgIGRvZXMgbm90XG4gICAgICAgICAgLy8gcm91dGUgaW50byBgdGVtcGxhdGUuY29udGVudGAuXG4gICAgICAgICAgY29uc3QgaXNUZW1wbGF0ZSA9ICh0aGlzLmxvY2FsTmFtZSA9PT0gJ3RlbXBsYXRlJyk7XG4gICAgICAgICAgLyoqIEB0eXBlIHshTm9kZX0gKi9cbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gaXNUZW1wbGF0ZSA/ICgvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqL1xuICAgICAgICAgICAgKHRoaXMpKS5jb250ZW50IDogdGhpcztcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqL1xuICAgICAgICAgIGNvbnN0IHJhd0VsZW1lbnQgPSBOYXRpdmUuRG9jdW1lbnRfY3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LFxuICAgICAgICAgICAgdGhpcy5sb2NhbE5hbWUpO1xuICAgICAgICAgIHJhd0VsZW1lbnQuaW5uZXJIVE1MID0gYXNzaWduZWRWYWx1ZTtcblxuICAgICAgICAgIHdoaWxlIChjb250ZW50LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgTmF0aXZlLk5vZGVfcmVtb3ZlQ2hpbGQuY2FsbChjb250ZW50LCBjb250ZW50LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBpc1RlbXBsYXRlID8gcmF3RWxlbWVudC5jb250ZW50IDogcmF3RWxlbWVudDtcbiAgICAgICAgICB3aGlsZSAoY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgTmF0aXZlLk5vZGVfYXBwZW5kQ2hpbGQuY2FsbChjb250ZW50LCBjb250YWluZXIuY2hpbGROb2Rlc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChFbGVtZW50LnByb3RvdHlwZSwgJ3NldEF0dHJpYnV0ZScsXG4gICAgLyoqXG4gICAgICogQHRoaXMge0VsZW1lbnR9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbihuYW1lLCBuZXdWYWx1ZSkge1xuICAgICAgLy8gRmFzdCBwYXRoIGZvciBub24tY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgaWYgKHRoaXMuX19DRV9zdGF0ZSAhPT0gQ0VTdGF0ZS5jdXN0b20pIHtcbiAgICAgICAgcmV0dXJuIE5hdGl2ZS5FbGVtZW50X3NldEF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBOYXRpdmUuRWxlbWVudF9nZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICAgIE5hdGl2ZS5FbGVtZW50X3NldEF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgIG5ld1ZhbHVlID0gTmF0aXZlLkVsZW1lbnRfZ2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICBpbnRlcm5hbHMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHRoaXMsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgbnVsbCk7XG4gICAgfSk7XG5cbiAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKEVsZW1lbnQucHJvdG90eXBlLCAnc2V0QXR0cmlidXRlTlMnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtFbGVtZW50fVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbihuYW1lc3BhY2UsIG5hbWUsIG5ld1ZhbHVlKSB7XG4gICAgICAvLyBGYXN0IHBhdGggZm9yIG5vbi1jdXN0b20gZWxlbWVudHMuXG4gICAgICBpZiAodGhpcy5fX0NFX3N0YXRlICE9PSBDRVN0YXRlLmN1c3RvbSkge1xuICAgICAgICByZXR1cm4gTmF0aXZlLkVsZW1lbnRfc2V0QXR0cmlidXRlTlMuY2FsbCh0aGlzLCBuYW1lc3BhY2UsIG5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBOYXRpdmUuRWxlbWVudF9nZXRBdHRyaWJ1dGVOUy5jYWxsKHRoaXMsIG5hbWVzcGFjZSwgbmFtZSk7XG4gICAgICBOYXRpdmUuRWxlbWVudF9zZXRBdHRyaWJ1dGVOUy5jYWxsKHRoaXMsIG5hbWVzcGFjZSwgbmFtZSwgbmV3VmFsdWUpO1xuICAgICAgbmV3VmFsdWUgPSBOYXRpdmUuRWxlbWVudF9nZXRBdHRyaWJ1dGVOUy5jYWxsKHRoaXMsIG5hbWVzcGFjZSwgbmFtZSk7XG4gICAgICBpbnRlcm5hbHMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHRoaXMsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgbmFtZXNwYWNlKTtcbiAgICB9KTtcblxuICBVdGlsaXRpZXMuc2V0UHJvcGVydHlVbmNoZWNrZWQoRWxlbWVudC5wcm90b3R5cGUsICdyZW1vdmVBdHRyaWJ1dGUnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtFbGVtZW50fVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24obmFtZSkge1xuICAgICAgLy8gRmFzdCBwYXRoIGZvciBub24tY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgaWYgKHRoaXMuX19DRV9zdGF0ZSAhPT0gQ0VTdGF0ZS5jdXN0b20pIHtcbiAgICAgICAgcmV0dXJuIE5hdGl2ZS5FbGVtZW50X3JlbW92ZUF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IE5hdGl2ZS5FbGVtZW50X2dldEF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgICAgTmF0aXZlLkVsZW1lbnRfcmVtb3ZlQXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICBpZiAob2xkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgaW50ZXJuYWxzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLCBuYW1lLCBvbGRWYWx1ZSwgbnVsbCwgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgVXRpbGl0aWVzLnNldFByb3BlcnR5VW5jaGVja2VkKEVsZW1lbnQucHJvdG90eXBlLCAncmVtb3ZlQXR0cmlidXRlTlMnLFxuICAgIC8qKlxuICAgICAqIEB0aGlzIHtFbGVtZW50fVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbihuYW1lc3BhY2UsIG5hbWUpIHtcbiAgICAgIC8vIEZhc3QgcGF0aCBmb3Igbm9uLWN1c3RvbSBlbGVtZW50cy5cbiAgICAgIGlmICh0aGlzLl9fQ0Vfc3RhdGUgIT09IENFU3RhdGUuY3VzdG9tKSB7XG4gICAgICAgIHJldHVybiBOYXRpdmUuRWxlbWVudF9yZW1vdmVBdHRyaWJ1dGVOUy5jYWxsKHRoaXMsIG5hbWVzcGFjZSwgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gTmF0aXZlLkVsZW1lbnRfZ2V0QXR0cmlidXRlTlMuY2FsbCh0aGlzLCBuYW1lc3BhY2UsIG5hbWUpO1xuICAgICAgTmF0aXZlLkVsZW1lbnRfcmVtb3ZlQXR0cmlidXRlTlMuY2FsbCh0aGlzLCBuYW1lc3BhY2UsIG5hbWUpO1xuICAgICAgLy8gSW4gb2xkZXIgYnJvd3NlcnMsIGBFbGVtZW50I2dldEF0dHJpYnV0ZU5TYCBtYXkgcmV0dXJuIHRoZSBlbXB0eSBzdHJpbmdcbiAgICAgIC8vIGluc3RlYWQgb2YgbnVsbCBpZiB0aGUgYXR0cmlidXRlIGRvZXMgbm90IGV4aXN0LiBGb3IgZGV0YWlscywgc2VlO1xuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvZ2V0QXR0cmlidXRlTlMjTm90ZXNcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gTmF0aXZlLkVsZW1lbnRfZ2V0QXR0cmlidXRlTlMuY2FsbCh0aGlzLCBuYW1lc3BhY2UsIG5hbWUpO1xuICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBpbnRlcm5hbHMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHRoaXMsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gIGZ1bmN0aW9uIHBhdGNoX2luc2VydEFkamFjZW50RWxlbWVudChkZXN0aW5hdGlvbiwgYmFzZU1ldGhvZCkge1xuICAgIFV0aWxpdGllcy5zZXRQcm9wZXJ0eVVuY2hlY2tlZChkZXN0aW5hdGlvbiwgJ2luc2VydEFkamFjZW50RWxlbWVudCcsXG4gICAgICAvKipcbiAgICAgICAqIEB0aGlzIHtFbGVtZW50fVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHdoZXJlXG4gICAgICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAgICAgKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24od2hlcmUsIGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgd2FzQ29ubmVjdGVkID0gVXRpbGl0aWVzLmlzQ29ubmVjdGVkKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBpbnNlcnRlZEVsZW1lbnQgPSAvKiogQHR5cGUgeyFFbGVtZW50fSAqL1xuICAgICAgICAgIChiYXNlTWV0aG9kLmNhbGwodGhpcywgd2hlcmUsIGVsZW1lbnQpKTtcblxuICAgICAgICBpZiAod2FzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgaW50ZXJuYWxzLmRpc2Nvbm5lY3RUcmVlKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFV0aWxpdGllcy5pc0Nvbm5lY3RlZChpbnNlcnRlZEVsZW1lbnQpKSB7XG4gICAgICAgICAgaW50ZXJuYWxzLmNvbm5lY3RUcmVlKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNlcnRlZEVsZW1lbnQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIGlmIChOYXRpdmUuSFRNTEVsZW1lbnRfaW5zZXJ0QWRqYWNlbnRFbGVtZW50KSB7XG4gICAgcGF0Y2hfaW5zZXJ0QWRqYWNlbnRFbGVtZW50KEhUTUxFbGVtZW50LnByb3RvdHlwZSwgTmF0aXZlLkhUTUxFbGVtZW50X2luc2VydEFkamFjZW50RWxlbWVudCk7XG4gIH0gZWxzZSBpZiAoTmF0aXZlLkVsZW1lbnRfaW5zZXJ0QWRqYWNlbnRFbGVtZW50KSB7XG4gICAgcGF0Y2hfaW5zZXJ0QWRqYWNlbnRFbGVtZW50KEVsZW1lbnQucHJvdG90eXBlLCBOYXRpdmUuRWxlbWVudF9pbnNlcnRBZGphY2VudEVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybignQ3VzdG9tIEVsZW1lbnRzOiBgRWxlbWVudCNpbnNlcnRBZGphY2VudEVsZW1lbnRgIHdhcyBub3QgcGF0Y2hlZC4nKTtcbiAgfVxuXG5cbiAgUGF0Y2hQYXJlbnROb2RlKGludGVybmFscywgRWxlbWVudC5wcm90b3R5cGUsIHtcbiAgICBwcmVwZW5kOiBOYXRpdmUuRWxlbWVudF9wcmVwZW5kLFxuICAgIGFwcGVuZDogTmF0aXZlLkVsZW1lbnRfYXBwZW5kLFxuICB9KTtcblxuICBQYXRjaENoaWxkTm9kZShpbnRlcm5hbHMsIEVsZW1lbnQucHJvdG90eXBlLCB7XG4gICAgYmVmb3JlOiBOYXRpdmUuRWxlbWVudF9iZWZvcmUsXG4gICAgYWZ0ZXI6IE5hdGl2ZS5FbGVtZW50X2FmdGVyLFxuICAgIHJlcGxhY2VXaXRoOiBOYXRpdmUuRWxlbWVudF9yZXBsYWNlV2l0aCxcbiAgICByZW1vdmU6IE5hdGl2ZS5FbGVtZW50X3JlbW92ZSxcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9QYXRjaC9FbGVtZW50LmpzIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnRJbnRlcm5hbHMgZnJvbSAnLi4vQ3VzdG9tRWxlbWVudEludGVybmFscy5qcyc7XG5pbXBvcnQgTmF0aXZlIGZyb20gJy4vTmF0aXZlLmpzJztcbmltcG9ydCBQYXRjaFBhcmVudE5vZGUgZnJvbSAnLi9JbnRlcmZhY2UvUGFyZW50Tm9kZS5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHshQ3VzdG9tRWxlbWVudEludGVybmFsc30gaW50ZXJuYWxzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGludGVybmFscykge1xuICBQYXRjaFBhcmVudE5vZGUoaW50ZXJuYWxzLCBEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSwge1xuICAgIHByZXBlbmQ6IE5hdGl2ZS5Eb2N1bWVudEZyYWdtZW50X3ByZXBlbmQsXG4gICAgYXBwZW5kOiBOYXRpdmUuRG9jdW1lbnRGcmFnbWVudF9hcHBlbmQsXG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvUGF0Y2gvRG9jdW1lbnRGcmFnbWVudC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(setImmediate) {\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _CustomElement() {\n  return Reflect.construct(HTMLElement, [], this.__proto__.constructor);\n}\n\n;\nObject.setPrototypeOf(_CustomElement.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(_CustomElement, HTMLElement);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n(function (window, document, HTMLElement) {\n\n  var __flags = {\n    isWCSupported: 'customElements' in window && 'import' in document.createElement('link') && 'content' in document.createElement('template'),\n    isIE11: !!window['MSInputMethodContext'] && !!document['documentMode'],\n    isChrome: undefined,\n    isEdge: undefined\n  };\n\n  try {\n    __flags.isChrome = /Chrome/.test(navigator.userAgent);\n    __flags.isEdge = /Edge/.test(navigator.userAgent);\n\n    if (__flags.isIE11 || __flags.isEdge) {\n      __flags.isChrome = false;\n      Object.defineProperty(Node.prototype, 'children', function () {\n        return this.childNodes;\n      });\n    }\n  } catch (err) {}\n\n  var _$2 = '_slim_internals_'; //Symbol('Slim')\n\n  var Internals = function Internals() {\n    _classCallCheck(this, Internals);\n\n    this.hasCustomTemplate = undefined;\n    this.boundParent = null;\n    this.repeater = {};\n    this.bindings = {};\n    this.reversed = {};\n    this.inbounds = {};\n    this.eventHandlers = {};\n    this.internetExploderClone = null;\n    this.rootElement = null;\n    this.createdCallbackInvoked = false;\n    this.sourceText = null;\n    this.excluded = false;\n    this.autoBoundAttributes = [];\n  };\n\n  var Slim = function (_CustomElement2) {\n    _inherits(Slim, _CustomElement2);\n\n    _createClass(Slim, null, [{\n      key: 'dashToCamel',\n      value: function dashToCamel(dash) {\n        return dash.indexOf('-') < 0 ? dash : dash.replace(/-[a-z]/g, function (m) {\n          return m[1].toUpperCase();\n        });\n      }\n    }, {\n      key: 'camelToDash',\n      value: function camelToDash(camel) {\n        return camel.replace(/([A-Z])/g, '-$1').toLowerCase();\n      }\n    }, {\n      key: 'lookup',\n      value: function lookup(target, expression, maybeRepeated) {\n        var chain = expression.split('.');\n        var o = void 0;\n        if (maybeRepeated && maybeRepeated[_$2].repeater[chain[0]]) {\n          o = maybeRepeated[_$2].repeater;\n        } else {\n          o = target;\n        }\n        var i = 0;\n        while (o && i < chain.length) {\n          o = o[chain[i++]];\n        }\n        return o;\n      }\n\n      // noinspection JSUnresolvedVariable\n\n    }, {\n      key: '_$',\n      value: function _$(target) {\n        target[_$2] = target[_$2] || new Internals();\n        return target[_$2];\n      }\n    }, {\n      key: 'polyFill',\n      value: function polyFill(url) {\n        if (!__flags.isWCSupported) {\n          var existingScript = document.querySelector('script[data-is-slim-polyfill=\"true\"]');\n          if (!existingScript) {\n            var script = document.createElement('script');\n            script.setAttribute('data-is-slim-polyfill', 'true');\n            script.src = url;\n            document.head.appendChild(script);\n          }\n        }\n      }\n    }, {\n      key: 'tag',\n      value: function tag(tagName, tplOrClazz, clazz) {\n        if (this.tagToClassDict.has(tagName)) {\n          throw new Error('Unable to define tag: ' + tagName + ' already defined');\n        }\n        if (clazz === undefined) {\n          clazz = tplOrClazz;\n        } else {\n          Slim.tagToTemplateDict.set(tagName, tplOrClazz);\n        }\n        this.tagToClassDict.set(tagName, clazz);\n        this.classToTagDict.set(clazz, tagName);\n        customElements.define(tagName, clazz);\n      }\n    }, {\n      key: 'tagOf',\n      value: function tagOf(clazz) {\n        return this.classToTagDict.get(clazz);\n      }\n    }, {\n      key: 'classOf',\n      value: function classOf(tag) {\n        return this.tagToClassDict.get(tag);\n      }\n    }, {\n      key: 'createUniqueIndex',\n      value: function createUniqueIndex() {\n        this[_$2].uniqueCounter++;\n        return this[_$2].uniqueCounter.toString(16);\n      }\n    }, {\n      key: 'plugin',\n      value: function plugin(phase, _plugin) {\n        if (!this.plugins[phase]) {\n          throw new Error('Cannot attach plugin: ' + phase + ' is not a supported phase');\n        }\n        this.plugins[phase].push(_plugin);\n      }\n    }, {\n      key: 'checkCreationBlocking',\n      value: function checkCreationBlocking(element) {\n        if (element.attributes) {\n          for (var i = 0, n = element.attributes.length; i < n; i++) {\n            var attribute = element.attributes[i];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = Slim[_$2].customDirectives[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var _ref = _step.value;\n\n                var _ref2 = _slicedToArray(_ref, 2);\n\n                var test = _ref2[0];\n                var directive = _ref2[1];\n\n                var value = directive.isBlocking && test(attribute);\n                if (value) {\n                  return true;\n                }\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n          }\n        }\n        return false;\n      }\n    }, {\n      key: 'customDirective',\n      value: function customDirective(testFn, fn, isBlocking) {\n        if (this[_$2].customDirectives.has(testFn)) {\n          throw new Error('Cannot register custom directive: ' + testFn + ' already registered');\n        }\n        fn.isBlocking = isBlocking;\n        this[_$2].customDirectives.set(testFn, fn);\n      }\n    }, {\n      key: 'executePlugins',\n      value: function executePlugins(phase, target) {\n        this.plugins[phase].forEach(function (fn) {\n          fn(target);\n        });\n      }\n    }, {\n      key: 'qSelectAll',\n      value: function qSelectAll(target, selector) {\n        return [].concat(_toConsumableArray(target.querySelectorAll(selector)));\n      }\n    }, {\n      key: 'unbind',\n      value: function unbind(source, target) {\n        var bindings = source[_$2].bindings;\n        Object.keys(bindings).forEach(function (key) {\n          var chain = bindings[key].chain.filter(function (binding) {\n            if (binding.target === target) {\n              binding.destroy();\n              return false;\n            }\n            return true;\n          });\n          bindings[key].chain = chain;\n        });\n      }\n    }, {\n      key: 'root',\n      value: function root(target) {\n        return target.__isSlim && target.useShadow ? target[_$2].rootElement : target;\n      }\n    }, {\n      key: 'selectRecursive',\n      value: function selectRecursive(target, force) {\n        var collection = [];\n        var search = function search(node, force) {\n          collection.push(node);\n          var allow = !node.__isSlim || node.__isSlim && !node.template || node.__isSlim && node === target || force;\n          if (allow) {\n            var children = [].concat(_toConsumableArray(Slim.root(node).children));\n            children.forEach(function (childNode) {\n              search(childNode, force);\n            });\n          }\n        };\n        search(target, force);\n        return collection;\n      }\n    }, {\n      key: 'removeChild',\n      value: function removeChild(target) {\n        if (typeof target.remove === 'function') {\n          target.remove();\n        }\n        if (target.parentNode) {\n          target.parentNode.removeChild(target);\n        }\n        if (this._$(target).internetExploderClone) {\n          this.removeChild(this._$(target).internetExploderClone);\n        }\n      }\n    }, {\n      key: 'moveChildren',\n      value: function moveChildren(source, target) {\n        while (source.firstChild) {\n          target.appendChild(source.firstChild);\n        }\n      }\n    }, {\n      key: 'wrapGetterSetter',\n      value: function wrapGetterSetter(element, expression) {\n        var pName = expression.split('.')[0];\n        var descriptor = Object.getOwnPropertyDescriptor(element, pName);\n        var oSetter = descriptor && descriptor.set;\n        if (oSetter && oSetter[_$2]) return pName;\n        if (typeof oSetter === 'undefined') {\n          oSetter = function oSetter() {};\n        }\n\n        var srcValue = element[pName];\n        this._$(element).bindings[pName] = element[_$2].bindings[pName] || {\n          chain: [],\n          value: srcValue\n        };\n        element[_$2].bindings[pName].value = srcValue;\n        var newSetter = function newSetter(v) {\n          oSetter(v);\n          this[_$2].bindings[pName].value = v;\n          this._executeBindings(pName);\n        };\n        newSetter[_$2] = true;\n        element.__defineGetter__(pName, function () {\n          return element[_$2].bindings[pName].value;\n        });\n        element.__defineSetter__(pName, newSetter);\n        return pName;\n      }\n    }, {\n      key: 'bindOwn',\n      value: function bindOwn(target, expression, executor) {\n        return Slim.bind(target, target, expression, executor);\n      }\n    }, {\n      key: 'bind',\n      value: function bind(source, target, expression, executor) {\n        Slim._$(source);\n        Slim._$(target);\n        if (target[_$2].excluded) return;\n        executor.source = source;\n        executor.target = target;\n        var pName = this.wrapGetterSetter(source, expression);\n        if (!source[_$2].reversed[pName]) {\n          source[_$2].bindings[pName].chain.push(executor);\n        }\n        target[_$2].inbounds[pName] = target[_$2].inbounds[pName] || [];\n        target[_$2].inbounds[pName].push(executor);\n        return executor;\n      }\n    }, {\n      key: 'update',\n      value: function update(target) {\n        var children = Slim.selectRecursive(target);\n\n        for (var _len = arguments.length, props = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          props[_key - 1] = arguments[_key];\n        }\n\n        if (props.length === 0) {\n          return children.forEach(function (child) {\n            Slim.commit(child);\n          });\n        }\n        props.forEach(function (prop) {\n          children.forEach(function (child) {\n            Slim.commit(child, prop);\n          });\n        });\n      }\n    }, {\n      key: 'commit',\n      value: function commit(target, prop) {\n        var keys = void 0;\n        var $ = target[_$2];\n        var chain = [];\n        if (prop) {\n          if ($.inbounds[prop]) {\n            chain = chain.concat($.inbounds[prop] || []);\n          }\n          if ($.bindings[prop]) {\n            chain = chain.concat($.bindings[prop].chain);\n          }\n        } else {\n          Object.keys(target[_$2].inbounds).forEach(function (prop) {\n            if ($.inbounds[prop]) {\n              chain = chain.concat($.inbounds[prop] || []);\n            }\n            if ($.bindings[prop]) {\n              chain = chain.concat($.bindings[prop].chain);\n            }\n          });\n        }\n        chain.forEach(function (x) {\n          return x();\n        });\n      }\n\n      /*\n        Class instance\n        */\n\n    }, {\n      key: 'rxInject',\n      get: function get() {\n        return (/\\{(.+[^(\\((.+)\\))])\\}/\n        );\n      }\n    }, {\n      key: 'rxProp',\n      get: function get() {\n        return (/(.+[^(\\((.+)\\))])/\n        );\n      }\n    }, {\n      key: 'rxMethod',\n      get: function get() {\n        return (/(.+)(\\((.+)\\)){1}/\n        );\n      }\n    }]);\n\n    function Slim() {\n      _classCallCheck(this, Slim);\n\n      var _this = _possibleConstructorReturn(this, (Slim.__proto__ || Object.getPrototypeOf(Slim)).call(this));\n\n      _this.__isSlim = true;\n      Slim.debug('ctor', _this.localName);\n      if (Slim.checkCreationBlocking(_this)) {\n        return _possibleConstructorReturn(_this);\n      }\n      _this.createdCallback();\n      return _this;\n    }\n\n    // Native DOM Api V1\n\n    _createClass(Slim, [{\n      key: 'createdCallback',\n      value: function createdCallback() {\n        if (this[_$2] && this[_$2].createdCallbackInvoked) return;\n        this._initialize();\n        this[_$2].createdCallbackInvoked = true;\n        this.onBeforeCreated();\n        Slim.executePlugins('create', this);\n        this.render();\n        this.onCreated();\n      }\n\n      // Native DOM Api V2\n\n    }, {\n      key: 'connectedCallback',\n      value: function connectedCallback() {\n        this.createdCallback();\n        this.onAdded();\n        Slim.executePlugins('added', this);\n      }\n    }, {\n      key: 'disconnectedCallback',\n      value: function disconnectedCallback() {\n        this.onRemoved();\n        Slim.executePlugins('removed', this);\n      }\n    }, {\n      key: 'attributeChangedCallback',\n      value: function attributeChangedCallback(attr, oldValue, newValue) {\n        if (newValue !== oldValue && this[_$2].autoBoundAttributes[attr]) {\n          var prop = Slim.dashToCamel(attr);\n          this[prop] = newValue;\n        }\n      }\n\n      // Slim internal API\n\n    }, {\n      key: '_executeBindings',\n      value: function _executeBindings(prop) {\n        var _this2 = this;\n\n        Slim.debug('_executeBindings', this.localName);\n        var all = this[_$2].bindings;\n        if (prop) {\n          all = _defineProperty({}, prop, true);\n        }\n        Object.keys(all).forEach(function (pName) {\n          var o = _this2[_$2].bindings[pName];\n          o && o.chain.forEach(function (binding) {\n            return binding();\n          });\n        });\n      }\n    }, {\n      key: '_bindChildren',\n      value: function _bindChildren(children) {\n        Slim.debug('_bindChildren', this.localName);\n        if (!children) {\n          children = Slim.qSelectAll(this, '*');\n        }\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var child = _step2.value;\n\n            Slim._$(child);\n            if (child[_$2].boundParent === this) continue;\n            child[_$2].boundParent = child[_$2].boundParent || this;\n\n            // todo: child.localName === 'style' && this.useShadow -> processStyleNodeInShadowMode\n\n            if (child.attributes.length) {\n              var i = 0;\n              var n = child.attributes.length;\n              while (i < n) {\n                var source = this;\n                var attribute = child.attributes.item(i);\n                if (!child[_$2].excluded) {\n                  var _iteratorNormalCompletion3 = true;\n                  var _didIteratorError3 = false;\n                  var _iteratorError3 = undefined;\n\n                  try {\n                    for (var _iterator3 = Slim[_$2].customDirectives[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                      var _ref3 = _step3.value;\n\n                      var _ref4 = _slicedToArray(_ref3, 2);\n\n                      var check = _ref4[0];\n                      var directive = _ref4[1];\n\n                      var match = check(attribute);\n                      if (match) {\n                        directive(source, child, attribute, match);\n                      }\n                    }\n                  } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                  } finally {\n                    try {\n                      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                      }\n                    } finally {\n                      if (_didIteratorError3) {\n                        throw _iteratorError3;\n                      }\n                    }\n                  }\n                }\n                i++;\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    }, {\n      key: '_resetBindings',\n      value: function _resetBindings() {\n        Slim.debug('_resetBindings', this.localName);\n        this[_$2].bindings = {};\n      }\n    }, {\n      key: '_render',\n      value: function _render(customTemplate) {\n        var _this3 = this;\n\n        Slim.debug('_render', this.localName);\n        Slim.executePlugins('beforeRender', this);\n        this[_$2].hasCustomTemplate = customTemplate;\n        this._resetBindings();\n        this[_$2].rootElement.innerHTML = '';[].concat(_toConsumableArray(this.childNodes)).forEach(function (childNode) {\n          if (childNode.localName === 'style') {\n            _this3[_$2].externalStyle = childNode;\n            childNode.remove();\n          }\n        });\n        var template = this[_$2].hasCustomTemplate || this.template;\n        if (template && typeof template === 'string') {\n          var frag = document.createElement('slim-root-fragment');\n          frag.innerHTML = template || '';\n          var scopedChildren = Slim.qSelectAll(frag, '*');\n          if (this[_$2].externalStyle) {\n            this._bindChildren([this[_$2].externalStyle]);\n          }\n          this._bindChildren(scopedChildren);\n          Slim.asap(function () {\n            Slim.moveChildren(frag, _this3[_$2].rootElement || _this3);\n            _this3[_$2].externalStyle && _this3[_$2].rootElement.appendChild(_this3[_$2].externalStyle);\n            _this3._executeBindings();\n            _this3.onRender();\n            Slim.executePlugins('afterRender', _this3);\n            _this3.dispatchEvent(new Event('afterRender'));\n          });\n        }\n      }\n    }, {\n      key: '_initialize',\n      value: function _initialize() {\n        var _this4 = this;\n\n        Slim.debug('_initialize', this.localName);\n        Slim._$(this);\n        this[_$2].uniqueIndex = Slim.createUniqueIndex();\n        if (this.useShadow) {\n          // this[_$].rootElement = this.attachShadow({mode:'open'})\n          this[_$2].rootElement = this.createShadowRoot();\n        } else {\n          this[_$2].rootElement = this;\n        }\n        // this.setAttribute('slim-uq', this[_$].uniqueIndex)\n        var observedAttributes = this.constructor.observedAttributes;\n        if (observedAttributes) {\n          observedAttributes.forEach(function (attr) {\n            var pName = Slim.dashToCamel(attr);\n            _this4[pName] = _this4.getAttribute(attr);\n          });\n        }\n      }\n\n      // Slim public / protected API\n\n    }, {\n      key: 'commit',\n      value: function commit() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        Slim.commit.apply(Slim, [this].concat(args));\n      }\n    }, {\n      key: 'update',\n      value: function update() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        Slim.update.apply(Slim, [this].concat(args));\n      }\n    }, {\n      key: 'render',\n      value: function render(tpl) {\n        this._render(tpl);\n      }\n    }, {\n      key: 'onRender',\n      value: function onRender() {}\n    }, {\n      key: 'onBeforeCreated',\n      value: function onBeforeCreated() {}\n    }, {\n      key: 'onCreated',\n      value: function onCreated() {}\n    }, {\n      key: 'onAdded',\n      value: function onAdded() {}\n    }, {\n      key: 'onRemoved',\n      value: function onRemoved() {}\n    }, {\n      key: 'find',\n      value: function find(selector) {\n        return this[_$2].rootElement.querySelector(selector);\n      }\n    }, {\n      key: 'findAll',\n      value: function findAll(selector) {\n        return Slim.qSelectAll(this[_$2].rootElement, selector);\n      }\n    }, {\n      key: 'callAttribute',\n      value: function callAttribute(attr, data) {\n        var fnName = this.getAttribute(attr);\n        if (fnName) {\n          return this[_$2].boundParent[fnName](data);\n        }\n      }\n    }, {\n      key: '_isInContext',\n      get: function get() {\n        var node = this;\n        while (node) {\n          node = node.parentNode;\n          if (!node) {\n            return false;\n          }\n          if (node instanceof Document) {\n            return true;\n          }\n        }\n        return false;\n      }\n    }, {\n      key: 'useShadow',\n      get: function get() {\n        return false;\n      }\n    }, {\n      key: 'template',\n      get: function get() {\n        return Slim.tagToTemplateDict.get(Slim.tagOf(this.constructor));\n      }\n    }]);\n\n    return Slim;\n  }(_CustomElement);\n\n  Slim.uniqueIndex = 0;\n  Slim.tagToClassDict = new Map();\n  Slim.classToTagDict = new Map();\n  Slim.tagToTemplateDict = new Map();\n  Slim.plugins = {\n    'create': [],\n    'added': [],\n    'beforeRender': [],\n    'afterRender': [],\n    'removed': []\n  };\n\n  Slim.debug = function () {};\n\n  Slim.asap = window && window.requestAnimationFrame ? function (cb) {\n    return window.requestAnimationFrame(cb);\n  } : typeof setImmediate !== 'undefined' ? setImmediate : function (cb) {\n    return setTimeout(cb, 0);\n  };\n\n  Slim[_$2] = {\n    customDirectives: new Map(),\n    uniqueCounter: 0,\n    supportedNativeEvents: ['click', 'mouseover', 'mouseout', 'mousemove', 'mouseenter', 'mousedown', 'mouseup', 'dblclick', 'contextmenu', 'wheel', 'mouseleave', 'select', 'pointerlockchange', 'pointerlockerror', 'focus', 'blur', 'input', 'error', 'invalid', 'animationstart', 'animationend', 'animationiteration', 'reset', 'submit', 'resize', 'scroll', 'keydown', 'keypress', 'keyup', 'change']\n  };\n\n  Slim.customDirective(function (attr) {\n    return (/^s:iterate$/.test(attr.nodeName)\n    );\n  }, function () {}, true);\n\n  // supported events (i.e. click, mouseover, change...)\n  Slim.customDirective(function (attr) {\n    return Slim[_$2].supportedNativeEvents.indexOf(attr.nodeName) >= 0;\n  }, function (source, target, attribute) {\n    var eventName = attribute.nodeName;\n    var delegate = attribute.value;\n    Slim._$(target).eventHandlers = target[_$2].eventHandlers || {};\n    var allHandlers = target[_$2].eventHandlers;\n    allHandlers[eventName] = allHandlers[eventName] || [];\n    var handler = function handler(e) {\n      try {\n        source[delegate].call(source, e);\n      } catch (err) {\n        err.message = 'Could not respond to event \"' + eventName + '\" on ' + target.localName + ' -> \"' + delegate + '\" on ' + source.localName + ' ... ' + err.message;\n        console.warn(err);\n      }\n    };\n    allHandlers[eventName].push(handler);\n    target.addEventListener(eventName, handler);\n    handler = null;\n  });\n\n  Slim.customDirective(function (attr) {\n    return (/^s:if$/.exec(attr.nodeName)\n    );\n  }, function (source, target, attribute) {\n    var expression = attribute.value;\n    var path = expression;\n    var isNegative = false;\n    if (path.charAt(0) === '!') {\n      path = path.slice(1);\n      isNegative = true;\n    }\n    var anchor = document.createComment('if:' + expression);\n    target.parentNode.insertBefore(anchor, target);\n    var fn = function fn() {\n      var value = Slim.lookup(source, path, target);\n      if (isNegative) {\n        value = !value;\n      }\n      if (value) {\n        anchor.parentNode.insertBefore(target, anchor.nextSibling);\n      } else {\n        Slim.removeChild(target);\n      }\n    };\n    Slim.bind(source, target, path, fn);\n  }, true);\n\n  // bind (text nodes)\n  Slim.customDirective(function (attr) {\n    return (/^bind$/.test(attr.nodeName)\n    );\n  }, function (source, target) {\n    Slim._$(target);\n    target[_$2].sourceText = target.innerText;\n    var updatedText = '';\n    var matches = target.innerText.match(/\\{\\{([^\\}\\}]+)+\\}\\}/g);\n    var aggProps = {};\n    var textBinds = {};\n    if (matches) {\n      matches.forEach(function (expression) {\n        var oldValue = void 0;\n        var rxM = /\\{\\{(.+)(\\((.+)\\)){1}\\}\\}/.exec(expression);\n        if (rxM) {\n          var fnName = rxM[1];\n          var pNames = rxM[3].split(' ').join('').split(',');\n          pNames.map(function (path) {\n            return path.split('.')[0];\n          }).forEach(function (p) {\n            return aggProps[p] = true;\n          });\n          textBinds[expression] = function (target) {\n            var args = pNames.map(function (path) {\n              return Slim.lookup(source, path, target);\n            });\n            var value = source[fnName].apply(source, args);\n            if (oldValue === value) return;\n            updatedText = updatedText.split(expression).join(value || '');\n          };\n          return;\n        }\n        var rxP = /\\{\\{(.+[^(\\((.+)\\))])\\}\\}/.exec(expression);\n        if (rxP) {\n          var path = rxP[1];\n          aggProps[path] = true;\n          textBinds[expression] = function (target) {\n            var value = Slim.lookup(source, path, target);\n            if (oldValue === value) return;\n            updatedText = updatedText.split(expression).join(value || '');\n          };\n        }\n      });\n      var chainExecutor = function chainExecutor() {\n        updatedText = target[_$2].sourceText;\n        Object.keys(textBinds).forEach(function (expression) {\n          textBinds[expression](target);\n        });\n        target.innerText = updatedText;\n      };\n      Object.keys(aggProps).forEach(function (prop) {\n        Slim.bind(source, target, prop, chainExecutor);\n      });\n    }\n  });\n\n  Slim.customDirective(function (attr) {\n    return (/^s:id$/.test(attr.nodeName)\n    );\n  }, function (source, target, attribute) {\n    Slim._$(target).boundParent[attribute.value] = target;\n  });\n\n  // bind:property\n  Slim.customDirective(function (attr) {\n    return (/^(bind):(\\S+)/.exec(attr.nodeName)\n    );\n  }, function (source, target, attribute, match) {\n    var tAttr = match[2];\n    var tProp = Slim.dashToCamel(tAttr);\n    var expression = attribute.value;\n    var oldValue = void 0;\n    var rxM = Slim.rxMethod.exec(expression);\n    if (rxM) {\n      var pNames = rxM[3].split(' ').join('').split(',');\n      pNames.forEach(function (pName) {\n        Slim.bind(source, target, pName, function () {\n          var fn = Slim.lookup(source, rxM[1], target);\n          var args = pNames.map(function (prop) {\n            return Slim.lookup(source, prop, target);\n          });\n          var value = fn.apply(source, args);\n          if (oldValue === value) return;\n          target[tProp] = value;\n          target.setAttribute(tAttr, value);\n        });\n      });\n      return;\n    }\n    var rxP = Slim.rxProp.exec(expression);\n    if (rxP) {\n      var prop = rxP[1];\n      Slim.bind(source, target, prop, function () {\n        var value = Slim.lookup(source, expression, target);\n        if (oldValue === value) return;\n        target.setAttribute(tAttr, value);\n        target[tProp] = value;\n      });\n    }\n  });\n\n  __flags.isChrome && Slim.customDirective(function (attr) {\n    return (/^s:repeat$/.test(attr.nodeName)\n    );\n  }, function (source, templateNode, attribute) {\n    var path = attribute.value;\n    var tProp = 'data';\n    if (path.indexOf(' as')) {\n      tProp = path.split(' as ')[1] || tProp;\n      path = path.split(' as ')[0];\n    }\n\n    var clones = [];\n    var hook = document.createComment(templateNode.localName + ' s:repeat=\"' + attribute.value + '\"');\n    var templateHTML = void 0;\n    Slim._$(hook);\n    Slim.selectRecursive(templateNode, true).forEach(function (e) {\n      return Slim._$(e).excluded = true;\n    });\n    templateNode.parentElement.insertBefore(hook, templateNode);\n    templateNode.remove();\n    Slim.unbind(source, templateNode);\n    Slim.asap(function () {\n      templateNode.setAttribute('s:iterate', '');\n      templateNode.removeAttribute('s:repeat');\n      templateHTML = templateNode.outerHTML;\n      templateNode.innerHTML = '';\n    });\n    var oldDataSource = [];\n    Slim.bind(source, hook, path, function () {\n      var dataSource = Slim.lookup(source, path) || [];\n      var offset = 0;\n      var restOfData = [];\n      // get the diff\n      var diff = Array(dataSource.length);\n      dataSource.forEach(function (d, i) {\n        if (oldDataSource[i] !== d) {\n          diff[i] = true;\n        }\n      });\n      oldDataSource = dataSource.concat();\n      var indices = Object.keys(diff);\n      if (dataSource.length < clones.length) {\n        var disposables = clones.slice(dataSource.length);\n        clones = clones.slice(0, dataSource.length);\n        disposables.forEach(function (clone) {\n          return clone.remove();\n        });\n        // unbind disposables?\n        indices.forEach(function (index) {\n          var clone = clones[index];[clone].concat(Slim.qSelectAll(clone, '*')).forEach(function (t) {\n            t[_$2].repeater[tProp] = dataSource[index];\n            Slim.commit(t, tProp);\n          });\n        });\n      } else {\n        // recycle\n        clones.length && indices.forEach(function (index) {\n          var clone = clones[index];\n          if (!clone) return;\n          [clone].concat(Slim.qSelectAll(clone, '*')).forEach(function (t) {\n            t[_$2].repeater[tProp] = dataSource[index];\n            Slim.commit(t, tProp);\n          });\n        });\n        restOfData = dataSource.slice(clones.length);\n        offset = clones.length;\n      }\n      if (!restOfData.length) return;\n      // new clones\n      var range = document.createRange();\n      range.setStartBefore(hook);\n      var html = Array(restOfData.length).fill(templateHTML).join('');\n      var frag = range.createContextualFragment(html);\n      var all = [];\n      var i = 0;\n      while (i < frag.children.length) {\n        var e = frag.children.item(i);\n        clones.push(e);\n        all.push(e);\n        Slim._$(e).repeater[tProp] = dataSource[i + offset];\n        var subTree = Slim.qSelectAll(e, '*');\n        subTree.forEach(function (t) {\n          all.push(t);\n          Slim._$(t).repeater[tProp] = dataSource[i + offset];\n          Slim.commit(t, tProp);\n        });\n        i++;\n      }\n      source._bindChildren(all);\n      all.forEach(function (t) {\n        if (t.__isSlim) {\n          t.createdCallback();\n          Slim.asap(function () {\n            Slim.commit(t, tProp);\n            t[tProp] = t[_$2].repeater[tProp];\n          });\n        } else {\n          Slim.commit(t, tProp);\n          t[tProp] = t[_$2].repeater[tProp];\n        }\n      });\n      hook.parentElement.insertBefore(frag, hook);\n    });\n    source[_$2].reversed[tProp] = true;\n  }, true);\n\n  !__flags.isChrome && Slim.customDirective(function (attr) {\n    return (/^s:repeat$/.test(attr.nodeName)\n    );\n  }, function (source, templateNode, attribute) {\n    var path = attribute.nodeValue;\n    var tProp = 'data';\n    if (path.indexOf(' as')) {\n      tProp = path.split(' as ')[1] || tProp;\n      path = path.split(' as ')[0];\n    }\n\n    var repeater = document.createElement('slim-repeat');\n    repeater[_$2].boundParent = source;\n    repeater.dataProp = tProp;\n    repeater.dataPath = attribute.nodeValue;\n    repeater.templateNode = templateNode.cloneNode(true);\n    repeater.templateNode.removeAttribute('s:repeat');\n    templateNode.parentNode.insertBefore(repeater, templateNode);\n    Slim.removeChild(templateNode);\n    Slim.bind(source, repeater, path, function () {\n      var dataSource = Slim.lookup(source, path);\n      repeater.dataSource = dataSource || [];\n    });\n\n    // source._executeBindings()\n  }, true);\n\n  var SlimRepeater = function (_Slim) {\n    _inherits(SlimRepeater, _Slim);\n\n    function SlimRepeater() {\n      _classCallCheck(this, SlimRepeater);\n\n      return _possibleConstructorReturn(this, (SlimRepeater.__proto__ || Object.getPrototypeOf(SlimRepeater)).apply(this, arguments));\n    }\n\n    _createClass(SlimRepeater, [{\n      key: '_bindChildren',\n      value: function _bindChildren(tree) {\n        var _this6 = this;\n\n        tree = Array.prototype.slice.call(tree);\n        var directChildren = Array.prototype.filter.call(tree, function (child) {\n          return child.parentNode.localName === 'slim-root-fragment';\n        });\n        directChildren.forEach(function (child, index) {\n          child.setAttribute('s:iterate', _this6.dataPath + ' : ' + index);\n          Slim.selectRecursive(child).forEach(function (e) {\n            Slim._$(e).repeater[_this6.dataProp] = _this6.dataSource[index];\n            if (e instanceof Slim) {\n              e[_this6.dataProp] = _this6.dataSource[index];\n            }\n          });\n        });\n      }\n    }, {\n      key: 'onRender',\n      value: function onRender() {\n        if (!this.boundParent) return;\n        var tree = Slim.selectRecursive(this);\n        this.boundParent && this.boundParent._bindChildren(tree);\n        this.boundParent._executeBindings();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this7 = this;\n\n        if (!this.boundParent) return;\n        Slim.qSelectAll(this, '*').forEach(function (e) {\n          Slim.unbind(_this7.boundParent, e);\n        });\n        if (!this.dataSource || !this.templateNode || !this.boundParent) {\n          return _get(SlimRepeater.prototype.__proto__ || Object.getPrototypeOf(SlimRepeater.prototype), 'render', this).call(this, '');\n        }\n        var newTemplate = Array(this.dataSource.length).fill(this.templateNode.outerHTML).join('');\n        this.innerHTML = '';\n        _get(SlimRepeater.prototype.__proto__ || Object.getPrototypeOf(SlimRepeater.prototype), 'render', this).call(this, newTemplate);\n      }\n    }, {\n      key: 'dataSource',\n      get: function get() {\n        return this._dataSource;\n      },\n      set: function set(v) {\n        if (this._dataSource !== v) {\n          this._dataSource = v;\n          this.render();\n        }\n      }\n    }, {\n      key: 'boundParent',\n      get: function get() {\n        return this[_$2].boundParent;\n      }\n    }]);\n\n    return SlimRepeater;\n  }(Slim);\n\n  Slim.tag('slim-repeat', SlimRepeater);\n\n  if (window) {\n    window['Slim'] = Slim;\n  }\n  if (true) {\n    module.exports.Slim = Slim;\n  }\n})(window, document, HTMLElement);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4).setImmediate))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ib3dlcl9jb21wb25lbnRzL3NsaW1qcy9TbGltLmpzPzhkZWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Im9EQUFBOztBQUVBLHFEQUFxRCxrREFBa0QsOERBQThELDBCQUEwQiw0Q0FBNEMsdUJBQXVCLGtCQUFrQixFQUFFLE9BQU8sd0NBQXdDLEVBQUUsRUFBRSw0QkFBNEIsbUJBQW1CLEVBQUUsT0FBTyx1QkFBdUIsNEJBQTRCLGtCQUFrQixFQUFFLDhCQUE4QixFQUFFOztBQUV4ZSxrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLDJDQUEyQyxrQkFBa0Isa0NBQWtDLHFFQUFxRSxFQUFFLEVBQUUsT0FBTyxrQkFBa0IsRUFBRSxZQUFZOztBQUUvTSxrQ0FBa0MsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsT0FBTyx3QkFBd0IsRUFBRTs7QUFFak0saURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVILCtCQUErQjs7QUFFL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELE9BQU87QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3RkFBd0YsZ0VBQWdFO0FBQ3hKOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSwyRkFBMkYsYUFBYTtBQUN4RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdB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QkFBcUIsRUFBRSxtQkFBbUIsRUFBRTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX0N1c3RvbUVsZW1lbnQoKSB7XG4gIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChIVE1MRWxlbWVudCwgW10sIHRoaXMuX19wcm90b19fLmNvbnN0cnVjdG9yKTtcbn1cblxuO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKF9DdXN0b21FbGVtZW50LnByb3RvdHlwZSwgSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihfQ3VzdG9tRWxlbWVudCwgSFRNTEVsZW1lbnQpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4oZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsIEhUTUxFbGVtZW50KSB7XG5cbiAgdmFyIF9fZmxhZ3MgPSB7XG4gICAgaXNXQ1N1cHBvcnRlZDogJ2N1c3RvbUVsZW1lbnRzJyBpbiB3aW5kb3cgJiYgJ2ltcG9ydCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpICYmICdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpLFxuICAgIGlzSUUxMTogISF3aW5kb3dbJ01TSW5wdXRNZXRob2RDb250ZXh0J10gJiYgISFkb2N1bWVudFsnZG9jdW1lbnRNb2RlJ10sXG4gICAgaXNDaHJvbWU6IHVuZGVmaW5lZCxcbiAgICBpc0VkZ2U6IHVuZGVmaW5lZFxuICB9O1xuXG4gIHRyeSB7XG4gICAgX19mbGFncy5pc0Nocm9tZSA9IC9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgX19mbGFncy5pc0VkZ2UgPSAvRWRnZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgIGlmIChfX2ZsYWdzLmlzSUUxMSB8fCBfX2ZsYWdzLmlzRWRnZSkge1xuICAgICAgX19mbGFncy5pc0Nocm9tZSA9IGZhbHNlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCAnY2hpbGRyZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge31cblxuICB2YXIgXyQyID0gJ19zbGltX2ludGVybmFsc18nOyAvL1N5bWJvbCgnU2xpbScpXG5cbiAgdmFyIEludGVybmFscyA9IGZ1bmN0aW9uIEludGVybmFscygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJuYWxzKTtcblxuICAgIHRoaXMuaGFzQ3VzdG9tVGVtcGxhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ib3VuZFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5yZXBlYXRlciA9IHt9O1xuICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICB0aGlzLnJldmVyc2VkID0ge307XG4gICAgdGhpcy5pbmJvdW5kcyA9IHt9O1xuICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuaW50ZXJuZXRFeHBsb2RlckNsb25lID0gbnVsbDtcbiAgICB0aGlzLnJvb3RFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmNyZWF0ZWRDYWxsYmFja0ludm9rZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNvdXJjZVRleHQgPSBudWxsO1xuICAgIHRoaXMuZXhjbHVkZWQgPSBmYWxzZTtcbiAgICB0aGlzLmF1dG9Cb3VuZEF0dHJpYnV0ZXMgPSBbXTtcbiAgfTtcblxuICB2YXIgU2xpbSA9IGZ1bmN0aW9uIChfQ3VzdG9tRWxlbWVudDIpIHtcbiAgICBfaW5oZXJpdHMoU2xpbSwgX0N1c3RvbUVsZW1lbnQyKTtcblxuICAgIF9jcmVhdGVDbGFzcyhTbGltLCBudWxsLCBbe1xuICAgICAga2V5OiAnZGFzaFRvQ2FtZWwnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRhc2hUb0NhbWVsKGRhc2gpIHtcbiAgICAgICAgcmV0dXJuIGRhc2guaW5kZXhPZignLScpIDwgMCA/IGRhc2ggOiBkYXNoLnJlcGxhY2UoLy1bYS16XS9nLCBmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NhbWVsVG9EYXNoJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW1lbFRvRGFzaChjYW1lbCkge1xuICAgICAgICByZXR1cm4gY2FtZWwucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdsb29rdXAnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvb2t1cCh0YXJnZXQsIGV4cHJlc3Npb24sIG1heWJlUmVwZWF0ZWQpIHtcbiAgICAgICAgdmFyIGNoYWluID0gZXhwcmVzc2lvbi5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbyA9IHZvaWQgMDtcbiAgICAgICAgaWYgKG1heWJlUmVwZWF0ZWQgJiYgbWF5YmVSZXBlYXRlZFtfJDJdLnJlcGVhdGVyW2NoYWluWzBdXSkge1xuICAgICAgICAgIG8gPSBtYXliZVJlcGVhdGVkW18kMl0ucmVwZWF0ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbyA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChvICYmIGkgPCBjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgICBvID0gb1tjaGFpbltpKytdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbztcbiAgICAgIH1cblxuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZFZhcmlhYmxlXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdfJCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gXyQodGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldFtfJDJdID0gdGFyZ2V0W18kMl0gfHwgbmV3IEludGVybmFscygpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W18kMl07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncG9seUZpbGwnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBvbHlGaWxsKHVybCkge1xuICAgICAgICBpZiAoIV9fZmxhZ3MuaXNXQ1N1cHBvcnRlZCkge1xuICAgICAgICAgIHZhciBleGlzdGluZ1NjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtkYXRhLWlzLXNsaW0tcG9seWZpbGw9XCJ0cnVlXCJdJyk7XG4gICAgICAgICAgaWYgKCFleGlzdGluZ1NjcmlwdCkge1xuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnZGF0YS1pcy1zbGltLXBvbHlmaWxsJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSB1cmw7XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAndGFnJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWcodGFnTmFtZSwgdHBsT3JDbGF6eiwgY2xhenopIHtcbiAgICAgICAgaWYgKHRoaXMudGFnVG9DbGFzc0RpY3QuaGFzKHRhZ05hbWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZGVmaW5lIHRhZzogJyArIHRhZ05hbWUgKyAnIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGF6eiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xhenogPSB0cGxPckNsYXp6O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNsaW0udGFnVG9UZW1wbGF0ZURpY3Quc2V0KHRhZ05hbWUsIHRwbE9yQ2xhenopO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFnVG9DbGFzc0RpY3Quc2V0KHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgdGhpcy5jbGFzc1RvVGFnRGljdC5zZXQoY2xhenosIHRhZ05hbWUpO1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3RhZ09mJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWdPZihjbGF6eikge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzc1RvVGFnRGljdC5nZXQoY2xhenopO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NsYXNzT2YnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsYXNzT2YodGFnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhZ1RvQ2xhc3NEaWN0LmdldCh0YWcpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NyZWF0ZVVuaXF1ZUluZGV4JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVVbmlxdWVJbmRleCgpIHtcbiAgICAgICAgdGhpc1tfJDJdLnVuaXF1ZUNvdW50ZXIrKztcbiAgICAgICAgcmV0dXJuIHRoaXNbXyQyXS51bmlxdWVDb3VudGVyLnRvU3RyaW5nKDE2KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdwbHVnaW4nLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBsdWdpbihwaGFzZSwgX3BsdWdpbikge1xuICAgICAgICBpZiAoIXRoaXMucGx1Z2luc1twaGFzZV0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhdHRhY2ggcGx1Z2luOiAnICsgcGhhc2UgKyAnIGlzIG5vdCBhIHN1cHBvcnRlZCBwaGFzZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGx1Z2luc1twaGFzZV0ucHVzaChfcGx1Z2luKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjaGVja0NyZWF0aW9uQmxvY2tpbmcnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQ3JlYXRpb25CbG9ja2luZyhlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gU2xpbVtfJDJdLmN1c3RvbURpcmVjdGl2ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlc3QgPSBfcmVmMlswXTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gX3JlZjJbMV07XG5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkaXJlY3RpdmUuaXNCbG9ja2luZyAmJiB0ZXN0KGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY3VzdG9tRGlyZWN0aXZlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjdXN0b21EaXJlY3RpdmUodGVzdEZuLCBmbiwgaXNCbG9ja2luZykge1xuICAgICAgICBpZiAodGhpc1tfJDJdLmN1c3RvbURpcmVjdGl2ZXMuaGFzKHRlc3RGbikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBjdXN0b20gZGlyZWN0aXZlOiAnICsgdGVzdEZuICsgJyBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBmbi5pc0Jsb2NraW5nID0gaXNCbG9ja2luZztcbiAgICAgICAgdGhpc1tfJDJdLmN1c3RvbURpcmVjdGl2ZXMuc2V0KHRlc3RGbiwgZm4pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2V4ZWN1dGVQbHVnaW5zJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlUGx1Z2lucyhwaGFzZSwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMucGx1Z2luc1twaGFzZV0uZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICBmbih0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdxU2VsZWN0QWxsJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBxU2VsZWN0QWxsKHRhcmdldCwgc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAndW5iaW5kJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmJpbmQoc291cmNlLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJpbmRpbmdzID0gc291cmNlW18kMl0uYmluZGluZ3M7XG4gICAgICAgIE9iamVjdC5rZXlzKGJpbmRpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICB2YXIgY2hhaW4gPSBiaW5kaW5nc1trZXldLmNoYWluLmZpbHRlcihmdW5jdGlvbiAoYmluZGluZykge1xuICAgICAgICAgICAgaWYgKGJpbmRpbmcudGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgYmluZGluZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJpbmRpbmdzW2tleV0uY2hhaW4gPSBjaGFpbjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncm9vdCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcm9vdCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5fX2lzU2xpbSAmJiB0YXJnZXQudXNlU2hhZG93ID8gdGFyZ2V0W18kMl0ucm9vdEVsZW1lbnQgOiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnc2VsZWN0UmVjdXJzaXZlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RSZWN1cnNpdmUodGFyZ2V0LCBmb3JjZSkge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IFtdO1xuICAgICAgICB2YXIgc2VhcmNoID0gZnVuY3Rpb24gc2VhcmNoKG5vZGUsIGZvcmNlKSB7XG4gICAgICAgICAgY29sbGVjdGlvbi5wdXNoKG5vZGUpO1xuICAgICAgICAgIHZhciBhbGxvdyA9ICFub2RlLl9faXNTbGltIHx8IG5vZGUuX19pc1NsaW0gJiYgIW5vZGUudGVtcGxhdGUgfHwgbm9kZS5fX2lzU2xpbSAmJiBub2RlID09PSB0YXJnZXQgfHwgZm9yY2U7XG4gICAgICAgICAgaWYgKGFsbG93KSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KFNsaW0ucm9vdChub2RlKS5jaGlsZHJlbikpO1xuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgIHNlYXJjaChjaGlsZE5vZGUsIGZvcmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VhcmNoKHRhcmdldCwgZm9yY2UpO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdyZW1vdmVDaGlsZCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2hpbGQodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl8kKHRhcmdldCkuaW50ZXJuZXRFeHBsb2RlckNsb25lKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl8kKHRhcmdldCkuaW50ZXJuZXRFeHBsb2RlckNsb25lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ21vdmVDaGlsZHJlbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZUNoaWxkcmVuKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgICAgIHdoaWxlIChzb3VyY2UuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChzb3VyY2UuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICd3cmFwR2V0dGVyU2V0dGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwR2V0dGVyU2V0dGVyKGVsZW1lbnQsIGV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIHBOYW1lID0gZXhwcmVzc2lvbi5zcGxpdCgnLicpWzBdO1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZWxlbWVudCwgcE5hbWUpO1xuICAgICAgICB2YXIgb1NldHRlciA9IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIGlmIChvU2V0dGVyICYmIG9TZXR0ZXJbXyQyXSkgcmV0dXJuIHBOYW1lO1xuICAgICAgICBpZiAodHlwZW9mIG9TZXR0ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgb1NldHRlciA9IGZ1bmN0aW9uIG9TZXR0ZXIoKSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcmNWYWx1ZSA9IGVsZW1lbnRbcE5hbWVdO1xuICAgICAgICB0aGlzLl8kKGVsZW1lbnQpLmJpbmRpbmdzW3BOYW1lXSA9IGVsZW1lbnRbXyQyXS5iaW5kaW5nc1twTmFtZV0gfHwge1xuICAgICAgICAgIGNoYWluOiBbXSxcbiAgICAgICAgICB2YWx1ZTogc3JjVmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudFtfJDJdLmJpbmRpbmdzW3BOYW1lXS52YWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICB2YXIgbmV3U2V0dGVyID0gZnVuY3Rpb24gbmV3U2V0dGVyKHYpIHtcbiAgICAgICAgICBvU2V0dGVyKHYpO1xuICAgICAgICAgIHRoaXNbXyQyXS5iaW5kaW5nc1twTmFtZV0udmFsdWUgPSB2O1xuICAgICAgICAgIHRoaXMuX2V4ZWN1dGVCaW5kaW5ncyhwTmFtZSk7XG4gICAgICAgIH07XG4gICAgICAgIG5ld1NldHRlcltfJDJdID0gdHJ1ZTtcbiAgICAgICAgZWxlbWVudC5fX2RlZmluZUdldHRlcl9fKHBOYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRbXyQyXS5iaW5kaW5nc1twTmFtZV0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50Ll9fZGVmaW5lU2V0dGVyX18ocE5hbWUsIG5ld1NldHRlcik7XG4gICAgICAgIHJldHVybiBwTmFtZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdiaW5kT3duJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kT3duKHRhcmdldCwgZXhwcmVzc2lvbiwgZXhlY3V0b3IpIHtcbiAgICAgICAgcmV0dXJuIFNsaW0uYmluZCh0YXJnZXQsIHRhcmdldCwgZXhwcmVzc2lvbiwgZXhlY3V0b3IpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2JpbmQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmQoc291cmNlLCB0YXJnZXQsIGV4cHJlc3Npb24sIGV4ZWN1dG9yKSB7XG4gICAgICAgIFNsaW0uXyQoc291cmNlKTtcbiAgICAgICAgU2xpbS5fJCh0YXJnZXQpO1xuICAgICAgICBpZiAodGFyZ2V0W18kMl0uZXhjbHVkZWQpIHJldHVybjtcbiAgICAgICAgZXhlY3V0b3Iuc291cmNlID0gc291cmNlO1xuICAgICAgICBleGVjdXRvci50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHZhciBwTmFtZSA9IHRoaXMud3JhcEdldHRlclNldHRlcihzb3VyY2UsIGV4cHJlc3Npb24pO1xuICAgICAgICBpZiAoIXNvdXJjZVtfJDJdLnJldmVyc2VkW3BOYW1lXSkge1xuICAgICAgICAgIHNvdXJjZVtfJDJdLmJpbmRpbmdzW3BOYW1lXS5jaGFpbi5wdXNoKGV4ZWN1dG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRbXyQyXS5pbmJvdW5kc1twTmFtZV0gPSB0YXJnZXRbXyQyXS5pbmJvdW5kc1twTmFtZV0gfHwgW107XG4gICAgICAgIHRhcmdldFtfJDJdLmluYm91bmRzW3BOYW1lXS5wdXNoKGV4ZWN1dG9yKTtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dG9yO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKHRhcmdldCkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBTbGltLnNlbGVjdFJlY3Vyc2l2ZSh0YXJnZXQpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9wcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBwcm9wc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBTbGltLmNvbW1pdChjaGlsZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBTbGltLmNvbW1pdChjaGlsZCwgcHJvcCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbW1pdCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tbWl0KHRhcmdldCwgcHJvcCkge1xuICAgICAgICB2YXIga2V5cyA9IHZvaWQgMDtcbiAgICAgICAgdmFyICQgPSB0YXJnZXRbXyQyXTtcbiAgICAgICAgdmFyIGNoYWluID0gW107XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgaWYgKCQuaW5ib3VuZHNbcHJvcF0pIHtcbiAgICAgICAgICAgIGNoYWluID0gY2hhaW4uY29uY2F0KCQuaW5ib3VuZHNbcHJvcF0gfHwgW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJC5iaW5kaW5nc1twcm9wXSkge1xuICAgICAgICAgICAgY2hhaW4gPSBjaGFpbi5jb25jYXQoJC5iaW5kaW5nc1twcm9wXS5jaGFpbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHRhcmdldFtfJDJdLmluYm91bmRzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICBpZiAoJC5pbmJvdW5kc1twcm9wXSkge1xuICAgICAgICAgICAgICBjaGFpbiA9IGNoYWluLmNvbmNhdCgkLmluYm91bmRzW3Byb3BdIHx8IFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkLmJpbmRpbmdzW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGNoYWluID0gY2hhaW4uY29uY2F0KCQuYmluZGluZ3NbcHJvcF0uY2hhaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNoYWluLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICByZXR1cm4geCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAgQ2xhc3MgaW5zdGFuY2VcbiAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ3J4SW5qZWN0JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gKC9cXHsoLitbXihcXCgoLispXFwpKV0pXFx9L1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3J4UHJvcCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuICgvKC4rW14oXFwoKC4rKVxcKSldKS9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdyeE1ldGhvZCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuICgvKC4rKShcXCgoLispXFwpKXsxfS9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBTbGltKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaW0pO1xuXG4gICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2xpbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNsaW0pKS5jYWxsKHRoaXMpKTtcblxuICAgICAgX3RoaXMuX19pc1NsaW0gPSB0cnVlO1xuICAgICAgU2xpbS5kZWJ1ZygnY3RvcicsIF90aGlzLmxvY2FsTmFtZSk7XG4gICAgICBpZiAoU2xpbS5jaGVja0NyZWF0aW9uQmxvY2tpbmcoX3RoaXMpKSB7XG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gICAgICB9XG4gICAgICBfdGhpcy5jcmVhdGVkQ2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvLyBOYXRpdmUgRE9NIEFwaSBWMVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNsaW0sIFt7XG4gICAgICBrZXk6ICdjcmVhdGVkQ2FsbGJhY2snLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKHRoaXNbXyQyXSAmJiB0aGlzW18kMl0uY3JlYXRlZENhbGxiYWNrSW52b2tlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXNbXyQyXS5jcmVhdGVkQ2FsbGJhY2tJbnZva2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbkJlZm9yZUNyZWF0ZWQoKTtcbiAgICAgICAgU2xpbS5leGVjdXRlUGx1Z2lucygnY3JlYXRlJywgdGhpcyk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMub25DcmVhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5hdGl2ZSBET00gQXBpIFYyXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjb25uZWN0ZWRDYWxsYmFjaycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMub25BZGRlZCgpO1xuICAgICAgICBTbGltLmV4ZWN1dGVQbHVnaW5zKCdhZGRlZCcsIHRoaXMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2Rpc2Nvbm5lY3RlZENhbGxiYWNrJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5vblJlbW92ZWQoKTtcbiAgICAgICAgU2xpbS5leGVjdXRlUGx1Z2lucygncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIHRoaXNbXyQyXS5hdXRvQm91bmRBdHRyaWJ1dGVzW2F0dHJdKSB7XG4gICAgICAgICAgdmFyIHByb3AgPSBTbGltLmRhc2hUb0NhbWVsKGF0dHIpO1xuICAgICAgICAgIHRoaXNbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBTbGltIGludGVybmFsIEFQSVxuXG4gICAgfSwge1xuICAgICAga2V5OiAnX2V4ZWN1dGVCaW5kaW5ncycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2V4ZWN1dGVCaW5kaW5ncyhwcm9wKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIFNsaW0uZGVidWcoJ19leGVjdXRlQmluZGluZ3MnLCB0aGlzLmxvY2FsTmFtZSk7XG4gICAgICAgIHZhciBhbGwgPSB0aGlzW18kMl0uYmluZGluZ3M7XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgYWxsID0gX2RlZmluZVByb3BlcnR5KHt9LCBwcm9wLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3Qua2V5cyhhbGwpLmZvckVhY2goZnVuY3Rpb24gKHBOYW1lKSB7XG4gICAgICAgICAgdmFyIG8gPSBfdGhpczJbXyQyXS5iaW5kaW5nc1twTmFtZV07XG4gICAgICAgICAgbyAmJiBvLmNoYWluLmZvckVhY2goZnVuY3Rpb24gKGJpbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5kaW5nKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ19iaW5kQ2hpbGRyZW4nLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kQ2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgICAgICAgU2xpbS5kZWJ1ZygnX2JpbmRDaGlsZHJlbicsIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICAgIGNoaWxkcmVuID0gU2xpbS5xU2VsZWN0QWxsKHRoaXMsICcqJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgIFNsaW0uXyQoY2hpbGQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkW18kMl0uYm91bmRQYXJlbnQgPT09IHRoaXMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2hpbGRbXyQyXS5ib3VuZFBhcmVudCA9IGNoaWxkW18kMl0uYm91bmRQYXJlbnQgfHwgdGhpcztcblxuICAgICAgICAgICAgLy8gdG9kbzogY2hpbGQubG9jYWxOYW1lID09PSAnc3R5bGUnICYmIHRoaXMudXNlU2hhZG93IC0+IHByb2Nlc3NTdHlsZU5vZGVJblNoYWRvd01vZGVcblxuICAgICAgICAgICAgaWYgKGNoaWxkLmF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgdmFyIG4gPSBjaGlsZC5hdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGNoaWxkLmF0dHJpYnV0ZXMuaXRlbShpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkW18kMl0uZXhjbHVkZWQpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gU2xpbVtfJDJdLmN1c3RvbURpcmVjdGl2ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMik7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBfcmVmNFswXTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gX3JlZjRbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBjaGVjayhhdHRyaWJ1dGUpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlKHNvdXJjZSwgY2hpbGQsIGF0dHJpYnV0ZSwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ19yZXNldEJpbmRpbmdzJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRCaW5kaW5ncygpIHtcbiAgICAgICAgU2xpbS5kZWJ1ZygnX3Jlc2V0QmluZGluZ3MnLCB0aGlzLmxvY2FsTmFtZSk7XG4gICAgICAgIHRoaXNbXyQyXS5iaW5kaW5ncyA9IHt9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ19yZW5kZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXIoY3VzdG9tVGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgU2xpbS5kZWJ1ZygnX3JlbmRlcicsIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgU2xpbS5leGVjdXRlUGx1Z2lucygnYmVmb3JlUmVuZGVyJywgdGhpcyk7XG4gICAgICAgIHRoaXNbXyQyXS5oYXNDdXN0b21UZW1wbGF0ZSA9IGN1c3RvbVRlbXBsYXRlO1xuICAgICAgICB0aGlzLl9yZXNldEJpbmRpbmdzKCk7XG4gICAgICAgIHRoaXNbXyQyXS5yb290RWxlbWVudC5pbm5lckhUTUwgPSAnJztbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hpbGROb2RlcykpLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkTm9kZSkge1xuICAgICAgICAgIGlmIChjaGlsZE5vZGUubG9jYWxOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBfdGhpczNbXyQyXS5leHRlcm5hbFN0eWxlID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgY2hpbGROb2RlLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXNbXyQyXS5oYXNDdXN0b21UZW1wbGF0ZSB8fCB0aGlzLnRlbXBsYXRlO1xuICAgICAgICBpZiAodGVtcGxhdGUgJiYgdHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2xpbS1yb290LWZyYWdtZW50Jyk7XG4gICAgICAgICAgZnJhZy5pbm5lckhUTUwgPSB0ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgICB2YXIgc2NvcGVkQ2hpbGRyZW4gPSBTbGltLnFTZWxlY3RBbGwoZnJhZywgJyonKTtcbiAgICAgICAgICBpZiAodGhpc1tfJDJdLmV4dGVybmFsU3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRDaGlsZHJlbihbdGhpc1tfJDJdLmV4dGVybmFsU3R5bGVdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fYmluZENoaWxkcmVuKHNjb3BlZENoaWxkcmVuKTtcbiAgICAgICAgICBTbGltLmFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgU2xpbS5tb3ZlQ2hpbGRyZW4oZnJhZywgX3RoaXMzW18kMl0ucm9vdEVsZW1lbnQgfHwgX3RoaXMzKTtcbiAgICAgICAgICAgIF90aGlzM1tfJDJdLmV4dGVybmFsU3R5bGUgJiYgX3RoaXMzW18kMl0ucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMzW18kMl0uZXh0ZXJuYWxTdHlsZSk7XG4gICAgICAgICAgICBfdGhpczMuX2V4ZWN1dGVCaW5kaW5ncygpO1xuICAgICAgICAgICAgX3RoaXMzLm9uUmVuZGVyKCk7XG4gICAgICAgICAgICBTbGltLmV4ZWN1dGVQbHVnaW5zKCdhZnRlclJlbmRlcicsIF90aGlzMyk7XG4gICAgICAgICAgICBfdGhpczMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2FmdGVyUmVuZGVyJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnX2luaXRpYWxpemUnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKCkge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICBTbGltLmRlYnVnKCdfaW5pdGlhbGl6ZScsIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgU2xpbS5fJCh0aGlzKTtcbiAgICAgICAgdGhpc1tfJDJdLnVuaXF1ZUluZGV4ID0gU2xpbS5jcmVhdGVVbmlxdWVJbmRleCgpO1xuICAgICAgICBpZiAodGhpcy51c2VTaGFkb3cpIHtcbiAgICAgICAgICAvLyB0aGlzW18kXS5yb290RWxlbWVudCA9IHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOidvcGVuJ30pXG4gICAgICAgICAgdGhpc1tfJDJdLnJvb3RFbGVtZW50ID0gdGhpcy5jcmVhdGVTaGFkb3dSb290KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1tfJDJdLnJvb3RFbGVtZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLnNldEF0dHJpYnV0ZSgnc2xpbS11cScsIHRoaXNbXyRdLnVuaXF1ZUluZGV4KVxuICAgICAgICB2YXIgb2JzZXJ2ZWRBdHRyaWJ1dGVzID0gdGhpcy5jb25zdHJ1Y3Rvci5vYnNlcnZlZEF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChvYnNlcnZlZEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBvYnNlcnZlZEF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgdmFyIHBOYW1lID0gU2xpbS5kYXNoVG9DYW1lbChhdHRyKTtcbiAgICAgICAgICAgIF90aGlzNFtwTmFtZV0gPSBfdGhpczQuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNsaW0gcHVibGljIC8gcHJvdGVjdGVkIEFQSVxuXG4gICAgfSwge1xuICAgICAga2V5OiAnY29tbWl0JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21taXQoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICB9XG5cbiAgICAgICAgU2xpbS5jb21taXQuYXBwbHkoU2xpbSwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICB9XG5cbiAgICAgICAgU2xpbS51cGRhdGUuYXBwbHkoU2xpbSwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIodHBsKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcih0cGwpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ29uUmVuZGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlbmRlcigpIHt9XG4gICAgfSwge1xuICAgICAga2V5OiAnb25CZWZvcmVDcmVhdGVkJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJlZm9yZUNyZWF0ZWQoKSB7fVxuICAgIH0sIHtcbiAgICAgIGtleTogJ29uQ3JlYXRlZCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25DcmVhdGVkKCkge31cbiAgICB9LCB7XG4gICAgICBrZXk6ICdvbkFkZGVkJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkFkZGVkKCkge31cbiAgICB9LCB7XG4gICAgICBrZXk6ICdvblJlbW92ZWQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVtb3ZlZCgpIHt9XG4gICAgfSwge1xuICAgICAga2V5OiAnZmluZCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpc1tfJDJdLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2ZpbmRBbGwnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRBbGwoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIFNsaW0ucVNlbGVjdEFsbCh0aGlzW18kMl0ucm9vdEVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjYWxsQXR0cmlidXRlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsQXR0cmlidXRlKGF0dHIsIGRhdGEpIHtcbiAgICAgICAgdmFyIGZuTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICBpZiAoZm5OYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbXyQyXS5ib3VuZFBhcmVudFtmbk5hbWVdKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnX2lzSW5Db250ZXh0JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICd1c2VTaGFkb3cnLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICd0ZW1wbGF0ZScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFNsaW0udGFnVG9UZW1wbGF0ZURpY3QuZ2V0KFNsaW0udGFnT2YodGhpcy5jb25zdHJ1Y3RvcikpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTbGltO1xuICB9KF9DdXN0b21FbGVtZW50KTtcblxuICBTbGltLnVuaXF1ZUluZGV4ID0gMDtcbiAgU2xpbS50YWdUb0NsYXNzRGljdCA9IG5ldyBNYXAoKTtcbiAgU2xpbS5jbGFzc1RvVGFnRGljdCA9IG5ldyBNYXAoKTtcbiAgU2xpbS50YWdUb1RlbXBsYXRlRGljdCA9IG5ldyBNYXAoKTtcbiAgU2xpbS5wbHVnaW5zID0ge1xuICAgICdjcmVhdGUnOiBbXSxcbiAgICAnYWRkZWQnOiBbXSxcbiAgICAnYmVmb3JlUmVuZGVyJzogW10sXG4gICAgJ2FmdGVyUmVuZGVyJzogW10sXG4gICAgJ3JlbW92ZWQnOiBbXVxuICB9O1xuXG4gIFNsaW0uZGVidWcgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBTbGltLmFzYXAgPSB3aW5kb3cgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/IGZ1bmN0aW9uIChjYikge1xuICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSA6IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24gKGNiKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDApO1xuICB9O1xuXG4gIFNsaW1bXyQyXSA9IHtcbiAgICBjdXN0b21EaXJlY3RpdmVzOiBuZXcgTWFwKCksXG4gICAgdW5pcXVlQ291bnRlcjogMCxcbiAgICBzdXBwb3J0ZWROYXRpdmVFdmVudHM6IFsnY2xpY2snLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ21vdXNlbW92ZScsICdtb3VzZWVudGVyJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ2RibGNsaWNrJywgJ2NvbnRleHRtZW51JywgJ3doZWVsJywgJ21vdXNlbGVhdmUnLCAnc2VsZWN0JywgJ3BvaW50ZXJsb2NrY2hhbmdlJywgJ3BvaW50ZXJsb2NrZXJyb3InLCAnZm9jdXMnLCAnYmx1cicsICdpbnB1dCcsICdlcnJvcicsICdpbnZhbGlkJywgJ2FuaW1hdGlvbnN0YXJ0JywgJ2FuaW1hdGlvbmVuZCcsICdhbmltYXRpb25pdGVyYXRpb24nLCAncmVzZXQnLCAnc3VibWl0JywgJ3Jlc2l6ZScsICdzY3JvbGwnLCAna2V5ZG93bicsICdrZXlwcmVzcycsICdrZXl1cCcsICdjaGFuZ2UnXVxuICB9O1xuXG4gIFNsaW0uY3VzdG9tRGlyZWN0aXZlKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgcmV0dXJuICgvXnM6aXRlcmF0ZSQvLnRlc3QoYXR0ci5ub2RlTmFtZSlcbiAgICApO1xuICB9LCBmdW5jdGlvbiAoKSB7fSwgdHJ1ZSk7XG5cbiAgLy8gc3VwcG9ydGVkIGV2ZW50cyAoaS5lLiBjbGljaywgbW91c2VvdmVyLCBjaGFuZ2UuLi4pXG4gIFNsaW0uY3VzdG9tRGlyZWN0aXZlKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgcmV0dXJuIFNsaW1bXyQyXS5zdXBwb3J0ZWROYXRpdmVFdmVudHMuaW5kZXhPZihhdHRyLm5vZGVOYW1lKSA+PSAwO1xuICB9LCBmdW5jdGlvbiAoc291cmNlLCB0YXJnZXQsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBldmVudE5hbWUgPSBhdHRyaWJ1dGUubm9kZU5hbWU7XG4gICAgdmFyIGRlbGVnYXRlID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIFNsaW0uXyQodGFyZ2V0KS5ldmVudEhhbmRsZXJzID0gdGFyZ2V0W18kMl0uZXZlbnRIYW5kbGVycyB8fCB7fTtcbiAgICB2YXIgYWxsSGFuZGxlcnMgPSB0YXJnZXRbXyQyXS5ldmVudEhhbmRsZXJzO1xuICAgIGFsbEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBhbGxIYW5kbGVyc1tldmVudE5hbWVdIHx8IFtdO1xuICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzb3VyY2VbZGVsZWdhdGVdLmNhbGwoc291cmNlLCBlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubWVzc2FnZSA9ICdDb3VsZCBub3QgcmVzcG9uZCB0byBldmVudCBcIicgKyBldmVudE5hbWUgKyAnXCIgb24gJyArIHRhcmdldC5sb2NhbE5hbWUgKyAnIC0+IFwiJyArIGRlbGVnYXRlICsgJ1wiIG9uICcgKyBzb3VyY2UubG9jYWxOYW1lICsgJyAuLi4gJyArIGVyci5tZXNzYWdlO1xuICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGFsbEhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIGhhbmRsZXIgPSBudWxsO1xuICB9KTtcblxuICBTbGltLmN1c3RvbURpcmVjdGl2ZShmdW5jdGlvbiAoYXR0cikge1xuICAgIHJldHVybiAoL15zOmlmJC8uZXhlYyhhdHRyLm5vZGVOYW1lKVxuICAgICk7XG4gIH0sIGZ1bmN0aW9uIChzb3VyY2UsIHRhcmdldCwgYXR0cmlidXRlKSB7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgdmFyIHBhdGggPSBleHByZXNzaW9uO1xuICAgIHZhciBpc05lZ2F0aXZlID0gZmFsc2U7XG4gICAgaWYgKHBhdGguY2hhckF0KDApID09PSAnIScpIHtcbiAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDEpO1xuICAgICAgaXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHZhciBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdpZjonICsgZXhwcmVzc2lvbik7XG4gICAgdGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGFuY2hvciwgdGFyZ2V0KTtcbiAgICB2YXIgZm4gPSBmdW5jdGlvbiBmbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IFNsaW0ubG9va3VwKHNvdXJjZSwgcGF0aCwgdGFyZ2V0KTtcbiAgICAgIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgICAgIHZhbHVlID0gIXZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGFuY2hvci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YXJnZXQsIGFuY2hvci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTbGltLnJlbW92ZUNoaWxkKHRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBTbGltLmJpbmQoc291cmNlLCB0YXJnZXQsIHBhdGgsIGZuKTtcbiAgfSwgdHJ1ZSk7XG5cbiAgLy8gYmluZCAodGV4dCBub2RlcylcbiAgU2xpbS5jdXN0b21EaXJlY3RpdmUoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICByZXR1cm4gKC9eYmluZCQvLnRlc3QoYXR0ci5ub2RlTmFtZSlcbiAgICApO1xuICB9LCBmdW5jdGlvbiAoc291cmNlLCB0YXJnZXQpIHtcbiAgICBTbGltLl8kKHRhcmdldCk7XG4gICAgdGFyZ2V0W18kMl0uc291cmNlVGV4dCA9IHRhcmdldC5pbm5lclRleHQ7XG4gICAgdmFyIHVwZGF0ZWRUZXh0ID0gJyc7XG4gICAgdmFyIG1hdGNoZXMgPSB0YXJnZXQuaW5uZXJUZXh0Lm1hdGNoKC9cXHtcXHsoW15cXH1cXH1dKykrXFx9XFx9L2cpO1xuICAgIHZhciBhZ2dQcm9wcyA9IHt9O1xuICAgIHZhciB0ZXh0QmluZHMgPSB7fTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChleHByZXNzaW9uKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJ4TSA9IC9cXHtcXHsoLispKFxcKCguKylcXCkpezF9XFx9XFx9Ly5leGVjKGV4cHJlc3Npb24pO1xuICAgICAgICBpZiAocnhNKSB7XG4gICAgICAgICAgdmFyIGZuTmFtZSA9IHJ4TVsxXTtcbiAgICAgICAgICB2YXIgcE5hbWVzID0gcnhNWzNdLnNwbGl0KCcgJykuam9pbignJykuc3BsaXQoJywnKTtcbiAgICAgICAgICBwTmFtZXMubWFwKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5zcGxpdCgnLicpWzBdO1xuICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHJldHVybiBhZ2dQcm9wc1twXSA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGV4dEJpbmRzW2V4cHJlc3Npb25dID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBwTmFtZXMubWFwKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBTbGltLmxvb2t1cChzb3VyY2UsIHBhdGgsIHRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtmbk5hbWVdLmFwcGx5KHNvdXJjZSwgYXJncyk7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICB1cGRhdGVkVGV4dCA9IHVwZGF0ZWRUZXh0LnNwbGl0KGV4cHJlc3Npb24pLmpvaW4odmFsdWUgfHwgJycpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByeFAgPSAvXFx7XFx7KC4rW14oXFwoKC4rKVxcKSldKVxcfVxcfS8uZXhlYyhleHByZXNzaW9uKTtcbiAgICAgICAgaWYgKHJ4UCkge1xuICAgICAgICAgIHZhciBwYXRoID0gcnhQWzFdO1xuICAgICAgICAgIGFnZ1Byb3BzW3BhdGhdID0gdHJ1ZTtcbiAgICAgICAgICB0ZXh0QmluZHNbZXhwcmVzc2lvbl0gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBTbGltLmxvb2t1cChzb3VyY2UsIHBhdGgsIHRhcmdldCk7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICB1cGRhdGVkVGV4dCA9IHVwZGF0ZWRUZXh0LnNwbGl0KGV4cHJlc3Npb24pLmpvaW4odmFsdWUgfHwgJycpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGNoYWluRXhlY3V0b3IgPSBmdW5jdGlvbiBjaGFpbkV4ZWN1dG9yKCkge1xuICAgICAgICB1cGRhdGVkVGV4dCA9IHRhcmdldFtfJDJdLnNvdXJjZVRleHQ7XG4gICAgICAgIE9iamVjdC5rZXlzKHRleHRCaW5kcykuZm9yRWFjaChmdW5jdGlvbiAoZXhwcmVzc2lvbikge1xuICAgICAgICAgIHRleHRCaW5kc1tleHByZXNzaW9uXSh0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGFyZ2V0LmlubmVyVGV4dCA9IHVwZGF0ZWRUZXh0O1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5rZXlzKGFnZ1Byb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIFNsaW0uYmluZChzb3VyY2UsIHRhcmdldCwgcHJvcCwgY2hhaW5FeGVjdXRvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIFNsaW0uY3VzdG9tRGlyZWN0aXZlKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgcmV0dXJuICgvXnM6aWQkLy50ZXN0KGF0dHIubm9kZU5hbWUpXG4gICAgKTtcbiAgfSwgZnVuY3Rpb24gKHNvdXJjZSwgdGFyZ2V0LCBhdHRyaWJ1dGUpIHtcbiAgICBTbGltLl8kKHRhcmdldCkuYm91bmRQYXJlbnRbYXR0cmlidXRlLnZhbHVlXSA9IHRhcmdldDtcbiAgfSk7XG5cbiAgLy8gYmluZDpwcm9wZXJ0eVxuICBTbGltLmN1c3RvbURpcmVjdGl2ZShmdW5jdGlvbiAoYXR0cikge1xuICAgIHJldHVybiAoL14oYmluZCk6KFxcUyspLy5leGVjKGF0dHIubm9kZU5hbWUpXG4gICAgKTtcbiAgfSwgZnVuY3Rpb24gKHNvdXJjZSwgdGFyZ2V0LCBhdHRyaWJ1dGUsIG1hdGNoKSB7XG4gICAgdmFyIHRBdHRyID0gbWF0Y2hbMl07XG4gICAgdmFyIHRQcm9wID0gU2xpbS5kYXNoVG9DYW1lbCh0QXR0cik7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgdmFyIG9sZFZhbHVlID0gdm9pZCAwO1xuICAgIHZhciByeE0gPSBTbGltLnJ4TWV0aG9kLmV4ZWMoZXhwcmVzc2lvbik7XG4gICAgaWYgKHJ4TSkge1xuICAgICAgdmFyIHBOYW1lcyA9IHJ4TVszXS5zcGxpdCgnICcpLmpvaW4oJycpLnNwbGl0KCcsJyk7XG4gICAgICBwTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAocE5hbWUpIHtcbiAgICAgICAgU2xpbS5iaW5kKHNvdXJjZSwgdGFyZ2V0LCBwTmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBmbiA9IFNsaW0ubG9va3VwKHNvdXJjZSwgcnhNWzFdLCB0YXJnZXQpO1xuICAgICAgICAgIHZhciBhcmdzID0gcE5hbWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIFNsaW0ubG9va3VwKHNvdXJjZSwgcHJvcCwgdGFyZ2V0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBmbi5hcHBseShzb3VyY2UsIGFyZ3MpO1xuICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgICB0YXJnZXRbdFByb3BdID0gdmFsdWU7XG4gICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSh0QXR0ciwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcnhQID0gU2xpbS5yeFByb3AuZXhlYyhleHByZXNzaW9uKTtcbiAgICBpZiAocnhQKSB7XG4gICAgICB2YXIgcHJvcCA9IHJ4UFsxXTtcbiAgICAgIFNsaW0uYmluZChzb3VyY2UsIHRhcmdldCwgcHJvcCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBTbGltLmxvb2t1cChzb3VyY2UsIGV4cHJlc3Npb24sIHRhcmdldCk7XG4gICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSh0QXR0ciwgdmFsdWUpO1xuICAgICAgICB0YXJnZXRbdFByb3BdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIF9fZmxhZ3MuaXNDaHJvbWUgJiYgU2xpbS5jdXN0b21EaXJlY3RpdmUoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICByZXR1cm4gKC9eczpyZXBlYXQkLy50ZXN0KGF0dHIubm9kZU5hbWUpXG4gICAgKTtcbiAgfSwgZnVuY3Rpb24gKHNvdXJjZSwgdGVtcGxhdGVOb2RlLCBhdHRyaWJ1dGUpIHtcbiAgICB2YXIgcGF0aCA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB2YXIgdFByb3AgPSAnZGF0YSc7XG4gICAgaWYgKHBhdGguaW5kZXhPZignIGFzJykpIHtcbiAgICAgIHRQcm9wID0gcGF0aC5zcGxpdCgnIGFzICcpWzFdIHx8IHRQcm9wO1xuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJyBhcyAnKVswXTtcbiAgICB9XG5cbiAgICB2YXIgY2xvbmVzID0gW107XG4gICAgdmFyIGhvb2sgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRlbXBsYXRlTm9kZS5sb2NhbE5hbWUgKyAnIHM6cmVwZWF0PVwiJyArIGF0dHJpYnV0ZS52YWx1ZSArICdcIicpO1xuICAgIHZhciB0ZW1wbGF0ZUhUTUwgPSB2b2lkIDA7XG4gICAgU2xpbS5fJChob29rKTtcbiAgICBTbGltLnNlbGVjdFJlY3Vyc2l2ZSh0ZW1wbGF0ZU5vZGUsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBTbGltLl8kKGUpLmV4Y2x1ZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICB0ZW1wbGF0ZU5vZGUucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoaG9vaywgdGVtcGxhdGVOb2RlKTtcbiAgICB0ZW1wbGF0ZU5vZGUucmVtb3ZlKCk7XG4gICAgU2xpbS51bmJpbmQoc291cmNlLCB0ZW1wbGF0ZU5vZGUpO1xuICAgIFNsaW0uYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICB0ZW1wbGF0ZU5vZGUuc2V0QXR0cmlidXRlKCdzOml0ZXJhdGUnLCAnJyk7XG4gICAgICB0ZW1wbGF0ZU5vZGUucmVtb3ZlQXR0cmlidXRlKCdzOnJlcGVhdCcpO1xuICAgICAgdGVtcGxhdGVIVE1MID0gdGVtcGxhdGVOb2RlLm91dGVySFRNTDtcbiAgICAgIHRlbXBsYXRlTm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICB9KTtcbiAgICB2YXIgb2xkRGF0YVNvdXJjZSA9IFtdO1xuICAgIFNsaW0uYmluZChzb3VyY2UsIGhvb2ssIHBhdGgsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYXRhU291cmNlID0gU2xpbS5sb29rdXAoc291cmNlLCBwYXRoKSB8fCBbXTtcbiAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgdmFyIHJlc3RPZkRhdGEgPSBbXTtcbiAgICAgIC8vIGdldCB0aGUgZGlmZlxuICAgICAgdmFyIGRpZmYgPSBBcnJheShkYXRhU291cmNlLmxlbmd0aCk7XG4gICAgICBkYXRhU291cmNlLmZvckVhY2goZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgaWYgKG9sZERhdGFTb3VyY2VbaV0gIT09IGQpIHtcbiAgICAgICAgICBkaWZmW2ldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvbGREYXRhU291cmNlID0gZGF0YVNvdXJjZS5jb25jYXQoKTtcbiAgICAgIHZhciBpbmRpY2VzID0gT2JqZWN0LmtleXMoZGlmZik7XG4gICAgICBpZiAoZGF0YVNvdXJjZS5sZW5ndGggPCBjbG9uZXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBkaXNwb3NhYmxlcyA9IGNsb25lcy5zbGljZShkYXRhU291cmNlLmxlbmd0aCk7XG4gICAgICAgIGNsb25lcyA9IGNsb25lcy5zbGljZSgwLCBkYXRhU291cmNlLmxlbmd0aCk7XG4gICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gdW5iaW5kIGRpc3Bvc2FibGVzP1xuICAgICAgICBpbmRpY2VzLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgdmFyIGNsb25lID0gY2xvbmVzW2luZGV4XTtbY2xvbmVdLmNvbmNhdChTbGltLnFTZWxlY3RBbGwoY2xvbmUsICcqJykpLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHRbXyQyXS5yZXBlYXRlclt0UHJvcF0gPSBkYXRhU291cmNlW2luZGV4XTtcbiAgICAgICAgICAgIFNsaW0uY29tbWl0KHQsIHRQcm9wKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZWN5Y2xlXG4gICAgICAgIGNsb25lcy5sZW5ndGggJiYgaW5kaWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIHZhciBjbG9uZSA9IGNsb25lc1tpbmRleF07XG4gICAgICAgICAgaWYgKCFjbG9uZSkgcmV0dXJuO1xuICAgICAgICAgIFtjbG9uZV0uY29uY2F0KFNsaW0ucVNlbGVjdEFsbChjbG9uZSwgJyonKSkuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgdFtfJDJdLnJlcGVhdGVyW3RQcm9wXSA9IGRhdGFTb3VyY2VbaW5kZXhdO1xuICAgICAgICAgICAgU2xpbS5jb21taXQodCwgdFByb3ApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzdE9mRGF0YSA9IGRhdGFTb3VyY2Uuc2xpY2UoY2xvbmVzLmxlbmd0aCk7XG4gICAgICAgIG9mZnNldCA9IGNsb25lcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoIXJlc3RPZkRhdGEubGVuZ3RoKSByZXR1cm47XG4gICAgICAvLyBuZXcgY2xvbmVzXG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoaG9vayk7XG4gICAgICB2YXIgaHRtbCA9IEFycmF5KHJlc3RPZkRhdGEubGVuZ3RoKS5maWxsKHRlbXBsYXRlSFRNTCkuam9pbignJyk7XG4gICAgICB2YXIgZnJhZyA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKTtcbiAgICAgIHZhciBhbGwgPSBbXTtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgZnJhZy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGUgPSBmcmFnLmNoaWxkcmVuLml0ZW0oaSk7XG4gICAgICAgIGNsb25lcy5wdXNoKGUpO1xuICAgICAgICBhbGwucHVzaChlKTtcbiAgICAgICAgU2xpbS5fJChlKS5yZXBlYXRlclt0UHJvcF0gPSBkYXRhU291cmNlW2kgKyBvZmZzZXRdO1xuICAgICAgICB2YXIgc3ViVHJlZSA9IFNsaW0ucVNlbGVjdEFsbChlLCAnKicpO1xuICAgICAgICBzdWJUcmVlLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICBhbGwucHVzaCh0KTtcbiAgICAgICAgICBTbGltLl8kKHQpLnJlcGVhdGVyW3RQcm9wXSA9IGRhdGFTb3VyY2VbaSArIG9mZnNldF07XG4gICAgICAgICAgU2xpbS5jb21taXQodCwgdFByb3ApO1xuICAgICAgICB9KTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgc291cmNlLl9iaW5kQ2hpbGRyZW4oYWxsKTtcbiAgICAgIGFsbC5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0Ll9faXNTbGltKSB7XG4gICAgICAgICAgdC5jcmVhdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICBTbGltLmFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgU2xpbS5jb21taXQodCwgdFByb3ApO1xuICAgICAgICAgICAgdFt0UHJvcF0gPSB0W18kMl0ucmVwZWF0ZXJbdFByb3BdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNsaW0uY29tbWl0KHQsIHRQcm9wKTtcbiAgICAgICAgICB0W3RQcm9wXSA9IHRbXyQyXS5yZXBlYXRlclt0UHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaG9vay5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShmcmFnLCBob29rKTtcbiAgICB9KTtcbiAgICBzb3VyY2VbXyQyXS5yZXZlcnNlZFt0UHJvcF0gPSB0cnVlO1xuICB9LCB0cnVlKTtcblxuICAhX19mbGFncy5pc0Nocm9tZSAmJiBTbGltLmN1c3RvbURpcmVjdGl2ZShmdW5jdGlvbiAoYXR0cikge1xuICAgIHJldHVybiAoL15zOnJlcGVhdCQvLnRlc3QoYXR0ci5ub2RlTmFtZSlcbiAgICApO1xuICB9LCBmdW5jdGlvbiAoc291cmNlLCB0ZW1wbGF0ZU5vZGUsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBwYXRoID0gYXR0cmlidXRlLm5vZGVWYWx1ZTtcbiAgICB2YXIgdFByb3AgPSAnZGF0YSc7XG4gICAgaWYgKHBhdGguaW5kZXhPZignIGFzJykpIHtcbiAgICAgIHRQcm9wID0gcGF0aC5zcGxpdCgnIGFzICcpWzFdIHx8IHRQcm9wO1xuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJyBhcyAnKVswXTtcbiAgICB9XG5cbiAgICB2YXIgcmVwZWF0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbGltLXJlcGVhdCcpO1xuICAgIHJlcGVhdGVyW18kMl0uYm91bmRQYXJlbnQgPSBzb3VyY2U7XG4gICAgcmVwZWF0ZXIuZGF0YVByb3AgPSB0UHJvcDtcbiAgICByZXBlYXRlci5kYXRhUGF0aCA9IGF0dHJpYnV0ZS5ub2RlVmFsdWU7XG4gICAgcmVwZWF0ZXIudGVtcGxhdGVOb2RlID0gdGVtcGxhdGVOb2RlLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXBlYXRlci50ZW1wbGF0ZU5vZGUucmVtb3ZlQXR0cmlidXRlKCdzOnJlcGVhdCcpO1xuICAgIHRlbXBsYXRlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZXBlYXRlciwgdGVtcGxhdGVOb2RlKTtcbiAgICBTbGltLnJlbW92ZUNoaWxkKHRlbXBsYXRlTm9kZSk7XG4gICAgU2xpbS5iaW5kKHNvdXJjZSwgcmVwZWF0ZXIsIHBhdGgsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYXRhU291cmNlID0gU2xpbS5sb29rdXAoc291cmNlLCBwYXRoKTtcbiAgICAgIHJlcGVhdGVyLmRhdGFTb3VyY2UgPSBkYXRhU291cmNlIHx8IFtdO1xuICAgIH0pO1xuXG4gICAgLy8gc291cmNlLl9leGVjdXRlQmluZGluZ3MoKVxuICB9LCB0cnVlKTtcblxuICB2YXIgU2xpbVJlcGVhdGVyID0gZnVuY3Rpb24gKF9TbGltKSB7XG4gICAgX2luaGVyaXRzKFNsaW1SZXBlYXRlciwgX1NsaW0pO1xuXG4gICAgZnVuY3Rpb24gU2xpbVJlcGVhdGVyKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaW1SZXBlYXRlcik7XG5cbiAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2xpbVJlcGVhdGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpbVJlcGVhdGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNsaW1SZXBlYXRlciwgW3tcbiAgICAgIGtleTogJ19iaW5kQ2hpbGRyZW4nLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kQ2hpbGRyZW4odHJlZSkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB0cmVlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodHJlZSk7XG4gICAgICAgIHZhciBkaXJlY3RDaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh0cmVlLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQucGFyZW50Tm9kZS5sb2NhbE5hbWUgPT09ICdzbGltLXJvb3QtZnJhZ21lbnQnO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlyZWN0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzOml0ZXJhdGUnLCBfdGhpczYuZGF0YVBhdGggKyAnIDogJyArIGluZGV4KTtcbiAgICAgICAgICBTbGltLnNlbGVjdFJlY3Vyc2l2ZShjaGlsZCkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgU2xpbS5fJChlKS5yZXBlYXRlcltfdGhpczYuZGF0YVByb3BdID0gX3RoaXM2LmRhdGFTb3VyY2VbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBTbGltKSB7XG4gICAgICAgICAgICAgIGVbX3RoaXM2LmRhdGFQcm9wXSA9IF90aGlzNi5kYXRhU291cmNlW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnb25SZW5kZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuYm91bmRQYXJlbnQpIHJldHVybjtcbiAgICAgICAgdmFyIHRyZWUgPSBTbGltLnNlbGVjdFJlY3Vyc2l2ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5ib3VuZFBhcmVudCAmJiB0aGlzLmJvdW5kUGFyZW50Ll9iaW5kQ2hpbGRyZW4odHJlZSk7XG4gICAgICAgIHRoaXMuYm91bmRQYXJlbnQuX2V4ZWN1dGVCaW5kaW5ncygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRQYXJlbnQpIHJldHVybjtcbiAgICAgICAgU2xpbS5xU2VsZWN0QWxsKHRoaXMsICcqJykuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIFNsaW0udW5iaW5kKF90aGlzNy5ib3VuZFBhcmVudCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMuZGF0YVNvdXJjZSB8fCAhdGhpcy50ZW1wbGF0ZU5vZGUgfHwgIXRoaXMuYm91bmRQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX2dldChTbGltUmVwZWF0ZXIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpbVJlcGVhdGVyLnByb3RvdHlwZSksICdyZW5kZXInLCB0aGlzKS5jYWxsKHRoaXMsICcnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3VGVtcGxhdGUgPSBBcnJheSh0aGlzLmRhdGFTb3VyY2UubGVuZ3RoKS5maWxsKHRoaXMudGVtcGxhdGVOb2RlLm91dGVySFRNTCkuam9pbignJyk7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIF9nZXQoU2xpbVJlcGVhdGVyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNsaW1SZXBlYXRlci5wcm90b3R5cGUpLCAncmVuZGVyJywgdGhpcykuY2FsbCh0aGlzLCBuZXdUZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZGF0YVNvdXJjZScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2U7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgICBpZiAodGhpcy5fZGF0YVNvdXJjZSAhPT0gdikge1xuICAgICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSB2O1xuICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdib3VuZFBhcmVudCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbXyQyXS5ib3VuZFBhcmVudDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2xpbVJlcGVhdGVyO1xuICB9KFNsaW0pO1xuXG4gIFNsaW0udGFnKCdzbGltLXJlcGVhdCcsIFNsaW1SZXBlYXRlcik7XG5cbiAgaWYgKHdpbmRvdykge1xuICAgIHdpbmRvd1snU2xpbSddID0gU2xpbTtcbiAgfVxuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5TbGltID0gU2xpbTtcbiAgfVxufSkod2luZG93LCBkb2N1bWVudCwgSFRNTEVsZW1lbnQpO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Jvd2VyX2NvbXBvbmVudHMvc2xpbWpzL1NsaW0uanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

eval("var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(5);\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzP2QxZWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6), __webpack_require__(7)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzPzZiMzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLHNCQUFzQixFQUFFO0FBQ2xFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzBmODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2goZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxuXHRcdGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanM/NDEyNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports) {

eval("\t\tSlim.tag(\n\t\t\t'my-tag',\n\t\t\t`<div>Web Component version</div>\n\t\t\t<div>Citation:</div>\n\t\t\t<div>\n\t\t\t<span bind>{{Authors}}.</span>\n\t\t\t<span bind>{{Year}}.</span>\n\t\t\t<span bind>{{Dataset}}</span>\n\t\t\t<span style=\"font-style: italic;\" bind>{{Title}}.</span>\n\t\t\t<span bind>{{Archive}}</span>\n\t\t\t<span bind>{{Version}}</span>\n\t\t\t<span bind>Retrieved from {{PID}}</span>\n\t\t\t</div>`,\n\t\t\tclass MyTag extends Slim {\n\t\t\t\t// your code here\n\t\t\t\tonBeforeCreated() {\n\t\t\t\t\tvar element = document.getElementById('test');\n\t\t\t\t\tvar jsonld = element.innerHTML;\n\n\t\t\t\t\t// var promises = jsonld.promises;\n\t\t\t\t\t// var promise = promises.flatten(doc);\n\t\t\t\t\t// promise.then(function (flattened) { this.myMessage = flattened }, function (err) { this.myMessage = flattened });\n\n\t\t\t\t\tvar obj = JSON.parse(jsonld);\n\n\t\t\t\t\tthis.Authors = obj.publisher.name\n\t\t\t\t\tthis.Year = \"\"\n\t\t\t\t\tthis.Dataset = obj.name\n\t\t\t\t\tthis.Title = obj.description\n\t\t\t\t\tthis.Archive = \"\"\n\t\t\t\t\tthis.Version = \"\"\n\t\t\t\t\tthis.PID = obj.url\n\t\t\t\t}\n\t\t\t})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90YWcyLmpzP2Q2ZWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLGdCQUFnQixNQUFNO0FBQ3RCLGdCQUFnQixTQUFTO0FBQ3pCLG1DQUFtQyxTQUFTLE9BQU87QUFDbkQsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsK0JBQStCLEtBQUs7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsNkJBQTZCLGtCQUFrQiw2QkFBNkI7O0FBRXZIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcdFx0U2xpbS50YWcoXG5cdFx0XHQnbXktdGFnJyxcblx0XHRcdGA8ZGl2PldlYiBDb21wb25lbnQgdmVyc2lvbjwvZGl2PlxuXHRcdFx0PGRpdj5DaXRhdGlvbjo8L2Rpdj5cblx0XHRcdDxkaXY+XG5cdFx0XHQ8c3BhbiBiaW5kPnt7QXV0aG9yc319Ljwvc3Bhbj5cblx0XHRcdDxzcGFuIGJpbmQ+e3tZZWFyfX0uPC9zcGFuPlxuXHRcdFx0PHNwYW4gYmluZD57e0RhdGFzZXR9fTwvc3Bhbj5cblx0XHRcdDxzcGFuIHN0eWxlPVwiZm9udC1zdHlsZTogaXRhbGljO1wiIGJpbmQ+e3tUaXRsZX19Ljwvc3Bhbj5cblx0XHRcdDxzcGFuIGJpbmQ+e3tBcmNoaXZlfX08L3NwYW4+XG5cdFx0XHQ8c3BhbiBiaW5kPnt7VmVyc2lvbn19PC9zcGFuPlxuXHRcdFx0PHNwYW4gYmluZD5SZXRyaWV2ZWQgZnJvbSB7e1BJRH19PC9zcGFuPlxuXHRcdFx0PC9kaXY+YCxcblx0XHRcdGNsYXNzIE15VGFnIGV4dGVuZHMgU2xpbSB7XG5cdFx0XHRcdC8vIHlvdXIgY29kZSBoZXJlXG5cdFx0XHRcdG9uQmVmb3JlQ3JlYXRlZCgpIHtcblx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0Jyk7XG5cdFx0XHRcdFx0dmFyIGpzb25sZCA9IGVsZW1lbnQuaW5uZXJIVE1MO1xuXG5cdFx0XHRcdFx0Ly8gdmFyIHByb21pc2VzID0ganNvbmxkLnByb21pc2VzO1xuXHRcdFx0XHRcdC8vIHZhciBwcm9taXNlID0gcHJvbWlzZXMuZmxhdHRlbihkb2MpO1xuXHRcdFx0XHRcdC8vIHByb21pc2UudGhlbihmdW5jdGlvbiAoZmxhdHRlbmVkKSB7IHRoaXMubXlNZXNzYWdlID0gZmxhdHRlbmVkIH0sIGZ1bmN0aW9uIChlcnIpIHsgdGhpcy5teU1lc3NhZ2UgPSBmbGF0dGVuZWQgfSk7XG5cblx0XHRcdFx0XHR2YXIgb2JqID0gSlNPTi5wYXJzZShqc29ubGQpO1xuXG5cdFx0XHRcdFx0dGhpcy5BdXRob3JzID0gb2JqLnB1Ymxpc2hlci5uYW1lXG5cdFx0XHRcdFx0dGhpcy5ZZWFyID0gXCJcIlxuXHRcdFx0XHRcdHRoaXMuRGF0YXNldCA9IG9iai5uYW1lXG5cdFx0XHRcdFx0dGhpcy5UaXRsZSA9IG9iai5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdHRoaXMuQXJjaGl2ZSA9IFwiXCJcblx0XHRcdFx0XHR0aGlzLlZlcnNpb24gPSBcIlwiXG5cdFx0XHRcdFx0dGhpcy5QSUQgPSBvYmoudXJsXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RhZzIuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ })
/******/ ]);